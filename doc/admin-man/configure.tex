%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{\label{sec:Configuring-Condor}
Configuration}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\index{Condor!configuration}
\index{configuration}

This section describes how to configure all parts of the Condor
system.  General information about the configuration
files and their syntax is followed by a description of
settings that affect all
Condor daemons and tools.  At the end is a section describing the
settings for each part of Condor.  The 
settings that control the policy under which Condor will start,
suspend, resume, vacate or kill jobs
are described in 
section~\ref{sec:Configuring-Policy} on Configuring Condor's Job
Execution Policy. 

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{\label{sec:Intro-to-Config-Files}
Introduction to Configuration Files}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

The Condor configuration files are used to customize how Condor
operates at a given site.  The basic configuration as shipped with
Condor works well for most sites, with few exceptions.

See section~\ref{sec:install} on
page~\pageref{sec:install}
for details on where
Condor's configuration files are found.

Each Condor program will, as part of its initialization process,
configure itself by calling a library routine which parses the
various configuration files that might be used including pool-wide,
platform-specific, machine-specific, and root-owned configuration files.
The result is a list of constants and expressions which are
evaluated as needed at run time.

The order in which attributes are defined is important, since later
definitions will override existing definitions.
This is particularly important if configuration files are broken up
using the \Macro{LOCAL\_CONFIG\_FILE} setting described in
sections~\ref{sec:Condor-wide-Config-File-Entries}
and~\ref{sec:Multiple-Platforms} below.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsubsection{\label{sec:Config-File-Macros}
Config File Macros}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\index{macro!in configuration file}
\index{configuration file!macro definitions}

Macro definitions are of the form:
\begin{verbatim}
        <macro_name> = <macro_definition>
\end{verbatim}

\Note You must have white space between the macro name, the
``='' sign, and the macro definition.

Macro invocations are of the form: 
\begin{verbatim}
        $(macro_name)
\end{verbatim}

Macro definitions may contain references to other macros, even ones
that aren't yet defined (so long as they are eventually defined in
your config files somewhere).
All macro expansion is done after all config files have been parsed
(with the exception of macros that reference themselves, described
below). 

\begin{verbatim}
        A = xxx
        C = $(A) 
\end{verbatim}
is a legal set of macro definitions, and the resulting value of 
\MacroNI{C} is
\Expr{xxx}.
Note that
\MacroNI{C} is actually bound to 
\MacroUNI{A}, not its value.

As a further example,
\begin{verbatim}
        A = xxx
        C = $(A)
        A = yyy
\end{verbatim}
is also a legal set of macro definitions, and the resulting value of
\MacroNI{C} is \Expr{yyy}.  

A macro may be incrementally defined by invoking itself in its
definition.  For example,
\begin{verbatim}
	A = xxx
	B = $(A)
	A = $(A)yyy
	A = $(A)zzz
\end{verbatim}
is a legal set of macro definitions, and the resulting value of 
\MacroNI{A}
is \Expr{xxxyyyzzz}.
Note that invocations of a macro in
its own definition are immediately
expanded.
\MacroUNI{A} is immediately expanded in line 3 of the example.
If it were not, then the definition would be impossible to
evaluate.

Recursively defined macros such as
\begin{verbatim}
    A = $(B)
    B = $(A)
\end{verbatim}
are not allowed.
They create definitions that Condor refuses to parse. 

\Note Macros should not be incrementally defined in the
\Macro{LOCAL\_ROOT\_CONFIG\_FILE} for security reasons.

\Note Condor used to distinguish between ``macros'' and ``expressions''
in its config files.
Beginning with Condor version 6.1.13, this distinction has been
removed.
For backward compatibility, you can still use ``:'' instead of ``=''
in your config files, and these attributes will just be treated as
macros.

All entries in a configuration file must have an operator,
which will be an equals sign (``='')
or a colon character (``:'').
Identifiers must be alphanumerics combined with the underscore character.
As a special case,
a line without an operator that begins with a left square bracket
will be ignored.
The following two-line example treats the first line as a comment,
and correctly handles the second line.
\begin{verbatim}
[Condor Settings]
my_classad = [ foo=bar ]
\end{verbatim}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsubsection{\label{sec:Config-File-Special}
Special Configuration File Macros}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\index{configuration file!\$ENV definition}
\index{\$ENV!in configuration file}
References to the Condor process's environment are allowed in the
configuration file.
Environment references are of the form:
\begin{verbatim}
        $ENV(environment_variable_name)
\end{verbatim}
For example, 
\begin{verbatim}
        A = $ENV(HOME)
\end{verbatim}
binds \MacroNI{A} to the value of the HOME environment variable.
Environment references are not currently used in standard Condor
configurations.
However, they can sometimes be useful in custom configurations.

\index{RANDOM\_CHOICE() macro!use in configuration file}
\index{\$RANDOM\_CHOICE()!in configuration}
\index{configuration macro!RANDOM\_CHOICE() macro}
This same syntax is used to allow a random choice of a parameter
within a configuration file.
These references are of the form:
\begin{verbatim}
        $RANDOM_CHOICE(list of parameters)
\end{verbatim}
This allows a random choice within the parameter list to be made
at configuration time.  Of the list of parameters, one is
chosen when encountered during configuration.  For example,
if one of the integers 0-8 (inclusive) should be randomly
chosen, the macro usage is
\begin{verbatim}
        $RANDOM_CHOICE(0,1,2,3,4,5,6,7,8)
\end{verbatim}
  See section~\ref{sec:randomchoiceusage} on
  page~\pageref{sec:randomchoiceusage}
  for an actual use of this specialized macro.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsubsection{\label{sec:Other-Syntax}
Comments and Line Continuations}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

A Condor configuration file can also contain comments or
line continuations.
A comment is any line beginning with a ``\#'' character.
A continuation is any entry that continues across multiples lines.
Line continuation is accomplished by placing the ``$\backslash$''
character at the end of any line to be continued onto another.
Valid examples of line continuation are
\begin{verbatim}
        START = (KeyboardIdle > 15 * $(MINUTE)) && \
                ((LoadAvg - CondorLoadAvg) <= 0.3)
\end{verbatim}
and
\begin{verbatim}
        ADMIN_MACHINES = condor.cs.wisc.edu, raven.cs.wisc.edu, \
                        stork.cs.wisc.edu, ostrich.cs.wisc.edu, \
                        bigbird.cs.wisc.edu
        HOSTALLOW_ADMIN = $(ADMIN_MACHINES)
\end{verbatim}

Note that a line continuation character may currently be used within
a comment, so the following example does \emph{not} set the
configuration variable \MacroNI{FOO}:
\begin{verbatim}
	# This comment includes the following line, so FOO is NOT set \
        FOO = BAR
\end{verbatim}
It is a poor idea to use this functionality, as it is likely to
stop working in future Condor releases.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsubsection{\label{sec:Pre-Defined-Macros}
Pre-Defined Macros}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\index{configuration!pre-defined macros}
Condor provides pre-defined macros that help configure Condor.
Pre-defined macros are listed as \MacroUNI{macro\_name}.

This first set are entries whose values are determined at
run time and cannot be overwritten.  These are inserted automatically by
the library routine which parses the configuration files.
\index{configuration file!pre-defined macros}
\begin{description}
  
\item[\MacroU{FULL\_HOSTNAME}] \label{param:FullHostname}
  The
  fully qualified hostname of the local machine (hostname plus domain
  name).
  
\item[\MacroU{HOSTNAME}] \label{param:Hostname}
  The hostname of the local machine (no domain name).
  
\item[\MacroU{IP\_ADDRESS}] \label{param:IpAddress}
  The ASCII string version of the local machine's IP address.

\item[\MacroU{TILDE}] \label{param:Tilde}
  The full path to the
  home directory of the Unix user condor, if such a user exists on the
  local machine.

\label{sec:Condor-Subsystem-Names}
\index{configuration file!subsystem names}
\item[\MacroU{SUBSYSTEM}] \label{param:Subsystem}
  The subsystem
  name of the daemon or tool that is evaluating the macro.
  This is a unique string which identifies a given daemon within the
  Condor system.  The possible subsystem names are:

\index{subsystem names}
\index{macro!subsystem names}
  \begin{itemize}
  \item STARTD
  \item SCHEDD
  \item MASTER
  \item COLLECTOR
  \item NEGOTIATOR
  \item KBDD 
  \item SHADOW
  \item STARTER
  \item CKPT\_SERVER
  \item SUBMIT
  \item GRIDMANAGER
  \label{list:subsystem names}
  \end{itemize}

\end{description}

This second set of macros are entries whose default values are
determined automatically at runtime but which can be overwritten.  
\index{configuration file!macros}
\begin{description}

\item[\MacroU{ARCH}] \label{param:Arch}
  Defines the string
  used to identify the architecture of the local machine to Condor.
  The \Condor{startd} will advertise itself with this attribute so
  that users can submit binaries compiled for a given platform and
  force them to run on the correct machines.  \Condor{submit} will
  append a requirement to the job ClassAd that it must
  run on the same \MacroNI{ARCH} and \MacroNI{OPSYS} of the machine where
  it was submitted, unless the user specifies \MacroNI{ARCH} and/or
  \MacroNI{OPSYS} explicitly in their submit file.  See the
  the \Condor{submit} manual page
  on page~\pageref{man-condor-submit} for details.

\item[\MacroU{OPSYS}] \label{param:OpSys}
  Defines the
  string used to identify the operating system of the local machine to
  Condor.
  If it is not defined in the configuration file, Condor will
  automatically insert the operating system of this machine as
  determined by \Prog{uname}.

\item[\MacroU{FILESYSTEM\_DOMAIN}]
  Defaults to the fully
  qualified hostname of the machine it is evaluated on.  See
  section~\ref{sec:Shared-Filesystem-Config-File-Entries}, Shared
  File System Configuration File Entries for the full description of
  its use and under what conditions you would want to change it.

\item[\MacroU{UID\_DOMAIN}]
  Defaults to the fully
  qualified hostname of the machine it is evaluated on.  See
  section~\ref{sec:Shared-Filesystem-Config-File-Entries} on ``Shared
  File System Configuration File Entries'' for the full description of
  its use and under what conditions you would want to change it.

\end{description}

Since \MacroUNI{ARCH} and \MacroUNI{OPSYS} will automatically be set to the
correct values, we recommend that you do not overwrite them.
Only do so if you know what you are doing.
  

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{\label{sec:Condor-wide-Config-File-Entries}
Condor-wide Configuration File Entries}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\index{configuration!Condor-wide configuration variables}

This section describes settings which affect all parts of the Condor
system. 
\begin{description}
  
\item[\Macro{CONDOR\_HOST}] \label{param:CondorHost} This macro is
  used to define the \MacroU{NEGOTIATOR\_HOST} and
  \MacroU{COLLECTOR\_HOST} macros.  Normally the \Condor{collector}
  and \Condor{negotiator} would run on the same machine.  If for some
  reason they were not run on the same machine,
  \MacroU{CONDOR\_HOST} would not be needed.  Some
  of the host-based security macros use \MacroUNI{CONDOR\_HOST} by
  default.  See section~\ref{sec:Host-Security}, Setting up
  IP/host-based security in Condor for details.
  
\item[\Macro{COLLECTOR\_HOST}] \label{param:CollectorHost} The
  hostname of the machine where the \Condor{collector} is running for
  your pool.  Normally it is defined with the \MacroUNI{CONDOR\_HOST}
  macro described above.  There is no default value for this macro;
  \Macro{COLLECTOR\_HOST} must be defined for your pool to work
  properly.

\item[\Macro{NEGOTIATOR\_HOST}] \label{param:NegotiatorHost} The
  hostname of the machine where the \Condor{negotiator} is running for
  your pool.  Normally it is defined with the \MacroUNI{CONDOR\_HOST}
  macro described above.  There is no default value for this macro;
  \Macro{NEGOTIATOR\_HOST} must be defined for your pool to work
  properly.

\item[\Macro{CONDOR\_VIEW\_HOST}] \label{param:CondorViewHost} The
  hostname of the machine where the CondorView server is running.
  This service is optional, and requires additional configuration if
  you want to enable it.  There is no default value for
  \Macro{CONDOR\_VIEW\_HOST}.  If \Macro{CONDOR\_VIEW\_HOST} is not
  defined, no CondorView server is used.
  See section~\ref{sec:Contrib-CondorView-Install} on
  page~\pageref{sec:Contrib-CondorView-Install} for more details.

\item[\Macro{SCHEDD\_HOST}] \label{param:ScheddHost} The
  hostname of the machine where the \Condor{schedd} is running for
  your pool.  This is the host that queues submitted jobs.  Note that,
  in most condor installations, there is a \Condor{schedd} running on
  each host from which jobs are submitted.  The default value of
  \Macro{SCHEDD\_HOST} is the current host.  For most pools, this
  macro is not defined.

\item[\Macro{RELEASE\_DIR}] \label{param:ReleaseDir} The full path to
  the Condor release directory, which holds the \File{bin},
  \File{etc}, \File{lib}, and \File{sbin} directories.  Other macros
  are defined relative to this one.  There is no default value for
  \Macro{RELEASE\_DIR}.

\item[\Macro{BIN}] \label{param:Bin} This directory points to the
  Condor directory where user-level programs are installed.  It is
  usually defined relative to the \MacroUNI{RELEASE\_DIR} macro.
  There is no default value for \Macro{BIN}.
  
\item[\Macro{LIB}] \label{param:Lib} This directory points to the
  Condor directory where libraries used to link jobs for Condor's
  standard universe are stored.  The \Condor{compile} program uses
  this macro to find these libraries, so it must be defined for
  \Condor{compile} to function.  \MacroUNI{LIB} is usually defined
  relative to the \MacroUNI{RELEASE\_DIR} macro, and has no default
  value.

\item[\Macro{SBIN}] \label{param:Sbin} This directory points to the
  Condor directory where Condor's system binaries (such as the
  binaries for the Condor daemons) and administrative tools are
  installed.  Whatever directory \MacroU{SBIN} points to ought
  to be in the \Env{PATH} of users acting as Condor
  administrators.  \Macro{SBIN} has no default value.

\item[\Macro{LOCAL\_DIR}] \label{param:LocalDir} The location of the
  local Condor directory on each machine in your pool.  One common
  option is to use the condor user's home directory which may be
  specified with \MacroUNI{TILDE}.  There is no default value for
  \Macro{LOCAL\_DIR}.  For example:
\begin{verbatim}
        LOCAL_DIR = $(tilde)
\end{verbatim}
  
  On machines with a shared file system, where either the
  \MacroUNI{TILDE} directory or another directory you want to use is
  shared among all machines in your pool, you might use the
  \MacroUNI{HOSTNAME} macro and have a directory with many
  subdirectories, one for each machine in your pool, each named by
  host names.  For example:
\begin{verbatim}
        LOCAL_DIR = $(tilde)/hosts/$(hostname)      
\end{verbatim}
  or:
\begin{verbatim}
        LOCAL_DIR = $(release_dir)/hosts/$(hostname)
\end{verbatim}
  
\item[\Macro{LOG}] \label{param:Log} Used to specify the
  directory where each Condor daemon writes its log files.  The names
  of the log files themselves are defined with other macros, which use
  the \MacroUNI{LOG} macro by default.  The log directory also acts as
  the current working directory of the Condor daemons as the run, so
  if one of them should produce a core file for any reason, it would
  be placed in the directory defined by this macro.  \Macro{LOG} is
  required to be defined.  Normally, \MacroUNI{LOG} is defined in
  terms of \MacroUNI{LOCAL\_DIR}.
  
\item[\Macro{SPOOL}] \label{param:Spool} The spool directory is where
  certain files used by the \Condor{schedd} are stored, such as the
  job queue file and the initial executables of any jobs that have
  been submitted.  In addition, for systems not using a checkpoint
  server, all the checkpoint files from jobs that have been submitted
  from a given machine will be store in that machine's spool
  directory.  Therefore, you will want to ensure that the spool
  directory is located on a partition with enough disk space.  If a
  given machine is only set up to execute Condor jobs and not submit
  them, it would not need a spool directory (or this macro defined).
  There is no default value for \Macro{SPOOL}, and the \Condor{schedd}
  will not function without it \Macro{SPOOL} defined.  Normally,
  \MacroUNI{SPOOL} is defined in terms of \MacroUNI{LOCAL\_DIR}.
  
\item[\Macro{EXECUTE}] \label{param:Execute} This directory acts as
  the current working directory of any Condor job that is executing on
  the local machine.  If a given machine is only set up to only submit
  jobs and not execute them, it would not need an execute directory
  (or this macro defined).  There is no default value for
  \Macro{EXECUTE}, and the \Condor{startd} will not function if
  \Macro{EXECUTE} is not defined.  Normally, \MacroUNI{EXECUTE} is
  defined in terms of \MacroUNI{LOCAL\_DIR}.
  
\item[\Macro{LOCAL\_CONFIG\_FILE}] \label{param:LocalConfigFile} The
  location of the local, machine-specific configuration
  file for each machine
  in your pool.  The two most common options would be putting this
  file in the \MacroUNI{LOCAL\_DIR}, or putting all
  local configuration files for your pool in a shared directory, each one
  named by hostname.  For example,
\begin{verbatim}
        LOCAL_CONFIG_FILE = $(LOCAL_DIR)/condor_config.local
\end{verbatim}
  or,
\begin{verbatim}
        LOCAL_CONFIG_FILE = $(release_dir)/etc/$(hostname).local
\end{verbatim}
  or, not using your release directory
\begin{verbatim}
        LOCAL_CONFIG_FILE = /full/path/to/configs/$(hostname).local
\end{verbatim}
  
  Beginning with Condor version 6.0.1, the
  \MacroUNI{LOCAL\_CONFIG\_FILE} is treated as a list of files, not a
  single file.  You can use either a comma or space separated list of
  files as its value.  This allows you to specify multiple files as
  the local configuration file and each one will be processed in the
  order given (with parameters set in later files overriding values
  from previous files).  This allows you to use one global
  configuration file for multiple platforms in your pool, define a
  platform-specific configuration file for each platform, and use a
  local configuration file for each machine.  If
  \Macro{LOCAL\_CONFIG\_FILE} is not defined, no local configuration
  files are processed.  For more information on this, see
  section~\ref{sec:Multiple-Platforms} about Configuring Condor for
  Multiple Platforms on page~\pageref{sec:Multiple-Platforms}.

\item[\Macro{REQUIRE\_LOCAL\_CONFIG\_FILE}] \label{param:RequireLocalConfigFile}
  Beginning in Condor 6.5.5, it is permissible for the files listed as the
  local config file to be missing. This is most useful for sites that have 
  large numbers of machines in the pool, and a local config file that uses
  the hostname builtin macro - instead of having an empty file for every host
  in the pool, some files can simply be omitted. The default setting is True,
  and Condor will exit with an error if the file listed as the local config 
  file cannot be read, unless \MacroNI{REQUIRE\_LOCAL\_CONFIG\_FILE} is set 
  to False 

\item[\Macro{CONDOR\_IDS}] \label{param:CondorIds}
  The User ID (UID) and Group ID (GID) pair that the Condor daemons
  should run as, if the daemons are spawned as root.
  This value can also be specified in the \Env{CONDOR\_IDS}
  environment variable.
  If the Condor daemons are not started as root, then neither this
  \MacroNI{CONDOR\_IDS} configuration macro nor the \Env{CONDOR\_IDS}
  environment variable are used.
  The value is given by two integers, separated by a period.  For
  example, \verb@CONDOR_IDS = 1234.1234@.
  If this pair is not specified in either the configuration file or in the
  environment, and the Condor daemons are spawned as root,
  then Condor will
  search for a \verb@condor@ user on the system, and run as that user's
  UID and GID.
  See section~\ref{sec:uids} on UIDs in Condor for more details.

\item[\Macro{CONDOR\_ADMIN}] \label{param:CondorAdmin} The email
  address that Condor will send mail to if something goes wrong in
  your pool.  For example, if a daemon crashes, the \Condor{master}
  can send an \Term{obituary} to this address with the last few lines
  of that daemon's log file and a brief message that describes what
  signal or exit status that daemon exited with.  There is no default
  value for \Macro{CONDOR\_ADMIN}.
  
\item[\Macro{CONDOR\_SUPPORT\_EMAIL}] \label{param:CondorSupportEmail}
  The email address to be included at the bottom of all email Condor
  sends out under the label ``Email address of the local Condor
  administrator:''.  
  This is the address where Condor users at your site should send
  their questions about Condor and get technical support.
  If this setting is not defined, Condor will use the address
  specified in \MacroNI{CONDOR\_ADMIN} (described above).

\item[\Macro{MAIL}] \label{param:Mail} The full path to a mail
  sending program that uses \Opt{-s} to specify a subject for the
  message.  On all platforms, the default shipped with Condor should
  work.  Only if you installed things in a non-standard location on
  your system would you need to change this setting.  There is no
  default value for \Macro{MAIL}, and the \Condor{schedd} will not
  function unless \Macro{MAIL} is defined.

\item[\Macro{RESERVED\_SWAP}] \label{param:ReservedSwap} Determines
  how much swap space you want to reserve for your own machine.
  Condor will not start up more \Condor{shadow} processes if the
  amount of free swap space on your machine falls below this level.
  \Macro{RESERVED\_SWAP} is specified in megabytes.  The default value
  of \Macro{RESERVED\_SWAP} is 5 megabytes.

\item[\Macro{RESERVED\_DISK}] \label{param:ReservedDisk} Determines
  how much disk space you want to reserve for your own machine.  When
  Condor is reporting the amount of free disk space in a given
  partition on your machine, it will always subtract this amount.  An
  example is the \Condor{startd}, which advertises the amount of free
  space in the \MacroUNI{EXECUTE} directory.  The default value of
  \Macro{RESERVED\_DISK} is zero.
  
\item[\Macro{LOCK}] \label{param:Lock} Condor needs to create
  lock files to synchronize access to various log files.  Because of
  problems with network file systems and file locking over
  the years, we \emph{highly} recommend that you put these lock
  files on a local partition on each machine.  If you do not have your
  \MacroUNI{LOCAL\_DIR} on a local partition, be sure to change this
  entry.

  Whatever user or group Condor is running as needs to have
  write access to this directory.  If you are not running as root, this
  is whatever user you started up the \Condor{master} as.  If you are
  running as root, and there is a condor account, it is most
  likely condor.
  Otherwise, it is whatever you set in the \Env{CONDOR\_IDS}
  \index{environment variables!CONDOR\_IDS@\texttt{CONDOR\_IDS}}
  \index{CONDOR\_IDS@\texttt{CONDOR\_IDS}!environment variable}
  environment variable, or whatever you define in the
  \Macro{CONDOR\_IDS} setting in the Condor config files.
  See section~\ref{sec:uids} on UIDs in Condor for details.

  If no value for \Macro{LOCK} is provided, the value of \Macro{LOG}
  is used.


\item[\Macro{HISTORY}] \label{param:History} Defines the
  location of the Condor history file, which stores information about
  all Condor jobs that have completed on a given machine.  This macro
  is used by both the \Condor{schedd} which appends the information
  and \Condor{history}, the user-level program used to view
  the history file.
  This configuration macro is given the default value of
  \File{\$(SPOOL)/history} in the default configuration.
  If not defined,
  no history file is kept.
% PKK
% Described in default config file: YES
% Defined in the default config file: YES 
% Default definition in config file: $(SPOOL)/history
% Result if not defined or RHS is empty: no history file is kept.

\item[\Macro{DEFAULT\_DOMAIN\_NAME}] \label{param:DefaultDomainName}
  If you do not use a fully qualified name in file \File{/etc/hosts}
  (or NIS, etc.) for either your official hostname or as an
  alias, Condor would not normally be able to use fully qualified names
  in places that it wants to.  You can set this macro to the
  domain to be appended to your hostname, if changing your host
  information is not a good option.  This macro must be set in the
  global configuration file (not the \MacroUNI{LOCAL\_CONFIG\_FILE}.
  The reason for this is that the special \MacroUNI{FULL\_HOSTNAME}
  macro is used by the configuration file code in Condor needs
  to know the full hostname.  So, for \MacroUNI{DEFAULT\_DOMAIN\_NAME} to
  take effect, Condor must already have read in its value.  However,
  Condor must set the \MacroUNI{FULL\_HOSTNAME} special macro since you
  might use that to define where your local configuration file is.  After
  reading the global configuration file, Condor figures out the right values
  for \MacroUNI{HOSTNAME} and \MacroUNI{FULL\_HOSTNAME} and inserts them
  into its configuration table.
% PKK
% Described in default config file: YES
% Defined in the default config file: NO
% Default definition in config file: bogus value
% Result if not defined or RHS is empty: autodiscovered domain, if any, is used.

\item[\Macro{NETWORK\_INTERFACE}] \label{param:NetworkInterface}
  For systems with multiple network interfaces, Condor chooses the
  first one defined.
  If this configuration macro is not defined,
  Condor binds to first interface found.
  To choose a network interface other than the
  first one, this macro is defined by giving the IP address
  to use.
% PKK
% Described in default config file: NO
% Defined in the default config file: NO
% Default definition in config file: N/A
% Result if not defined or RHS is empty: Condor binds to first interface found

\item[\Macro{CM\_IP\_ADDR}] \label{param:CMIPAddr}
  If neither \MacroNI{COLLECTOR\_HOST} nor 
  \MacroNI{COLLECTOR\_IP\_ADDR} macros are defined, then this
  macro will be used to determine the IP address of the central
  manager (collector daemon).
  This macro is defined by an IP address.
% PKK
% Described in default config file: NO
% Defined in the default config file: NO
% Default definition in config file: N/A
% Result if not defined or RHS is empty: Condor performs above algorithm

\item[\Macro{HIGHPORT}] \label{param:HighPort}
  Specifies an upper limit of given port numbers for Condor to use,
  such that Condor is restricted to a range of port numbers.
  If this macro is not explicitly specified, then Condor will
  not restrict the port numbers that it uses. Condor will use
  system-assigned port numbers.
  For this macro to work, both \MacroNI{HIGHPORT} and
  \MacroNI{LOWPORT} (given below) must be defined.
% PKK
% Described in default config file: YES
% Defined in the default config file: NO
% Default definition in config file: bogus
% Result if not defined or RHS is empty: Condor uses any ports available,
% regardless of the LOWPORT setting

\item[\Macro{LOWPORT}] \label{param:LowPort}
  Specifies a lower limit of given port numbers for Condor to use,
  such that Condor is restricted to a range of port numbers.
  If this macro is not explicitly specified, then Condor will
  not restrict the port numbers that it uses. Condor will use
  system-assigned port numbers.
  For this macro to work, both \MacroNI{HIGHPORT} (given above) and
  \MacroNI{LOWPORT} must be defined.
% PKK
% Described in default config file: YES
% Defined in the default config file: NO
% Default definition in config file: bogus
% Result if not defined or RHS is empty: Condor uses any ports available,
% regardless of the HIGHPORT setting

\item[\Macro{EMAIL\_DOMAIN}] \label{param:EmailDomain}
  By default, if a user does not specify \AdAttr{notify\_user} in the
  submit description file, any email Condor sends about that job will
  go to "username@UID\_DOMAIN".
  If your machines all share a common UID domain (so that you would
  set \MacroNI{UID\_DOMAIN} to be the same across all machines in your
  pool), but email to user@UID\_DOMAIN is not the right place for
  Condor to send email for your site, you can define the default
  domain to use for email.
  A common example would be to set \MacroNI{EMAIL\_DOMAIN} to the fully
  qualified hostname of each machine in your pool, so users submitting
  jobs from a specific machine would get email sent to
  user@machine.your.domain, instead of user@your.domain.  
  You would do this by setting \MacroNI{EMAIL\_DOMAIN} to
  \MacroUNI{FULL\_HOSTNAME}. 
  In general, you should leave this setting commented out unless two
  things are true: 1) \MacroNI{UID\_DOMAIN} is set to your domain, not
  \MacroUNI{FULL\_HOSTNAME}, and 2) email to user@UID\_DOMAIN will not 
  work. 
% PKK
% Described in default config file: YES
% Defined in the default config file: NO
% Default definition in config file: bogus
% Result if not defined or RHS is empty: 
%	Condor will try to use the notify_user attribute email in the job ad.
%	If that is not present, then it will use the UID_DOMAIN embedded in
%	the job ad.
%	If that is not present, then it will use the UID_DOMAIN found in the
%	config file.
%	If that is not present, then I suspect there is a bug and the code will
%	segfault!!! (This needs fixing...)
 
\item[\Macro{CREATE\_CORE\_FILES}] \label{param:CreateCoreFiles}
  Defines whether or not Condor daemons are to
  create a core file if something really bad happens.  It is
  used to set
  the resource limit for the size of a core file.  If not defined,
  it leaves in place whatever limit was in effect
  when the Condor daemons (normally the \Condor{master}) were started.
  If this parameter is set and TRUE, the limit is increased to
  the maximum.  If it is set to FALSE, the limit is set at 0
  (which means that no core files are created).  Core files
  greatly help the Condor developers debug any problems you might be
  having.  By using the parameter, you do not have to worry about
  tracking down where in your boot scripts you need to set the core
  limit before starting Condor. You set the parameter
  to whatever behavior you want Condor to enforce.  This parameter has
  no default value, and is commented out in the default configuration file. 
% PKK
% Described in default config file: YES
% Defined in the default config file: NO
% Default definition in config file: bogus
% Result if not defined or RHS is empty: shell's default corelimit size applies

\item[\Macro{Q\_QUERY\_TIMEOUT}] \label{param:QQueryTimeout}
  Defines the timeout (in seconds) that \Condor{q} uses when trying to
  connect to the \Condor{schedd}.  Defaults to 20 seconds.
% PKK
% Described in default config file: NO
% Defined in the default config file: NO
% Default definition in config file: N/A
% Result if not defined or RHS is empty: defaults to 20 seconds.

\item[\Macro{UPDATE\_COLLECTOR\_WITH\_TCP}]
  \label{param:UpdateCollectorWithTcp}
  If your site needs to use TCP connections to send ClassAd updates to
  your collector (which it almost certainly does NOT), set to TRUE
  to enable this feature.
  Please read section~\ref{sec:tcp-collector-update} on ``Using TCP to
  Send Collector Updates'' on page~\pageref{sec:tcp-collector-update}
  for more details and a discussion of when this
  functionality is needed. 
  At this time, this setting only affects the main \Condor{collector}
  for the site, not any sites that a \Condor{schedd} might flock to. 
  If enabled, also define
  \Macro{COLLECTOR\_SOCKET\_CACHE\_SIZE}] at the central manager, so
  that the collector will accept TCP connections for updates, and will
  keep them open for reuse.
  Defaults to FALSE.
% PKK
% Described in default config file: YES
% Defined in the default config file: NO
% Default definition in config file: bogus
% Result if not defined or RHS is empty: disable the feature of TCP updates to
% collectors
% WARNING: The code also looks for UPDATE_COLLECTORS_WITH_TCP, which
% means the SAME THING as UPDATE_COLLECTOR_WITH_TCP

\item[\Macro{TCP\_UPDATE\_COLLECTORS}]
  \label{param:TcpUpdateCollectors}
  The list of collectors which will be updated with TCP instead of UDP.
  Please read section~\ref{sec:tcp-collector-update} on ``Using TCP to
  Send Collector Updates'' on page~\pageref{sec:tcp-collector-update}
  for more details and a discussion of when a site needs this
  functionality. 
  If not defined, no collectors use TCP instead of UDP.
% PKK
% Described in default config file: NO
% Defined in the default config file: NO
% Default definition in config file: N/A
% Result if not defined or RHS is empty: no collectors are updated with TCP
% WARNING: Look in Version 6.5.2 version history for more information about
% this particular entry.

\item[\Macro{TRUST\_UID\_DOMAIN}]
  \label{param:TrustUidDomain}
  As an added security precaution when Condor is about to spawn a job,
  it ensures that the \MacroNI{UID\_DOMAIN} (defined above) of a given
  submit machine is a substring of that machine's fully-qualified
  host name.
  However, at some sites, there may be multiple UID spaces that do
  not clearly correspond to Internet domain names.
  In these cases, administrators may wish to use names to describe the
  UID domains which are not substrings of the hostnames of the
  machines.
  For this to work, Condor must not do this regular security check.
  If the \MacroNI{TRUST\_UID\_DOMAIN} setting is defined to TRUE,
  Condor will not perform this test, and will trust whatever
  \MacroNI{UID\_DOMAIN} is presented by the submit machine when trying
  to spawn a job, instead of making sure the submit machine's hostname
  matches the \MacroNI{UID\_DOMAIN}.
  When not defined, the default is FALSE,
  since it is more secure to perform this test. 
% PKK
% Described in default config file: YES
% Defined in the default config file: NO
% Default definition in config file: bogus
% Result if not defined or RHS is empty: this entry is considered False

\item[\Macro{PASSWD\_CACHE\_REFRESH}]
  \label{param:PasswdCacheRefresh}
  Condor can cause NIS servers to become overwhelmed by queries for uid
  and group information in large pools. In order to avoid this problem,
  Condor caches UID and group information internally. This setting allows
  pool administrators to specify (in seconds) how long Condor should wait
  until refreshes a cache entry. The default is set to 300 seconds, or
  5 minutes. This means that if a pool administrator updates the user
  or group database (for example, \File{/etc/passwd} or \File{/etc/group}),
  it can take up
  to 5 minutes before Condor will have the updated information. This
  caching feature can be disabled by setting the refresh interval to
  0. In addition, the cache can also be flushed explicitly by running
  the command
\begin{verbatim}
     condor_reconfig -full
\end{verbatim}
  This configuration variable has no effect on Windows.
% PKK
% Described in default config file: NO
% Defined in the default config file: NO
% Default definition in config file: N/A
% Result if not defined or RHS is empty: 300 seconds

\end{description}

% Default value check end here: PKK 8 Jan 2004

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{\label{sec:Daemon-Logging-Config-File-Entries}
Daemon Logging Config File Entries}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\index{configuration!daemon logging configuration variables}
These entries control how and where the Condor daemons write their log
files.  Each of the entries in this section represents multiple
macros. There is one for each subsystem (listed
in section~\ref{sec:Condor-Subsystem-Names}).
The macro name for each substitutes \MacroNI{SUBSYS} with the name
of the subsystem corresponding to the daemon.
\begin{description}
 
\item[\Macro{SUBSYS\_LOG}] \label{param:SubsysLog} The name of
  the log file for a given subsystem.  For example,
  \MacroUNI{STARTD\_LOG} gives the location of the log file for
  \Condor{startd}.

  The actual names of the files
  are also used in the \MacroUNI{VALID\_LOG\_FILES} entry used by
  \Condor{preen}.  A change to one of the
  file names with this setting requires a change to the
  \MacroUNI{VALID\_LOG\_FILES} entry as well, or \Condor{preen} will
  delete your newly named log files.

\item[\Macro{MAX\_SUBSYS\_LOG}] \label{param:MaxSubsysLog} Controls
  the maximum length in bytes to which a
  log will be allowed to grow.  Each log file will grow to the
  specified length, then be saved to a file with the suffix
  \File{.old}.  The \File{.old}
  files are overwritten each time the log is saved, thus the maximum
  space devoted to logging for any one program will be twice the
  maximum length of its log file.  A value of 0 specifies that the
  file may grow without bounds.  The default is 1 Mbyte.

\item[\Macro{TRUNC\_SUBSYS\_LOG\_ON\_OPEN}]
  \label{param:TruncSubsysLogOnOpen}  If this macro is defined and set
  to TRUE, the affected log will be truncated and started from an
  empty file with each invocation of the program.  Otherwise, new
  invocations of the program will append to the previous log
  file.  By default this setting is FALSE for all daemons. 

\item[\Macro{SUBSYS\_LOCK}] \label{param:SubsysLock} This macro
  specifies the lock file used to synchronize append operations to the
  log file for this subsystem.  It must be a separate file from the
  \MacroUNI{SUBSYS\_LOG} file, since the \MacroUNI{SUBSYS\_LOG} file may be
  rotated and you want to be able to synchronize access across log
  file rotations.  A lock file is only required for log files which
  are accessed by more than one process.  Currently, this includes
  only the \MacroNI{SHADOW} subsystem.  This macro is defined relative
  to the \MacroUNI{LOCK} macro.  If, for some strange
  reason, you decide to change this setting, be sure to change the
  \MacroUNI{VALID\_LOG\_FILES} entry that \Condor{preen} uses as well.

\item[\Macro{SUBSYS\_DEBUG}] \label{param:SubsysDebug} All of the
  Condor daemons can produce different levels of output depending on
  how much information you want to see.  The various levels of
  verbosity for a given daemon are determined by this macro.  All
  daemons have the default level \Dflag{ALWAYS}, and log messages for
  that level will be printed to the daemon's log, regardless of this
  macro's setting.  The other possible debug levels are:

\begin{description}
\label{list:debug-level-description}

\item[\Dflag{ALL}] \label{dflag:all}
  \index{SUBSYS\_DEBUG macro levels@\texttt{SUBSYS\_DEBUG} macro levels!D\_ALL@\texttt{D\_ALL}}
  This flag turns on \emph{all} debugging output by enabling all of the debug
  levels at once.  There is no need to list any other debug levels in addition
  to \Dflag{ALL}; doing so would be redundant.  Be warned: we are talking
  about a HUGE amount of output.  If you are interested in just a higher
  level of output than the default, consider using \Dflag{FULLDEBUG} before
  using this option.

\item[\Dflag{FULLDEBUG}] \label{dflag:fulldebug}
  \index{SUBSYS\_DEBUG macro levels@\texttt{SUBSYS\_DEBUG} macro levels!D\_FULLDEBUG@\texttt{D\_FULLDEBUG}}
  This level
  provides verbose output of a general nature into the log files.  
  Frequent log messages for very specific debugging
  purposes would be excluded. In those cases, the messages would
  be viewed by having that another flag and \Dflag{FULLDEBUG} both
  listed in the configuration file.

\item[\Dflag{DAEMONCORE}] \label{dflag:daemoncore} 
  \index{SUBSYS\_DEBUG macro levels@\texttt{SUBSYS\_DEBUG} macro levels!D\_DAEMONCORE@\texttt{D\_DAEMONCORE}}
  Provides log
  file entries specific to DaemonCore, such as
  timers the daemons have set and the commands that are registered.
  If both \Dflag{FULLDEBUG} and \Dflag{DAEMONCORE} are set,
  expect \emph{very} verbose output.

\item[\Dflag{PRIV}] \label{dflag:priv}
  \index{SUBSYS\_DEBUG macro levels@\texttt{SUBSYS\_DEBUG} macro levels!D\_PRIV@\texttt{D\_PRIV}}
  This flag provides log
  messages about the \Term{privilege state} switching that the daemons
  do.  See section~\ref{sec:uids} on UIDs in Condor for details.

\item[\Dflag{COMMAND}] \label{dflag:command}
  \index{SUBSYS\_DEBUG macro levels@\texttt{SUBSYS\_DEBUG} macro levels!D\_COMMAND@\texttt{D\_COMMAND}}
  With this flag set, any
  daemon that uses DaemonCore will print out a log message
  whenever a command comes in.  The name and integer of the command,
  whether the command was sent via UDP or TCP, and where
  the command was sent from are all logged.  
  Because the messages about the command used by \Condor{kbdd} to
  communicate with the \Condor{startd} whenever there is activity on
  the X server, and the command used for keep-alives are both only
  printed with \Dflag{FULLDEBUG} enabled, it is best if this setting
  is used for all daemons.

\item[\Dflag{LOAD}] \label{dflag:load}
  \index{SUBSYS\_DEBUG macro levels@\texttt{SUBSYS\_DEBUG} macro levels!D\_LOAD@\texttt{D\_LOAD}}
The \Condor{startd} keeps track
  of the load average on the machine where it is running.  Both the
  general system load average, and the load average being generated by
  Condor's activity there are determined.
  With this flag set, the \Condor{startd}
  will log a message with the current state of both of these
  load averages whenever it computes them.  This flag only affects the
  \Condor{startd}.

\item[\Dflag{KEYBOARD}] \label{dflag:keyboard} 
  \index{SUBSYS\_DEBUG macro levels@\texttt{SUBSYS\_DEBUG} macro levels!D\_KEYBOARD@\texttt{D\_KEYBOARD}}
  With this flag set, the \Condor{startd} will print out a log message
  with the current values for remote and local keyboard idle time.
  This flag affects only the \Condor{startd}.

\item[\Dflag{JOB}] \label{dflag:job}
  \index{SUBSYS\_DEBUG macro levels@\texttt{SUBSYS\_DEBUG} macro levels!D\_JOB@\texttt{D\_JOB}}
  When this flag is set, the
  \Condor{startd} will send to its log file the contents of any
  job ClassAd that the \Condor{schedd} sends to claim the
  \Condor{startd} for its use.  This flag affects only the
  \Condor{startd}.
  
\item[\Dflag{MACHINE}] \label{dflag:machine}
  \index{SUBSYS\_DEBUG macro levels@\texttt{SUBSYS\_DEBUG} macro levels!D\_MACHINE@\texttt{D\_MACHINE}}
  When this flag is set,
  the \Condor{startd} will send to its log file the contents of
  its resource ClassAd when the \Condor{schedd} tries to claim the
  \Condor{startd} for its use.  This flag affects only the
  \Condor{startd}.

\item[\Dflag{SYSCALLS}] \label{dflag:syscalls}
  \index{SUBSYS\_DEBUG macro levels@\texttt{SUBSYS\_DEBUG} macro levels!D\_SYSCALLS@\texttt{D\_SYSCALLS}}
  This flag is used to
  make the \Condor{shadow} log remote syscall requests and return
  values.  This can help track down problems a user is having with a
  particular job by providing the system calls the job is
  performing. If any are failing, the reason for the
  failure is given.  The \Condor{schedd} also uses this flag for the server
  portion of the queue management code.  With \Dflag{SYSCALLS}
  defined in \MacroNI{SCHEDD\_DEBUG} there will be verbose logging of all
  queue management operations the \Condor{schedd} performs.  

\item[\Dflag{MATCH}] \label{dflag:match}
  \index{SUBSYS\_DEBUG macro levels@\texttt{SUBSYS\_DEBUG} macro levels!D\_MATCH@\texttt{D\_MATCH}}
  When this flag is
  set, the negotiator logs a message for every match.

\item[\Dflag{NETWORK}] \label{dflag:network}
  \index{SUBSYS\_DEBUG macro levels@\texttt{SUBSYS\_DEBUG} macro levels!D\_NETWORK@\texttt{D\_NETWORK}}
  When this flag is set,
  all Condor daemons will log a message on every TCP accept, connect,
  and close, and on every UDP send and receive.  This flag is not
  yet fully supported in the \Condor{shadow}.

\item[\Dflag{HOSTNAME}] \label{dflag:hostname}
  \index{SUBSYS\_DEBUG macro levels@\texttt{SUBSYS\_DEBUG} macro levels!D\_HOSTNAME@\texttt{D\_HOSTNAME}}
  When this flag is set, the Condor daemons and/or tools will print
  verbose messages explaining how they resolve host names, domain
  names, and IP addresses.
  This is useful for sites that are having trouble getting Condor to
  work because of problems with DNS, NIS or other host name resolving
  systems your machines are using.

\item[\Dflag{CKPT}] \label{dflag:ckpt}
  \index{SUBSYS\_DEBUG macro levels@\texttt{SUBSYS\_DEBUG} macro levels!D\_CKPT@\texttt{D\_CKPT}}
  When this flag is set,
  the Condor process checkpoint support code, which is linked into a STANDARD 
  universe user job, will output some low-level details about the checkpoint
  procedure into the \MacroUNI{SHADOW\_LOG}.

\item[\Dflag{SECURITY}] \label{dflag:security}
  \index{SUBSYS\_DEBUG macro levels@\texttt{SUBSYS\_DEBUG} macro levels!D\_SECURITY@\texttt{D\_SECURITY}}
  This flag will enable debug messages pertaining to the setup of 
  secure network communication, 
  including messages for the negotiation of a socket 
  authentication mechanism, the management of a session key cache.
  and messages about the authentication process itself.  See
  section~\ref{sec:Config-Security} for more information about
  secure communication configuration.

\item[\Dflag{PROCFAMILY}] \label{dflag:procfamily}
  \index{SUBSYS\_DEBUG macro levels@\texttt{SUBSYS\_DEBUG} macro levels!D\_PROCFAMILY@\texttt{D\_PROCFAMILY}}
  Condor often times needs to manage an entire family of processes, i.e. a 
  process and all descendants of that process.  This debug flag will 
  turn on debugging output for the management of families of processes.

\item[\Dflag{ACCOUNTANT}] \label{dflag:accountant}
  \index{SUBSYS\_DEBUG macro levels@\texttt{SUBSYS\_DEBUG} macro levels!D\_ACCOUNTANT@\texttt{D\_ACCOUNTANT}}
  When this flag is set,
  the \condor{negotiator} will output debug messages relating to the computation
  of user priorities (see section~\ref{sec:UserPrio}).

\item[\Dflag{PROTOCOL}] \label{dflag:protocol}
  \index{SUBSYS\_DEBUG macro levels@\texttt{SUBSYS\_DEBUG} macro levels!D\_PROTOCOL@\texttt{D\_PROTOCOL}}
  Enable debug messages relating to the protocol for Condor's matchmaking and
  resource claiming framework.
	
\end{description}

\item[\Macro{ALL\_DEBUG}] \label{param:AllDebug} To make all subsystems
  share a debug flag, simply set the parameter \MacroNI{ALL\_DEBUG}
  instead of changing all of the individual parameters.  For example,
  to turn on all debugging in all subsystems, set
  \verb$ALL_DEBUG = D_ALL$.

\end{description}

Log files may optionally be specified per debug level as follows:
\begin{description}

\item[\Macro{SUBSYS\_LEVEL\_LOG}] \label{param:SubsysLevelLog} This is
  the name of a log file for messages at a specific debug level for a
  specific subsystem.  If the debug level is included in
  \MacroUNI{SUBSYS\_DEBUG}, then all messages of this debug level will be
  written both to the \MacroUNI{SUBSYS\_LOG} file and the
  \MacroUNI{SUBSYS\_LEVEL\_LOG} file.  For example,
  \MacroUNI{SHADOW\_SYSCALLS\_LOG} specifies a log file for all remote
  system call debug messages.

\item[\Macro{MAX\_SUBSYS\_LEVEL\_LOG}] \label{param:MaxSubsysLevelLog}
  Similar to \Macro{MAX\_SUBSYS\_LOG}.

\item[\Macro{TRUNC\_SUBSYS\_LEVEL\_LOG\_ON\_OPEN}]
  \label{param:TruncSubsysLevelLogOnOpen} Similar to
  \Macro{TRUNC\_SUBSYS\_LOG\_ON\_OPEN}.

\end{description}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{\label{sec:DaemonCore-Config-File-Entries}
DaemonCore Config File Entries}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\index{configuration!DaemonCore configuration variables}
Please read section~\ref{sec:DaemonCore} for details
on DaemonCore.  There are certain configuration file settings that
DaemonCore uses which affect all Condor daemons (except the checkpoint
server, shadow, and starter, none of which use DaemonCore yet).
\begin{description}
  
\item[\Macro{HOSTALLOW\Dots}] \label{param:HostAllow} All
  macros that begin with either \Macro{HOSTALLOW} or
  \Macro{HOSTDENY} are settings for Condor's host-based security.
  See section~\ref{sec:Host-Security} on Setting up
  IP/host-based security in Condor for details on these
  macros and how to configure them.

\item[\Macro{SETTABLE\_ATTRS\Dots}] \label{param:SettableAttrs} All
  macros that begin with \Macro{SETTABLE\_ATTRS} or
  \Macro{SUBSYS\_SETTABLE\_ATTRS} are settings used to restrict the 
  configuration values that can be changed using the \Condor{config\_val} 
  command.
  Section~\ref{sec:Host-Security} on Setting up
  IP/Host-Based Security in Condor for details on these
  macros and how to configure them.  
  In particular, section~\ref{sec:Host-Security}
  on page~\pageref{sec:Host-Security} contains details specific to
  these macros.

\item[\Macro{SHUTDOWN\_GRACEFUL\_TIMEOUT}]
  \label{param:ShutdownGracefulTimeout} Determines how long
  Condor will allow daemons try their graceful shutdown methods
  before they do a hard shutdown.  It is defined in terms of seconds.
  The default is 1800 (30 minutes).

% This macro existed for 6.2.x, but does not exist any more.
%\item[\Macro{AUTHENTICATION\_METHODS}]\label{param:AuthenticationMethods}
%  There are many instances when the Condor system needs to authenticate
%  the identity of the user.  For instance, when a job is submitted with
%  \Condor{submit}, Condor needs to authenticate the user so that the job
%  goes into the queue and runs with the proper credentials.  The
%  \MacroNI{AUTHENTICATION\_METHODS} parameter is a list of
%  permitted authentication methods.  The list is ordered by
%  preference.  The actual authentication method used is the first method
%  in this list that both the server and client are able to perform.
%  Possible values are:
%  \begin{itemize}
%	\item NTSSPI Use NT's standard LAN-MANAGER challenge-response protocol.
%	\Note This is the default method used on Windows NT.
%	\item FS Use the filesystem to authenticate the user.  
%		The server requests the client to create a specified temporary
%		file, then the server verifies the ownership of that file. \Note
%		This is the default method used on Unix systems.
%	\item FS\_REMOTE Use a shared filesystem to authenticate the user.
%		This is useful for submitting jobs to a remote schedd.
%		Similar to FS authentication, except the temporary file to be
%		created by the user must be on a shared filesystem (AFS, NFS, etc.)
%		If the client's submit description file does not define the 
%		command \Opt{rendezvousdir}, the \Opt{initialdir} value is used 
%		as the default directory in which to create the temporary file.
%		\Note Normal AFS issues apply here: Condor must be able to write
%		to the directory used.
% commented out by Karen for 6.4.3
%       \item GSS Use Generic Security Services, which is implemented in Condor 
%		with X.509 certificates. See section~\ref{sec:X509-Authentication}.
%		These X.509 certificates are compatible with the Globus system from
%		Argonne National Labs.
%	\item CLAIMTOBE The server should simply trust the client.  
%		\Note You had better trust all users who have access to your Condor
%		pool if you enable CLAIMTOBE authentication.
%  \end{itemize}

\item[\Macro{SUBSYS\_ADDRESS\_FILE}]
  \label{param:SubsysAddressFile} Every Condor daemon that uses
  DaemonCore has a command port where commands are sent.  The
  IP/port of the daemon is put in that daemon's ClassAd so that other
  machines in the pool can query the \Condor{collector} (which listens
  on a well-known port) to find the address of a given daemon on a
  given machine.  However, tools and daemons executing on the same
  machine they wish to communicate with are not required to query the
  collector. They look in a file on the local disk to find
  the IP/port.  Setting this macro will cause daemons to write the
  IP/port of their command socket to a specified file.  In this way,
  local tools will continue to operate, even if the machine running
  the \Condor{collector} crashes.  Using this file will also generate
  slightly less network traffic in your pool (since \Condor{q},
  \Condor{rm}, and others do not have to send any messages over the network to
  locate the \Condor{schedd}).  This macro is not needed
  for the collector or negotiator, since their command sockets are at
  well-known ports.  
  
\item[\Macro{SUBSYS\_ATTRS} or \label{param:SubsysExprs}
\Macro{SUBSYS\_EXPRS}] \label{param:SubsysAttrs}
  Allows any DaemonCore daemon to advertise arbitrary
  expressions from the configuration file in its ClassAd.  Give the
  comma-separated list of entries from the configuration file you want in the
  given daemon's ClassAd.
  Frequently used to add attributes to machines so that the
  machines can discriminate between other machines in a job's 
  \Opt{rank}
    and \Opt{requirements}.

  These settings are synonyms; you can use them interchangably or use both.
  For example, \MacroNI{STARTD\_ATTRS} and
  \MacroNI{STARTD\_EXPRS} are interchangable.
  
  \Note The \Condor{negotiator} and \Condor{kbdd} do not send
  ClassAds now, so this entry does not affect them.  The
  \Condor{startd}, \Condor{schedd}, \Condor{master}, and
  \Condor{collector} do send ClassAds, so those would be valid
  subsystems to set this entry for.
  
  \MacroNI{SUBMIT\_EXPRS} not part of the \MacroNI{SUBSYS\_EXPRS}, it is
  documented in section~\ref{sec:Submit-Config-File-Entries}

  The \Condor{startd} \MacroU{STARTD\_ATTRS} defaults to
  ``JobUniverse''.

  Because of the different syntax of the configuration
  file and ClassAds, a little extra work is required to get a
  given entry into a ClassAd.  In particular, ClassAds require quote
  marks (") around strings.  Numeric values and boolean expressions
  can go in directly.  
  For example, if the startd is to advertise a string macro, a numeric
  macro, and a boolean expression, do something similar to:

\begin{verbatim}
        STRING = This is a string 
        NUMBER = 666
        BOOL1 = True
        BOOL2 = CurrentTime >= $(NUMBER) || $(BOOL1)
        MY_STRING = "$(STRING)"
        STARTD_ATTRS = MY_STRING, NUMBER, BOOL1, BOOL2
\end{verbatim}

\end{description}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{\label{sec:Shared-Filesystem-Config-File-Entries}
Shared File System Configuration File Macros}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\index{configuration!shared file system configuration variables}

These macros control how Condor interacts with various shared and
network file systems.  If you are using AFS as your shared filesystem,
be sure to read section~\ref{sec:Condor-AFS} on Using Condor with
AFS.
For information on submitting jobs under shared file systems,
see
section~\ref{sec:shared-fs}.
\begin{description}

\item[\Macro{UID\_DOMAIN}] \label{param:UidDomain}
The \MacroNI{UID\_DOMAIN} macro
is used to decide under which user to run your jobs.
If the \MacroUNI{UID\_DOMAIN}
on the submitting machine is different than
the \MacroUNI{UID\_DOMAIN}
on the machine that runs your job, then Condor will run
the job as the user called ``nobody''.
For example, if the submit machine has
the \MacroUNI{UID\_DOMAIN}
``flippy.cs.wisc.edu'' and the machine where the job will execute
has the \MacroUNI{UID\_DOMAIN}
``cs.wisc.edu'', the job will run as user nobody, because
the two \MacroUNI{UID\_DOMAIN}s are not the same.
If the \MacroUNI{UID\_DOMAIN}
is the same on both the submit and execute machines,
then Condor will run the job as the user that submitted the job.

A further check attempts to assure that the submitting
machine can not lie about its \MacroUNI{UID\_DOMAIN}.
Condor compares the 
submit machine's claimed \MacroUNI{UID\_DOMAIN}
to its fully qualified name.
If the two do not end the same, then the submit machine
is presumed to be lying about its \MacroUNI{UID\_DOMAIN}.
In this case, Condor will run the job as user nobody.
For example, a job submission to the Condor pool at the UW Madison
from ``flippy.example.com'', claiming a \MacroUNI{UID\_DOMAIN}
of ``cs.wisc.edu'',
will run the job as the user nobody.

Because of this verification, you need to set your
\MacroUNI{UID\_DOMAIN}
to a real domain name. At the Computer Sciences department
at the UW Madison, we set the \MacroUNI{UID\_DOMAIN}
to be ``cs.wisc.edu'' to
indicate that whenever someone submits from a department machine, we
will run the job as the user who submits it.

Also see \Macro{SOFT\_UID\_DOMAIN}
below for information about one more check
that Condor performs before running a job as a given user.

A few details:

You could set \MacroU{UID\_DOMAIN}
to ``*''. This will match all domains,
but it is a gaping security hole. It is not recommended.

You can also leave \MacroU{UID\_DOMAIN} undefined. This will
force Condor to always run jobs as user nobody.
Running standard universe jobs as user nobody enhances
your security and should cause no problems, because the jobs use remote
I/O to access all of their files.
However, if vanilla jobs are run as
user nobody, then files that need to be accessed by the job will need
to be marked as world readable/writable so the user nobody can access
them.

When Condor sends e-mail about a job, Condor sends the e-mail to
%% This is the wrong LaTeX  macro to use, but we don't have a correct one.
\File{user@UID\_DOMAIN}.
If \MacroUNI{UID\_DOMAIN}
is undefined, the e-mail is sent to \File{user@submitmachinename}.


\item[\Macro{SOFT\_UID\_DOMAIN}] \label{param:SoftUidDomain}
When Condor is about to run a job as a particular user (instead of the
user nobody), it verifies that the UID given for the user is in the
password file and actually matches the given user name.
However, some
installations may not have every user in every machine's password
file, so this check will fail. If you prefer that Condor not do
this check, because users are not in every password file, set
this attribute to True.


\item[\Macro{VMx\_USER}] \label{param:VMxUser}
The name of a user for Condor to use instead of
user nobody,
as part of a solution that plugs a security hole whereby
a lurker process can prey on a subsequent job run as user
nobody. 
\MacroNI{x} is an integer associated with virtual machines.
On Windows, \MacroNI{VMx\_USER}
will only work if the credential of the specified
user is stored on the execute machine using \Condor{store\_cred}.
See Section~\ref{sec:RunAsNobody} for more information.

\item[\Macro{EXECUTE\_LOGIN\_IS\_DEDICATED}]
\label{param:ExecuteLoginIsDedicated}
When set to True,
forces Condor to use the users given by the \MacroNI{VMx\_USER}
configuration variable.
Defaults to False.

\item[\Macro{FILESYSTEM\_DOMAIN}] \label{param:FilesystemDomain}
The \MacroNI{FILESYSTEM\_DOMAIN}
macro is an arbitrary string that is used to decide if
two machines (a submitting machine and an execute machine) share a
file system.
Although the macro name contains the word ``DOMAIN'',
the macro is not required to be a domain name, although it often is.

Vanilla Unix jobs currently require a shared file system in order to
share any data files or see the output of the program.
Condor decides if there is a shared filesystem by comparing the values
of 
\MacroUNI{FILESYSTEM\_DOMAIN}
of both the submitting and execute machines.
If the values are the same,
Condor assume there is a shared file system.
Condor implements the check
by extending the Requirements for your job.
You can see these requirements by using the \oArg{-v} argument
to \Condor{submit}.

Note that this implementation is not ideal: machines may share some
file systems but not others. Condor currently has no way to express
this automatically. You can express the need to use a
particular file system by adding additional attributes to your machines
and submit files, similar to the example given in 
Frequently Asked Questions, 
section~\ref{sec:FAQ} on
how to run jobs only on machines that have 
certain software installations.

Note that if you do not set 
\MacroUNI{FILESYSTEM\_DOMAIN}, Condor will
automatically set the macro's value to be the fully qualified hostname
of the local machine.
Since each machine will have a different
\MacroUNI{FILESYSTEM\_DOMAIN},
they will not be considered to have shared file systems.

  
% no longer used, and gone from the sample config file as of 5/30/03.
%\item[\Macro{HAS\_AFS}] \label{param:HasAfs} Set this macro to TRUE if
%  all the machines you plan on adding in your pool can all access a
%  common set of AFS fileservers.  Otherwise, set it to FALSE.
      
\item[\Macro{RESERVE\_AFS\_CACHE}] \label{param:ReserveAfsCache} If
  your machine is running AFS and the AFS cache lives on the same
  partition as the other Condor directories, and you want Condor to
  reserve the space that your AFS cache is configured to use, set this
  macro to TRUE.  It defaults to FALSE.
  
\item[\Macro{USE\_NFS}] \label{param:UseNfs} This macro influences
  how Condor jobs running in the standard universe access their
  files.  Condor will redirect the file I/O requests
  of standard universe jobs to be executed on the machine which
  submitted the job.  Because of this, as a Condor job migrates around
  the network, the file system always appears to be identical to the
  file system where the job was submitted.  However, consider the case
  where a user's data files are sitting on an NFS server. The machine
  running the user's program will send all I/O over the network to the
  machine which submitted the job, which in turn sends all the I/O
  over the network a second time back to the NFS file server. Thus,
  all of the program's I/O is being sent over the network twice.
          
  If this macro to TRUE, then Condor will attempt to
  read/write files without redirecting I/O back to the submitting
  machine if both the submitting machine and the machine running the job
  are both accessing the same NFS servers (\emph{if} they are both in the
  same \MacroUNI{FILESYSTEM\_DOMAIN} and in the same \MacroUNI{UID\_DOMAIN},
  as described above).  The result is I/O performed by Condor standard
  universe jobs is only sent over the network once.  
  While sending all file operations over the network twice might sound
  really bad, unless you are operating over networks where bandwidth
  as at a very high premium, practical experience reveals that this
  scheme offers very little real performance gain.  There are also
  some (fairly rare) situations where this scheme can break down.
  
  Setting \MacroUNI{USE\_NFS} to FALSE is always safe.  It may result
  in slightly more network traffic, but Condor jobs are most often heavy
  on CPU and light on I/O.  It also ensures that a remote
  standard universe Condor job will always use Condor's remote system
  calls mechanism to reroute I/O and therefore see the exact same
  file system that the user sees on the machine where she/he submitted
  the job.
  
  Some gritty details for folks who want to know: If the you set
  \MacroUNI{USE\_NFS} to TRUE, and the \MacroUNI{FILESYSTEM\_DOMAIN} of
  both the submitting machine and the remote machine about to execute
  the job match, and the \MacroUNI{FILESYSTEM\_DOMAIN} claimed by the
  submit machine is indeed found to be a subset of what an inverse
  lookup to a DNS (domain name server) reports as the fully qualified
  domain name for the submit machine's IP address (this security
  measure safeguards against the submit machine from lying),
  \emph{then} the job will access files using a local system call,
  without redirecting them to the submitting machine (with
  NFS).  Otherwise, the system call will get routed back to the
  submitting machine using Condor's remote system call mechanism.
  \Note When submitting a vanilla job, \Condor{submit} will, by default,
  append requirements to the Job ClassAd that specify the machine to run
  the job must be in the same \MacroUNI{FILESYSTEM\_DOMAIN} and the same
  \MacroUNI{UID\_DOMAIN}.

\item[\Macro{IGNORE\_NFS\_LOCK\_ERRORS}] \label{param:IgnoreNFSLockErrors}
  When set to TRUE, all errors related to file locking errors from
  NFS are ignored.
  Defaults to FALSE, not ignoring errors.
  
\item[\Macro{USE\_AFS}] \label{param:UseAfs} If your machines have AFS,
  this
  macro determines whether Condor will use remote system calls for
  standard universe jobs to send I/O requests to the submit machine,
  or if it should use local file access on the execute machine (which
  will then use AFS to get to the submitter's files).  Read the
  setting above on \MacroUNI{USE\_NFS} for a discussion of why you might
  want to use AFS access instead of remote system calls.
  
  One important difference between \MacroUNI{USE\_NFS} and
  \MacroUNI{USE\_AFS} is the AFS cache.  With \MacroUNI{USE\_AFS} set to
  TRUE, the remote Condor job executing on some machine will start
  modifying the AFS cache, possibly evicting the machine owner's
  files from the cache to make room for its own.  Generally speaking,
  since we try to minimize the impact of having a Condor job run on a
  given machine, we do not recommend using this setting.

  While sending all file operations over the network twice might sound
  really bad, unless you are operating over networks where bandwidth
  as at a very high premium, practical experience reveals that this
  scheme offers very little real performance gain.  There are also
  some (fairly rare) situations where this scheme can break down.
  
  Setting \MacroUNI{USE\_AFS} to FALSE is always safe.  It may result
  in slightly more network traffic, but Condor jobs are usually heavy
  on CPU and light on I/O.  FALSE ensures that a remote
  standard universe Condor job will always see the exact same
  file system that the user on sees on the machine where he/she
  submitted the job.  Plus, it will ensure that the machine where the
  job executes does not have its AFS cache modified as a result of
  the Condor job being there.  
  
  However, things may be different at your site, which is why the
  setting is there.

\end{description}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{\label{Checkpoint-Server-Config-File-Entries}
Checkpoint Server Configuration File Macros}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\index{configuration!checkpoint server configuration variables}
These macros control whether or not Condor uses a checkpoint server.
If you are using a checkpoint server, this section
describes the settings that the checkpoint server itself needs
defined.  A checkpoint server is installed
separately. It is not included in the main Condor binary
distribution or installation procedure.  See
section~\ref{sec:Ckpt-Server} on Installing a Checkpoint Server
for details on installing and running a checkpoint server for your
pool.

\Note If you are setting up a machine to join the UW-Madison CS
Department Condor pool, you \emph{should} configure the machine to
use a checkpoint server, and use ``condor-ckpt.cs.wisc.edu'' as the
checkpoint server host (see below).

\begin{description}
  
\item[\Macro{CKPT\_SERVER\_HOST}] \label{param:CkptServerHost} The
  hostname of a checkpoint server.

\item[\Macro{STARTER\_CHOOSES\_CKPT\_SERVER}]
  \label{param:StarterChoosesCkptServer} If this parameter is TRUE 
  or undefined on
  the submit machine, the checkpoint server specified by
  \MacroUNI{CKPT\_SERVER\_HOST} on the execute machine is used.  If it is
  FALSE on the submit machine, the checkpoint server
  specified by \MacroUNI{CKPT\_SERVER\_HOST} on the submit machine is
  used.
  
\item[\Macro{CKPT\_SERVER\_DIR}] \label{param:CkptServerDir} The
  checkpoint server needs this macro defined to the full path of the
  directory the server should use to store checkpoint files.
  Depending on the size of your pool and the size of the jobs your
  users are submitting, this directory (and its subdirectories) might
  need to store many Mbytes of data.

\item[\Macro{USE\_CKPT\_SERVER}] \label{param:UseCkptServer} A boolean
  which determines if you want a given submit machine to use a
  checkpoint server if one is available.  If a
  checkpoint server isn't available or \MacroNI{USE\_CKPT\_SERVER} is set to
  False, checkpoints will be written to the local \MacroUNI{SPOOL} directory on
  the submission machine.

\item[\Macro{MAX\_DISCARDED\_RUN\_TIME}]
  \label{param:MaxDiscardedRunTime} If the shadow is unable to read a
  checkpoint file from the checkpoint server, it keeps trying only if
  the job has accumulated more than this many seconds of CPU usage.
  Otherwise, the job is started from scratch.  Defaults to 3600 (1
  hour). This setting is only used if \MacroUNI{USE\_CKPT\_SERVER} is
  TRUE.

\end{description}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{\label{sec:Master-Config-File-Entries}
\condor{master} Configuration File Macros}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\index{configuration!condor\_master configuration variables}
These macros control the \Condor{master}.
\begin{description}
  
\item[\Macro{DAEMON\_LIST}] \label{param:DaemonList} This macro
  determines what daemons the \Condor{master} will start and keep its
  watchful eyes on.  The list is a comma or space separated list of
  subsystem names (listed in
  section~\ref{sec:Condor-Subsystem-Names}).  For example,
\begin{verbatim}
        DAEMON_LIST = MASTER, STARTD, SCHEDD
\end{verbatim}

  \Note On your central manager, your \MacroUNI{DAEMON\_LIST}
  will be different from your regular pool, since it will include
  entries for the \Condor{collector} and \Condor{negotiator}.  
  
  \Note On machines running Digital Unix or IRIX, your
  \MacroUNI{DAEMON\_LIST} will also include KBDD, for the
  \Condor{kbdd}, which is a special daemon that runs to monitor
  keyboard and mouse activity on the console.  It is only with this
  special daemon that we can acquire this information on those
  platforms. 

\item[\Macro{DC\_DAEMON\_LIST}] \label{param:DCDaemonList} This macro
  lists the daemons in \MacroNI{DAEMON\_LIST} which use the Condor
  DaemonCore library.  The \Condor{master} must differentiate between
  daemons that use DaemonCore and those that don't so it uses the
  appropriate inter-process communication mechanisms.  This list
  currently includes all Condor daemons except the checkpoint server
  by default.

\item[\Macro{SUBSYS}] \label{param:SUBSYS} Once you have defined which
  subsystems you want the \Condor{master} to start, you must provide
  it with the full path to each of these binaries.  For example:
\begin{verbatim}
        MASTER          = $(SBIN)/condor_master
        STARTD          = $(SBIN)/condor_startd
        SCHEDD          = $(SBIN)/condor_schedd
\end{verbatim}
  These are most often defined relative to the \MacroUNI{SBIN} macro.

\item[\Macro{DAEMONNAME\_ENVIRONMENT}] \label{param:DaemonNameEnvironment}
  For each subsystem defined in \MacroNI{DAEMON\_LIST}, you may specify
  changes to the environment that daemon is started with by setting
  \MacroNI{DAEMONNAME\_ENVIRONMENT}, where \MacroNI{DAEMONNAME} is the name of
  a daemon listed in \MacroNI{DAEMON\_LIST}. It should be set to a semicolon
  delimited list of name=value pairs. For example, if you wish to redefine the
  \Env{TMP} and \Env{CONDOR\_CONFIG} environment variables seen by the
  \Condor{schedd}, you could place the following in the config file:
\begin{verbatim}
        SCHEDD_ENVIRONMENT = TMP=/new/value;CONDOR_CONFIG=/special/config
\end{verbatim}
  When the \Condor{schedd} was started by the \Condor{master}, it would
  see the specified values of \Env{TMP} and \Env{CONDOR\_CONFIG}.

\item[\Macro{SUBSYS\_ARGS}] \label{param:SubsysArgs} This macro
  allows the specification of additional command line arguments for any
  process spawned by the \Condor{master}.
  List the desired arguments, as typing the
  command line into the configuration file.  
  Set the arguments for a specific daemon with this macro,
  and the macro will affect only that daemon. Define
  one of these for each daemon the \Condor{master} is controlling.
  For example, set \MacroUNI{STARTD\_ARGS} to specify any extra
  command line arguments to the \Condor{startd}.

\item[\Macro{PREEN}] \label{param:Preen} In addition to the daemons
  defined in \MacroUNI{DAEMON\_LIST}, the \Condor{master} also starts up
  a special process, \Condor{preen} to clean out junk files that have
  been left laying around by Condor.  This macro determines where the
  \Condor{master} finds the \Condor{preen} binary.
  Comment out this macro, and \Condor{preen} will not run.

\item[\Macro{PREEN\_ARGS}] \label{param:PreenArgs}
  Controls how \Condor{preen} behaves by allowing the specification
  of command-line arguments.
  This macro works as \MacroUNI{SUBSYS\_ARGS} does.
  The difference is that you must specify this macro for
  \Condor{preen} if you want it to do anything.
  \Condor{preen} takes action only
  because of command line arguments.
  \Opt{-m} means you want e-mail about files \Condor{preen} finds that it
  thinks it should remove.
  \Opt{-r} means you want \Condor{preen} to actually remove these files.

\item[\Macro{PREEN\_INTERVAL}] \label{param:PreenInterval} This macro
  determines how often \Condor{preen} should be started.  It is
  defined in terms of seconds and defaults to 86400 (once a day).

\item[\Macro{PUBLISH\_OBITUARIES}] \label{param:PublishObituaries}
  When a daemon crashes, the \Condor{master} can send e-mail to the
  address specified by \MacroUNI{CONDOR\_ADMIN} with an obituary letting
  the administrator know that the daemon died, the cause of
  death (which signal or exit status it exited with), and
  (optionally) the last few entries from that daemon's log file.  If
  you want obituaries, set this macro to TRUE.

\item[\Macro{OBITUARY\_LOG\_LENGTH}] \label{param:ObituaryLogLength}
  This macro controls how many lines
  of the log file are part of obituaries.

\item[\Macro{START\_MASTER}] \label{param:StartMaster} If this setting
  is defined and set to FALSE when the \Condor{master} starts up, the first
  thing it will do is exit.  This appears strange, but perhaps you
  do not want Condor to run on certain machines in your pool, yet
  the boot scripts for your entire pool are handled by a centralized
  system that starts up the \Condor{master} automatically.  This is
  an entry you would most likely find in a local configuration file,
  not a global configuration file.

\item[\Macro{START\_DAEMONS}] \label{param:StartDaemons} This macro
  is similar to the \MacroUNI{START\_MASTER} macro described above.
  However, the \Condor{master} does not exit; it does not start any
  of the daemons listed in the \MacroUNI{DAEMON\_LIST}.
  The daemons may be started at a later time with a \Condor{on}
  command.

\item[\Macro{MASTER\_UPDATE\_INTERVAL}]
  \label{param:MasterUpdateInterval} This macro determines how often
  the \Condor{master} sends a ClassAd update to the
  \Condor{collector}.  It is defined in seconds and defaults to 300
  (every 5 minutes).
  
\item[\Macro{MASTER\_CHECK\_NEW\_EXEC\_INTERVAL}]
  \label{param:MasterCheckNewExecInterval} This
  macro controls how often the \Condor{master} checks the timestamps
  of the running daemons.  If any daemons have been modified, the
  master restarts them.  It is defined in seconds and defaults to 300
  (every 5 minutes).

\item[\Macro{MASTER\_NEW\_BINARY\_DELAY}]
  \label{param:MasterNewBinaryDelay} Once the \Condor{master} has
  discovered a new binary, this macro controls how long it waits
  before attempting to execute the new binary.  This delay exists
  because the \Condor{master} might notice a new binary while it
  is in the process of being copied,
  in which case trying to execute it yields
  unpredictable results.  The entry is defined in seconds and
  defaults to 120 (2 minutes).

\item[\Macro{SHUTDOWN\_FAST\_TIMEOUT}]
  \label{param:ShutdownFastTimeout} This macro determines the maximum
  amount of time daemons are given to perform their
  fast shutdown procedure before the \Condor{master} kills them
  outright.  It is defined in seconds and defaults to 300 (5 minutes).

\item[\Macro{MASTER\_BACKOFF\_FACTOR}]
  \label{param:MasterBackoffFactor} If a daemon keeps crashing, an
  exponential back off waits longer and longer before
  restarting it.  At the end of this section, there is an example that
  shows how all these settings work.  This setting is the base of the
  exponent used to determine how long to wait before starting the
  daemon again.  It defaults to 2 seconds.

\item[\Macro{MASTER\_BACKOFF\_CEILING}]
  \label{param:MasterBackoffCeiling} This entry determines the maximum
  amount of time you want the master to wait between attempts to start
  a given daemon.  (With 2.0 as the \MacroUNI{MASTER\_BACKOFF\_FACTOR},
  1 hour is obtained in 12 restarts).  It is defined in terms of
  seconds and defaults to 3600 (1 hour).

\item[\Macro{MASTER\_RECOVER\_FACTOR}]
  \label{param:MasterRecoverFactor}  A macro to set How long a daemon 
  needs to run without crashing before it is considered \emph{recovered}.
  Once a
  daemon has recovered, the number of restarts is reset, so the
  exponential back off stuff returns to its initial state.  
  The macro is defined in
  terms of seconds and defaults to 300 (5 minutes).

\end{description}

For clarity, the following is an example of the workings of
the exponential back off settings.  The example is worked out assuming
the default settings.

When a daemon crashes, it is restarted in 10 seconds.  If it keeps
crashing, a longer amount of time is waited before restarting.
The length of time is based on how
many times it has been restarted.  
Take the \MacroUNI{MASTER\_BACKOFF\_FACTOR} (defaults to 2) to 
the power the number of times the daemon has restarted, and add 9.
An example:
\begin{verbatim}
        1st crash:  restarts == 0, so, 9 + 2^0 = 9 + 1 = 10 seconds
        2nd crash:  restarts == 1, so, 9 + 2^1 = 9 + 2 = 11 seconds
        3rd crash:  restarts == 2, so, 9 + 2^2 = 9 + 4 = 13 seconds
        ...
        6th crash:  restarts == 5, so, 9 + 2^5 = 9 + 32 = 41 seconds
        ...
        9th crash:  restarts == 8, so, 9 + 2^8 = 9 + 256 = 265 seconds
\end{verbatim}

After the 13th crash, it would be:
\begin{verbatim}
        13th crash:  restarts == 12, so, 9 + 2^12 = 9 + 4096 = 4105 seconds
\end{verbatim}

This is bigger than the \MacroUNI{MASTER\_BACKOFF\_CEILING}, which
defaults to 3600, so the daemon would really be restarted after only
3600 seconds, not 4105.
The \Condor{master} tries again every hour (since the numbers would
get larger and would always be capped by the ceiling).
Eventually, imagine that daemon finally started and did not crash.
This might happen if, for example, an administrator reinstalled
an accidentally deleted binary after receiving e-mail about
the daemon crashing.
If it stayed alive for
\MacroUNI{MASTER\_RECOVER\_FACTOR} seconds (defaults to 5 minutes),
the count of how many restarts this daemon has performed is reset to
10 seconds.

The moral of the example is that 
the defaults work quite well, and you probably 
will not want to change them for any reason.
\begin{description}

\item[\Macro{MASTER\_NAME}] \label{param:MasterName}
  A unique name given for a \Condor{master} daemon on a machine.
  Defaults to username@hostname, where the username is the user name
  under which the \Condor{master} daemon is executed.
  If the \Condor{master} daemon is running as root, then
  \MacroNI{MASTER\_NAME} is the host name.

\item[\Macro{MASTER\_ATTRS}] \label{param:MasterExprs} This macro is
  described in section~\ref{param:SubsysExprs} as
  \MacroNI{SUBSYS\_ATTRS}.

\item[\Macro{MASTER\_DEBUG}] \label{param:MasterDebug} This macro
  is described in section~\ref{param:SubsysDebug} as
  \MacroNI{SUBSYS\_DEBUG}.

\item[\Macro{MASTER\_ADDRESS\_FILE}] \label{param:MasterAddressFile}
  This macro is described in
  section~\ref{param:SubsysAddressFile} as
  \Macro{SUBSYS\_ADDRESS\_FILE} 

\item[\Macro{SECONDARY\_COLLECTOR\_LIST}]
  \label{param:SecondaryCollectorList} This macro lists the host names
  of secondary collectors.  A secondary collector is a machine
  running a \Condor{collector} daemon that is not the central manager.
  A secondary collector makes it possible to execute administrative
  commands in the pool when the central manager is down by using the
  \Opt{-pool} argument to specify the name of a secondary collector to
  use to locate the \Condor{master} daemon.

\item[\Macro{ALLOW\_ADMIN\_COMMANDS}]
  \label{param:AllowAdminCommands} If set to NO for a given host, this
  macro disables administrative commands, such as 
  \Condor{restart}, \Condor{on}, and \Condor{off}, to that host.

\item[\Macro{MASTER\_INSTANCE\_LOCK}] \label{param:MasterInstanceLock}
  Defines the name of a file for the \Condor{master} daemon
  to lock in order to prevent multiple \Condor{master}s
  from starting.
  This is useful when using shared file systems like NFS which do
  not technically support locking in the case where the lock files
  reside on a local disk.
  If this macro is not defined, the default file name will be
  \File{\$(LOCK)/InstanceLock}.
  \File{\$(LOCK)} can instead be defined to
  specify the location of all lock files, not just the 
  \Condor{master}'s \File{InstanceLock}.
  If \File{\$(LOCK)} is undefined, then the master log itself is locked.

\item[\Macro{ADD\_WINDOWS\_FIREWALL\_EXCEPTION}]
  \label{param:AddWindowsFirewallException} If set to false, the
  \Condor{master} will not automatically add Condor to the Windows
  Firewall list of trusted applications. Such trusted applications can
  accept incoming connections without interference from the firewall. This
  only affects machines running Windows XP SP2 or higher. The default
  is True.

\end{description}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{\label{sec:Startd-Config-File-Entries}
\condor{startd} Configuration File Macros}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\index{configuration!condor\_startd configuration variables}
\Note If you are running Condor on a multi-CPU machine, be sure
to also read section~\ref{sec:Configuring-SMP} on
page~\pageref{sec:Configuring-SMP} which describes how to setup and
configure Condor on SMP machines.

These settings control general operation of the \Condor{startd}.
Information on how to configure the \Condor{startd} to start, suspend,
resume, vacate and kill remote Condor jobs is found in
section~\ref{sec:Configuring-Policy} on
Configuring The Startd Policy.  In that section is
information on the startd's \Term{states} and \Term{activities}.
Macros in the configuration file not described here are ones that
control state or activity transitions within the
\Condor{startd}.
\begin{description}

\item[\Macro{STARTER}] \label{param:Starter}  This macro holds the
  full path to the \Condor{starter} binary that the startd should 
  spawn.
  It is normally defined relative to \MacroUNI{SBIN}.
  
\item[\Macro{ALTERNATE\_STARTER\_1}] \label{param:AlternateStarter1}
  This macro holds the full path to the \Condor{starter.pvm}
  binary that the startd spawns to service PVM jobs.  It is normally
  defined relative to \MacroUNI{SBIN}, since by default,
  \Condor{starter.pvm} is installed in the regular Condor release
  directory. 
  
\item[\Macro{POLLING\_INTERVAL}] \label{param:PollingInterval} When a
  startd enters the claimed state, this macro determines how often
  the state of the machine is polled to check the need to suspend, resume,
  vacate or kill the job.  It is defined in terms of seconds and defaults to
  5.
  
\item[\Macro{UPDATE\_INTERVAL}] \label{param:UpdateInterval}
  Determines how often the startd should send a ClassAd update
  to the \Condor{collector}.  The startd also sends update on any
  state or activity change, or if the value of its \Expr{START} expression
  changes.  See section~\ref{sec:States} on \condor{startd}
  States, section~\ref{sec:Activities} on \condor{startd}
  Activities, and section~\ref{sec:Start-Expr} on \condor{startd}
  \Expr{START} expression for details on states, activities, and the
  \Expr{START} expression.  This macro is defined in
  terms of seconds and defaults to 300 (5 minutes).
  
\item[\Macro{MAX\_CLAIM\_ALIVES\_MISSED}]
  \label{param:MaxClaimAlivesMissed} The schedd sends periodic updates
  to each startd as a keep alive (see the description of
  \Macro{ALIVE\_INTERVAL} on page~\pageref{param:AliveInterval}).  
  If the startd does not receive any keep alive messages, it assumes
  that something has gone wrong with the schedd and that the resource
  is not being effectively used.
  Once this happens, the startd considers the claim to have timed out,
  it releases the claim, and starts advertising itself as available
  for other jobs.
  Because these keep alive messages are sent via UDP, they are
  sometimes dropped by the network.
  Therefore, the startd has some tolerance for missed keep alive
  messages, so that in case a few keep alives are lost, the startd
  will not immediately release the claim.
  This setting controls how many keep alive messages can be missed
  before the startd considers the claim no longer valid.
  The default is 6.

\item[\Macro{STARTD\_HAS\_BAD\_UTMP}] \label{param:StartdHasBadUtmp}
  When the startd is computing the idle time of all the
  users of the machine (both local and remote), it checks the
  \File{utmp} file to find all the currently active ttys, and only
  checks access time of the devices associated with active logins.
  Unfortunately, on some systems, \File{utmp} is unreliable, and the
  startd might miss keyboard activity by doing this.  So, if your
  \File{utmp} is unreliable, set this macro to TRUE and the
  startd will check the access time on all tty and pty devices.
  
\item[\Macro{CONSOLE\_DEVICES}] \label{param:ConsoleDevices} This
  macro allows the startd to monitor console (keyboard and mouse)
  activity by checking the access times on special files in
  \File{/dev}.  Activity on these files shows up as 
  \AdAttr{ConsoleIdle}
  time in the startd's ClassAd.  Give a comma-separated list of
  the names of devices considered the console, without the
  \File{/dev/} portion of the pathname.  The defaults vary from
  platform to platform, and are usually correct.  

  One possible exception to this is on Linux, where
  we use ``mouse'' as
  one of the entries.  Most Linux installations put in a
  soft link from \File{/dev/mouse} that points to the appropriate
  device (for example, \File{/dev/psaux} for a PS/2 bus mouse, or
  \File{/dev/tty00} for a serial mouse connected to com1).  However,
  if your installation does not have this soft link, you will either
  need to put it in (you will be glad you did), or change this
  macro to point to the right device. 
  
  Unfortunately, there are no such devices on Digital Unix or IRIX
  (don't be fooled by \File{/dev/keyboard0}; the kernel does not
  update the access times on these devices), so this macro is not
  useful in these cases, and we must use the \Condor{kbdd} to get this
  information by connecting to the X server.
  
\item[\Macro{STARTD\_JOB\_EXPRS}] \label{param:StartdJobExprs} When
  the machine is claimed by a remote user, the startd can also advertise
  arbitrary attributes from the job ClassAd in the machine
  ClassAd.
  List the attribute names to be advertised.  \Note Since
  these are already ClassAd expressions, do not do anything
  unusual with strings.

\item[\Macro{STARTD\_ATTRS}] \label{param:StartdAttrs} This macro is
  described in section~\ref{param:SubsysAttrs} as
  \Macro{SUBSYS\_ATTRS}.

\item[\Macro{STARTD\_DEBUG}] \label{param:StartdDebug} This macro
  (and other settings related to debug logging in the startd) is
  described in section~\ref{param:SubsysDebug} as
  \Macro{SUBSYS\_DEBUG}.

\item[\Macro{STARTD\_ADDRESS\_FILE}] \label{param:StartdAddressFile}
  This macro is described in
  section~\ref{param:SubsysAddressFile} as
  \Macro{SUBSYS\_ADDRESS\_FILE} 

\item[\Macro{NUM\_CPUS}] \label{param:NumCpus}
  This macro can be used to ``lie'' to the startd about how many CPUs
  your machine has.
  If you set this, it will override Condor's automatic computation of
  the number of CPUs in your machine, and Condor will use whatever
  integer you specify here. 
  In this way, you can allow multiple Condor jobs to run on a
  single-CPU machine by having that machine treated like an SMP
  machine with multiple CPUs, which could have different Condor jobs
  running on each one.
  Or, you can have an SMP machine advertise more virtual machines than
  it has CPUs.
  However, using this parameter will hurt the performance of the jobs,
  since you would now have multiple jobs running on the same CPU,
  competing with each other.
  The option is only meant for people who specifically want this
  behavior and know what they are doing.  
  It is disabled by default.

  \Note This setting cannot be changed with a simple reconfig (either
  by sending a SIGHUP or using \Condor{reconfig}.
  If you change this, you must restart the \Condor{startd} for the
  change to take effect (by using ``\condor{restart} -startd'').

  \Note If you use this setting on a given machine, you should
  probably advertise that fact in the machine's ClassAd by using the
  \MacroNI{STARTD\_ATTRS} setting (described above).
  This way, jobs submitted in your pool could specify that they did or
  did not want to be matched with machines that were only really
  offering ``fractional CPUs''.

\item[\Macro{COUNT\_HYPERTHREAD\_CPUS}] \label{param:CountHyperthreadCpus}
  This macro controls how Condor sees hyperthreaded
  processors. When set to TRUE (the default), it includes virtual CPUs in
  the default value of \MacroNI{NUM\_CPUS}. On dedicated cluster nodes, 
  counting virtual CPUs can sometimes improve total throughput at the expense 
  of individual job speed. However, counting them on desktop workstations can
  interfere with interactive job performance.

\item[\Macro{MEMORY}] \label{param:Memory}
  Normally, Condor will automatically detect the amount of physical
  memory available on your machine.  Define \MacroNI{MEMORY} to tell
  Condor how much physical memory (in MB) your machine has, overriding
  the value Condor computes automatically.

\item[\Macro{RESERVED\_MEMORY}] \label{param:ReservedMemory}
  How much memory would you like reserved from Condor?  By default,
  Condor considers all the physical memory of your machine as
  available to be used by Condor jobs.  If \MacroNI{RESERVED\_MEMORY} is
  defined, Condor subtracts it from the amount of memory it advertises
  as available.

\item[\Macro{STARTD\_NAME}] \label{param:StartdName}
  Used to give an alternative name in the \Condor{startd}'s
  class ad.
  This esoteric configuration macro might be used in the situation
  where there are two \Condor{startd} daemons running on one machine,
  and each reports to the same \Condor{collector}.
  Different names will distinguish the two daemons.

\end{description}

These macros only apply to the startd when it is running on an
SMP machine. 
See section~\ref{sec:Configuring-SMP} on
page~\pageref{sec:Configuring-SMP} on Configuring The Startd for 
SMP Machines for details.

\begin{description}

\item[\Macro{VIRTUAL\_MACHINES\_CONNECTED\_TO\_CONSOLE}] 
\label{param:VirtualMachinesConnectedToConsole}
  An integer which indicates how many of the virtual
  machines the startd is representing should be "connected" to the
  console (in other words, notice when there's console activity).
  This defaults to all virtual machines (N in a machine with N CPUs).

\item[\Macro{VIRTUAL\_MACHINES\_CONNECTED\_TO\_KEYBOARD}]
\label{param:VirtualMachinesConnectedToKeyboard}
  An integer which indicates how many of the virtual
  machines the startd is representing should be "connected" to the
  keyboard (for remote tty activity, as well as console activity).
  Defaults to 1.

\item[\Macro{DISCONNECTED\_KEYBOARD\_IDLE\_BOOST}]
\label{param:DisconnectedKeyboardIdleBoost}
  If there are virtual machines not connected to either the keyboard
  or the console, the corresponding idle time reported will be the
  time since the startd was spawned, plus the value of this macro.
  It defaults to 1200 seconds (20 minutes). 
  We do this because if the virtual machine is configured not to care
  about keyboard activity, we want it to be available to Condor jobs
  as soon as the startd starts up, instead of having to wait for 15
  minutes or more (which is the default time a machine must be idle
  before Condor will start a job).
  If you do not want this boost, set the value to 0.  
  If you change your START expression to require more than 15 minutes
  before a job starts, but you still want jobs to start right away on
  some of your SMP nodes, increase this macro's value.

\end{description}

The following settings control the number of virtual machines reported
for a given SMP host, and what attributes each one has.  
They are only needed if you do not want to have an SMP machine report
to Condor with a separate virtual machine for each CPU, with all
shared system resources evenly divided among them.
Please read section~\ref{sec:SMP-Divide} on
page~\pageref{sec:SMP-Divide} for details on how to properly configure
these settings to suit your needs.

\Note You can only change the number of each type of virtual machine
the \Condor{startd} is reporting with a simple reconfig (such as
sending a SIGHUP signal, or using the \Condor{reconfig} command).
You cannot change the definition of the different virtual machine
types with a reconfig.  
If you change them, you must restart the \Condor{startd} for the
change to take effect (for example, using ``\condor{restart}
-startd'').

\begin{description}

\item[\Macro{MAX\_VIRTUAL\_MACHINE\_TYPES}]
\label{param:MaxVirtualMachineTypes}
  The maximum number of different virtual machine types.  
  Note: this is the maximum number of different \emph{types}, not of
  actual virtual machines.
  Defaults to 10.  
  (You should only need to change this setting if you define more than
  10 separate virtual machine types, which would be pretty rare.)

\item[\Macro{VIRTUAL\_MACHINE\_TYPE\_<N>}]
\label{param:VirtualMachineTypeN}
  This setting defines a given virtual machine type, by specifying
  what part of each shared system resource (like RAM, swap space, etc)
  this kind of virtual machine gets.
  N can be any integer from 1 to the value of
  \MacroUNI{MAX\_VIRTUAL\_MACHINE\_TYPES}, such as
  \MacroNI{VIRTUAL\_MACHINE\_TYPE\_1}. 
  The format of this entry can be somewhat complex, so please refer to
  section~\ref{sec:SMP-Divide} on page~\pageref{sec:SMP-Divide} for
  details on the different possibilities.

\item[\Macro{NUM\_VIRTUAL\_MACHINES\_TYPE\_<N>}]
\label{param:NumVirtualMachinesTypeN}
  This macro controls how many of a given virtual machine type
  are actually reported to Condor.
  There is no default.

\item[\Macro{NUM\_VIRTUAL\_MACHINES}]
\label{param:NumVirtualMachines}
  If your SMP machine is being evenly divided, and the virtual
  machine type settings described above are not being used, this
  macro controls how many virtual machines will be reported.  
  The default is one virtual machine for each CPU.
  This setting can be used to reserve some CPUs on an SMP which would
  not be reported to the Condor pool.

\end{description}

The following macros control the \Prog{cron} capabilities of Condor.
The \Prog{cron} mechanism is used to run executables (called
modules) directly from the \Condor{startd} daemon.
The output of these modules
is incorporated into the machine ClassAd generated by the
\Condor{startd}.  These capabilities are used in Hawkeye, but can be
used in other situations, as well.

\begin{description}

\item[\Macro{STARTD\_CRON\_NAME}]
\label{param:StartdCronName}
  Defines a logical name to be used in the formation of related
  configuration macro names. While
  not required, this macro makes other macros
  more readable and maintainable.  A common example:
\begin{verbatim}
        STARTD_CRON_NAME = HAWKEYE
\end{verbatim}
  This example allows Condor to refer to other related macros
  with the string ``HAWKEYE'' in their name.

\item[\Macro{STARTD\_CRON\_JOBS}]
\label{param:StartdCronJobs}
  The list of the modules to execute.  In Hawkeye, this is usually
  named HAWKEYE\_JOBS.

  This configuration variable is defined by
  a whitespace or newline separated list of jobs (called modules) to run, of the form:
\begin{verbatim}
	modulename:prefix:executable:period[:options]
\end{verbatim}
  Each of these fields can be surrounded by matching quote characters
  (single quote or double quote, but they must match).  This allows
  colon and whitespace characters to be specified.  For example, the
  following specifies an executable name with a colon and a space in it:
  \begin{verbatim}foo:foo_:''c:/some dir/foo.exe'':10m\end{verbatim}
  These individual fields are described below: \begin{itemize}

    \item \MacroNI{modulename} The logical name of the module.  This name
    must be unique (no two modules may have the same name).

    \item \MacroNI{prefix} Specifies a string which is prepended by
    Condor to all attribute names that the module generates.  For
    example, if a prefix is ``xyz\_'', and an individual attribute is
    named ``abc'', the resulting attribute would be ``xyz\_abc''.
    Although it can be quoted, the prefix can contain only
    alpha-numeric characters.

    \item \MacroNI{executable} Used to specify the full path to the
    executable to run for this module.  Note that multiple modules may
    specify the same executable (although they need to have different
    names).  As noted above, the executable name can be quoted,
    allowing for names with spaces and/or colons(:).

    \item \MacroNI{period} The period specifies time intervals at
    which the module should be run.
    For non-continuous modules, this
    is the time interval that passes between starting the execution
    of the module.
    The value may be specified in seconds (append value with the character 's'),
    in minutes (append value with the character 'm'),
    or in hours (append value with the character 'h').
    As an example, 5m starts the execution of the module every five minutes.
    If no character is appended to the value, seconds are used as a default.
    For continuous mode, the value has a different meaning.
    It specifies the length of time after the module ceases execution
    before it is restarted.
    A value of 0 is valid only in continuous mode.

   \item Several options are available. Using more than one
   of these options for one module does not make sense.  If this happens,
   the last one in the list is followed.

	\MacroNI{continuous} is used to specify a module which runs in continuous
	mode (as described above).
	In continuous mode, the \Condor{startd} daemon will
	attempt to keep the module running continuously;
	this is used for modules that do not normally exit.
	If the period is non-zero, Condor uses the period field as
	an amount of time to wait after
	the module exits before restarting it.

	\MacroNI{kill} 
	For a noncontinuous mode of module execution,
	the module may still be running when the period is up
	and it is time to start the module again.
	This option causes the module to be killed and restarted.

	\MacroNI{no kill} 
	For a noncontinuous mode of module execution,
	the module may still be running when the period is up
	and it is time to start the module again.
	This option allows the module to continue execution.
	This is the default for noncontinuous mode.
	
  \end{itemize}
\Note The configuration file parsing logic will strip whitespace from
the beginning and end of continuation lines.  Thus, a job list like
below will be mis-interpretted:
\begin{verbatim}
# Hawkeye Job Definitions
HAWKEYE_JOBS   =\
    job1:prefix_:$(MODULES)/job1:5m:nokill\
    job2:prefix_:$(MODULES)/job1_co:1h
HAWKEYE_JOB1_ARGS =-foo -bar
HAWKEYE_JOB1_ENV = xyzzy=somevalue
HAWKEYE_JOB2_ENV = lwpi=somevalue
\end{verbatim}
Instead, you should write this as below:
\begin{verbatim}
# Hawkeye Job Definitions
HAWKEYE_JOBS   =

# Job 1
HAWKEYE_JOBS = $(HAWKEYE_JOBS) job1:prefix_:$(MODULES)/job1:5m:nokill
HAWKEYE_JOB1_ARGS =-foo -bar
HAWKEYE_JOB1_ENV = xyzzy=somevalue

# Job 2
HAWKEYE_JOBS = $(HAWKEYE_JOBS) job2:prefix_:$(MODULES)/job2:1h
HAWKEYE_JOB2_ENV = lwpi=somevalue
\end{verbatim}


\item[\Macro{STARTD\_CRON\_modulename\_ARGS}]
\label{param:StartdCronModuleArgs}
  The command line arguments to pass to the module to be executed. 
  If \MacroNI{STARTD\_CRON\_NAME}
  is defined, then this configuration macro name is changed from
  \MacroNI{STARTD\_CRON\_modulename\_ARGS} to
  \MacroNI{\MacroUNI{STARTD\_CRON\_NAME}\_modulename\_ARGS}.


\item[\Macro{STARTD\_CRON\_modulename\_ENV}]
\label{param:StartdCronModuleEnv}
  The environment string to pass to the module.
  The syntax is the same as that of 
  \MacroNI{DAEMONNAME\_ENVIRONMENT} in ~\ref{param:DaemonNameEnvironment}.
  If \MacroNI{STARTD\_CRON\_NAME}
  is defined, then this configuration macro name is changed from
  \MacroNI{STARTD\_CRON\_modulename\_ENV} to
  \MacroNI{\MacroUNI{STARTD\_CRON\_NAME}\_modulename\_ENV}.

\item[\Macro{STARTD\_CRON\_modulename\_CWD}]
\label{param:StartdCronModuleCwd}
  The working directory in which to start the module.
  If \MacroNI{STARTD\_CRON\_NAME}
  is defined, then this configuration macro name is changed from
  \MacroNI{STARTD\_CRON\_modulename\_CWD} to
  \MacroNI{\MacroUNI{STARTD\_CRON\_NAME}\_modulename\_CWD}.


\end{description}

The following macros control the optional computation of resource
availability statistics in the startd.

\begin{description}

\item[\Macro{STARTD\_COMPUTE\_AVAIL\_STATS}]
\label{param:StartdComputeAvailStats}
  A boolean that determines if the startd computes resource
  availability statistics.  The default is False.

\item[\Macro{STARTD\_AVAIL\_CONFIDENCE}]
\label{param:StartdAvailConfidence}
  A floating point number that sets the confidence level of the
  startd's AvailTime estimate.  By default, the estimate is based on
  the 80th percentile of past values (i.e., the macro is set to 0.8).

\item[\Macro{STARTD\_MAX\_AVAIL\_PERIOD\_SAMPLES}]
\label{param:StartdMaxAvailPeriodSamples}
  An integer that limits the number of samples of past available
  intervals stored by the startd to limit memory and disk consumption.
  Each sample requires 4 bytes of memory and approximately 10 bytes of
  disk space.

\end{description}

If \Macro{STARTD\_COMPUTE\_AVAIL\_STATS} = True, the startd will
define the following ClassAd attributes for resources:

\begin{description}
\item[\AdAttr{AvailTime}]
  What proportion of the time (between 0.0 and 1.0)
  has this resource been in a state other than ``Owner''?
\item[\AdAttr{LastAvailInterval}]
  What was the duration (in seconds) of the
  last period between ``Owner'' states?
\end{description}

The following attributes will also be included if the resource is
not in the ``Owner'' state:

\begin{description}
\item[\AdAttr{AvailSince}]
  At what time did the resource last leave the
  ``Owner'' state?  Measured in the number of seconds since the
  epoch (00:00:00 UTC, Jan 1, 1970).
\item[\AdAttr{AvailTimeEstimate}]
  Based on past history, this is an estimate
  of how long the current period between ``Owner'' states will
  last.
\end{description}

The following configuration variables support java universe jobs.

\begin{description}
\item[\Macro{JAVA}]
\label{param:Java}
  The full path to the Java interpreter (the Java Virtual Machine).

\item[\Macro{JAVA\_MAXHEAP\_ARGUMENT}]
\label{param:JavaMaxheapArgument}
  An incomplete command line argument to the Java interpreter
  (the Java Virtual Machine)
  to specify the switch name for the Maxheap Argument.
  Condor uses it to construct the maximum heap size
  for the Java Virtual Machine. 
  For example, the value for the Sun JVM is \Arg{-Xmx}.

\item[\Macro{JAVA\_CLASSPATH\_ARGUMENT}]
\label{param:JavaClasspathArgument}
  The command line argument to the Java interpreter (the Java Virtual Machine)
  that specifies the Java Classpath.
  Classpath is a Java-specific term that denotes the list of
  locations (\File{.jar} files and/or directories)
  where the Java interpreter can
  look for the Java class files that a Java program requires.

\item[\Macro{JAVA\_CLASSPATH\_SEPARATOR}]
\label{param:JavaClasspathSeparator}
  The single character used to delimit constructed entries in the
  Classpath for the given operating system and Java Virtual Machine.
  If not defined, the operating system is queried for its default
  Classpath separator.

\item[\Macro{JAVA\_CLASSPATH\_DEFAULT}]
\label{param:JavaClasspathDefault}
  A list of path names to \File{.jar} files to be added to the Java Classpath 
  by default.
  The comma and/or space character delimits list entries.

\item[\Macro{JAVA\_EXTRA\_ARGUMENTS}]
\label{param:JavaExtraArguments}
  A list of additional arguments to be passed to the Java executable.
\end{description}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{\label{sec:Schedd-Config-File-Entries}
\condor{schedd} Configuration File Entries}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\index{configuration!condor\_schedd configuration variables}
These macros control the \Condor{schedd}.
\begin{description}

\item[\Macro{SHADOW}] \label{param:Shadow} This macro determines the
  full path of the \Condor{shadow} binary that the \Condor{schedd}
  spawns.  It is normally defined in terms of \MacroUNI{SBIN}. 
  
\item[\Macro{SHADOW\_PVM}] \label{param:ShadowPvm} This macro
  determines the full path of the special \Condor{shadow.pvm} binary
  used for supporting PVM jobs that the \Condor{schedd} spawns.  It is
  normally defined in terms of \MacroUNI{SBIN}.

\item[\Macro{MAX\_JOBS\_RUNNING}] \label{param:MaxJobsRunning} This
  macro limits the number of processes spawned by a given
  \Condor{schedd}, for all job universes except the 
  globus [grid] universe.  See section~\ref{sec:Choosing-Universe}.
  This includes, but is not limited to \Condor{shadow} processes,
  and scheduler universe processes, including \Condor{dagman}.
  The actual
  number of \Condor{shadow}s may be less if you have reached
  your \MacroUNI{RESERVED\_SWAP} limit.
  When undefined, and therefore the default value,
  there is no maximum limit on the number of processes spawned.

\item[\Macro{MAX\_SHADOW\_EXCEPTIONS}]
  \label{param:MaxShadowExceptions} This macro controls the maximum
  number of times that \Condor{shadow} processes can have a fatal
  error (exception) before the \Condor{schedd} will relinquish
  the match associated with the dying shadow.  Defaults to 5.

\item[\Macro{SCHEDD\_INTERVAL}] \label{param:ScheddInterval}  This
  macro determines how often the \Condor{schedd} sends a ClassAd
  update to the \Condor{collector}.  It is defined in terms of seconds
  and defaults to 300 (every 5 minutes).
  
\item[\Macro{JOB\_START\_DELAY}] \label{param:JobStartDelay} When the
  \Condor{schedd} has finished negotiating and has many new
  machines that it has claimed, the \Condor{schedd} can wait
  for a delay period before starting up a \Condor{shadow} for each job
  it is going to run.  The delay prevents a sudden, large load on the submit
  machine as it spawns many shadows simultaneously. It prevents
  having to deal
  with their startup activity all at once.  This macro determines how
  how long the \Condor{schedd} should wait in between spawning each
  \Condor{shadow}.  
  Similarly, this macro is also used during the graceful shutdown of the
  \Condor{schedd}.
  During graceful shutdown, this macro determines how long to wait in
  between asking each \Condor{shadow} to gracefully shutdown.  
  Defined in terms of seconds and defaults to 2. 
  
\item[\Macro{ALIVE\_INTERVAL}] \label{param:AliveInterval} This
  macro determines how often the \Condor{schedd} should send a keep
  alive message to any startd it has claimed.
  When the schedd claims a startd, it tells the startd how often it is
  going to send these messages.
  If the startd does not recieve any of these keep alive messages
  during a certain period of time (defined via
  \Macro{MAX\_CLAIM\_ALIVES\_MISSED}, described on
  page~\pageref{param:MaxClaimAlivesMissed})
  the startd releases the claim, and the schedd is no longer pays for
  the resource (in terms of user priority in the system).
  The macro is defined in terms of seconds and defaults to 300 (every
  5 minutes).

\item[\Macro{SHADOW\_SIZE\_ESTIMATE}] \label{param:ShadowSizeEstimate}
  This macro sets the estimated virtual memory size of each
  \Condor{shadow} process.  Specified in kilobytes.  The default
  varies from platform to platform.

\item[\Macro{SHADOW\_RENICE\_INCREMENT}]
  \label{param:ShadowReniceIncrement} When the schedd spawns a new
  \Condor{shadow}, it can do so with a \Term{nice-level}.  A
  nice-level is a
  Unix mechanism that allows users to assign their own processes a lower 
  priority so that the processes do not interfere with interactive use of the
  machine.  This is very handy for keeping a submit machine with lots
  of shadows running still useful to the owner of the machine.  The
  value can be any integer between 0 and 19, with a value of 19 being
  the lowest priority.  It defaults to 10.

\item[\Macro{QUEUE\_CLEAN\_INTERVAL}] \label{param:QueueCleanInterval}
  The schedd maintains the job queue on a given machine.  It does so
  in a persistent way such that if the schedd crashes, it can recover
  a valid state of the job queue.  The mechanism it uses is a
  transaction-based log file (the \File{job\_queue.log} file,
  not the \File{SchedLog} file).  This file contains an initial
  state of the job queue, and a series of transactions that were
  performed on the queue (such as new jobs submitted, jobs completing,
  and checkpointing).  Periodically, the schedd will go through
  this log, truncate all the transactions and create a new file with
  containing only the new initial state of the log.
  This is a somewhat expensive operation,
  but it speeds up when the schedd restarts since there are
  fewer transactions it has to play to figure out what state the job
  queue is really in.  This macro determines how often the schedd
  should rework this queue to cleaning it up.  It is defined in terms of
  seconds and defaults to 86400 (once a day). 
  
\item[\Macro{WALL\_CLOCK\_CKPT\_INTERVAL}] \label{param:WallClockCkptInterval}
  The job queue contains a counter for each job's ``wall clock'' run
  time, i.e., how long each job has executed so far.  This counter is
  displayed by \Condor{q}.  The counter is updated when the job is
  evicted or when the job completes.  When the schedd crashes, the run
  time for jobs that are currently running will not be added to the
  counter (and so, the run time counter may become smaller than the
  cpu time counter).  The schedd saves run time ``checkpoints''
  periodically for running jobs so if the schedd crashes, only run
  time since the last checkpoint is lost.  This macro controls how
  often the schedd saves run time checkpoints.  It is defined in terms
  of seconds and defaults to 3600 (one hour).  A value of 0 will
  disable wall clock checkpoints.

\item[\Macro{ALLOW\_REMOTE\_SUBMIT}] \label{param:AllowRemoteSubmit}
  Starting with Condor Version 6.0, users can run \Condor{submit} on
  one machine and actually submit jobs to another machine in the
  pool.  This is called a \Term{remote submit}.  Jobs submitted in
  this way are entered into the job queue owned by the Unix user
  nobody.
  This macro determines whether this is allowed.
  It defaults to FALSE.
     
\item[\Macro{QUEUE\_SUPER\_USERS}] \label{param:QueueSuperUsers} This
  macro determines what user names on a given machine have
  \Term{super-user access} to the job queue, meaning that they can
  modify or delete the job ClassAds of other users.  (Normally, you
  can only modify or delete ClassAds from the job queue that you own).
  Whatever user name corresponds with the UID that Condor is running as
  (usually the Unix user condor) will automatically be included in this list
  because that is needed for Condor's proper functioning.  See
  section~\ref{sec:uids} on UIDs in Condor for more details on
  this.  By default, we give root the ability to remove other
  user's jobs, in addition to user condor.
      
\item[\Macro{SCHEDD\_LOCK}] \label{param:ScheddLock} This macro
  specifies what lock file should be used for access to the
  \File{SchedLog} file.  It must be a separate file from the
  \File{SchedLog}, since the \File{SchedLog} may be rotated and
  synchronization across log file rotations
  is desired.
  This macro is defined relative to the \MacroUNI{LOCK} macro.
  If you decide to change this setting (not recommended),
  be sure to change the \MacroUNI{VALID\_LOG\_FILES} entry that
  \Condor{preen} uses as well.

\item[\Macro{SCHEDD\_NAME}] \label{param:ScheddName}
  A unique name given for a \Condor{schedd} daemon on a machine.
  Defaults to username@hostname, where the username is the user name
  under which the \Condor{schedd} daemon is executed.
  If the \Condor{schedd} daemon is running as root, then
  \MacroNI{SCHEDD\_NAME} is the host name.
  This configuration macro is used to identify \Condor{schedd}
  ClassAds.

\item[\Macro{SCHEDD\_ATTRS}] \label{param:ScheddAttrs} This macro is
  correctly used as \MacroNI{SUBMIT\_EXPRS}, as described in
  section~\ref{param:SubsysAttrs} on \MacroNI{SUBSYS\_ATTRS}.

\item[\Macro{SCHEDD\_DEBUG}] \label{param:ScheddDebug} This macro
  (and other settings related to debug logging in the schedd) is
  described in section~\ref{param:SubsysDebug} as
  \MacroNI{SUBSYS\_DEBUG}.

\item[\Macro{SCHEDD\_ADDRESS\_FILE}] \label{param:ScheddAddressFile}
  This macro is described in
  section~\ref{param:SubsysAddressFile} as
  \MacroNI{SUBSYS\_ADDRESS\_FILE}. 

\item[\Macro{FLOCK\_NEGOTIATOR\_HOSTS}] \label{param:FlockNegotiatorHosts} 
  This macro defines a list of negotiator host names (not including the
  local \MacroUNI{NEGOTIATOR\_HOST} machine) for pools in which the
  schedd should attempt to run jobs.  Hosts in the list should be in
  order of preference.  The schedd will only send a request to a
  central manager in the list if the local pool and pools earlier in
  the list are not satisfying all the job requests.
  \MacroUNI{HOSTALLOW\_NEGOTIATOR\_SCHEDD} (see
  section~\ref{param:HostAllow}) must also be configured to allow
  negotiators from all of the \MacroUNI{FLOCK\_NEGOTIATOR\_HOSTS} to
  contact the schedd.  Please make sure the
  \MacroUNI{NEGOTIATOR\_HOST} is first in the
  \MacroUNI{HOSTALLOW\_NEGOTIATOR\_SCHEDD} list.  Similarly, the
  central managers of the remote pools must be configured to listen to
  requests from this schedd.

\item[\Macro{FLOCK\_COLLECTOR\_HOSTS}] \label{param:FLockCollectorHosts}
  This macro defines a list of collector host names for pools in which
  the schedd should attempt to run jobs.  The
  collectors must be specified in order, corresponding to the
  \MacroUNI{FLOCK\_NEGOTIATOR\_HOSTS} list.  In the typical case, where each pool
  has the collector and negotiator running on the same machine,
  \MacroUNI{FLOCK\_COLLECTOR\_HOSTS} should have the same definition as
  \MacroUNI{FLOCK\_NEGOTIATOR\_HOSTS}.

% No longer needed as of 6.5.2.  Now done automatically.
%\item[\Macro{FLOCK\_VIEW\_SERVERS}] \label{param:FlockViewServers}
% This macro defines a list of hostnames where the condor-view server
% is running in the pools to which you want your jobs to flock.  The
% order of this list must correspond to the order of the
% \MacroUNI{FLOCK\_COLLECTOR\_HOSTS} and
% \MacroUNI{FLOCK\_NEGOTIATOR\_HOSTS} lists.  List items may be empty
% for pools which don't use a separate condor-view server.
% \MacroUNI{FLOCK\_VIEW\_SERVER} may be left undefined if no remote
% pools use separate condor-view servers.  Note: It is required that
% the same hostname does not appear twice in the
% \MacroUNI{FLOCK\_VIEW\_SERVERS} list and that the
% \MacroUNI{CONDOR\_VIEW\_HOST} does not appear in the
% \MacroUNI{FLOCK\_VIEW\_SERVERS} list.

\item[\Macro{NEGOTIATE\_ALL\_JOBS\_IN\_CLUSTER}]
  \label{param:NegotiateAllJobsInCluster}
  If this macro is set to False (the default), when the schedd fails
  to start an idle job, it will not try to start any other
  idle jobs in the same cluster during that negotiation cycle.  This
  makes negotiation much more efficient for large job clusters.
  However, in some cases other jobs in the cluster can be started even
  though an earlier job can't.  For example, the jobs' requirements
  may differ, because of different disk space, memory, or
  operating system requirements.  Or, machines may be willing to run
  only some jobs in the cluster, because their requirements reference
  the jobs' virtual memory size or other attribute.  Setting this
  macro to True will force the schedd to try to start all idle jobs in
  each negotiation cycle.  This will make negotiation cycles last
  longer, but it will ensure that all jobs that can be started will be
  started.

\item[\Macro{PERIODIC\_EXPR\_INTERVAL}]
  \label{param:PeriodicExprInterval} This macro determines the period,
  in seconds, between evaluation of periodic job control expressions,
  such as periodic\_hold, periodic\_release, and periodic\_remove,
  given by the user in a Condor submit file. By default, this value is
  300 seconds (5 minutes).  A value of 0 prevents the schedd from
  performing the periodic evaluations.
\end{description}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{\label{sec:Shadow-Config-File-Entries}
\condor{shadow} Configuration File Entries}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\index{configuration!condor\_shadow configuration variables}
These settings affect the \Condor{shadow}.
\begin{description}

\item[\Macro{SHADOW\_LOCK}] \label{param:ShadowLock} This macro
  specifies the lock file to be used for access to the
  \File{ShadowLog} file.  It must be a separate file from the
  \File{ShadowLog}, since the \File{ShadowLog} may be rotated 
  and you want to synchronize access across log file rotations.
  This macro is defined relative to the \MacroUNI{LOCK} macro.
  If you decide to change this setting (not recommended),
  be sure to change the \MacroUNI{VALID\_LOG\_FILES} entry that
  \Condor{preen} uses as well.

\item[\Macro{SHADOW\_DEBUG}] \label{param:ShadowDebug} This macro
  (and other settings related to debug logging in the shadow) is
  described in section~\ref{param:SubsysDebug} as
  \MacroNI{SUBSYS\_DEBUG}.

\item[\Macro{SHADOW\_QUEUE\_UPDATE\_INTERVAL}]
\label{param:ShadowQueueUpdateInterval}
The amount of time (in seconds) between ClassAd updates that the
\Condor{shadow} daemon sends to the \Condor{schedd} daemon.
Defaults to 900 (15 minutes).

\item[\Macro{COMPRESS\_PERIODIC\_CKPT}]
  \label{param:CompressPeriodicCkpt} This boolean macro specifies
  whether the shadow should instruct applications to compress periodic
  checkpoints (when possible).  The default is FALSE.

\item[\Macro{COMPRESS\_VACATE\_CKPT}]
  \label{param:CompressVacateCkpt} This boolean macro specifies
  whether the shadow should instruct applications to compress vacate
  checkpoints (when possible).  The default is FALSE.

\item[\Macro{PERIODIC\_MEMORY\_SYNC}] \label{param:PeriodicMemorySync}
  This boolean macro specifies whether the shadow should instruct
  applications to commit dirty memory pages to swap space during a
  periodic checkpoint.  The default is FALSE.  This potentially
  reduces the number of dirty memory pages at vacate time, thereby
  reducing swapping activity on the remote machine.

\item[\Macro{SLOW\_CKPT\_SPEED}] \label{param:SlowCkptSpeed}  This
  macro specifies the speed at which vacate checkpoints should be
  written, in kilobytes per second.  If zero (the default), vacate
  checkpoints are written as fast as possible.  Writing vacate
  checkpoints slowly can avoid overwhelming the remote machine with
  swapping activity.

\end{description}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{\label{sec:Shadow-PVM-Config-File-Entries}
\condor{shadow.pvm} Configuration File Entries}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\index{configuration!condor\_shadow.pvm configuration variables}
These macros control the \Condor{shadow.pvm}, the special shadow
that supports PVM jobs inside Condor.  See
section~\ref{sec:Install-PVM-Condor} on Installing PVM Support in
Condor for details.  \Condor{shadow} macros also apply to this
special shadow.  See section~\ref{sec:Shadow-Config-File-Entries}.
\begin{description}

\item[\Macro{PVMD}] \label{param:PvmD}  This macro holds the full path
  to the special \Condor{pvmd}, the Condor PVM daemon.  This daemon is
  installed in the regular Condor release directory by default, so the
  macro is usually defined in terms of \MacroUNI{SBIN}.
  
\item[\Macro{PVMGS}] \label{param:PvmGS} This macro holds the full
  path to the special \Condor{pvmgs}, the Condor PVM Group Server
  daemon, which is needed to support PVM groups.  This daemon is
  installed in the regular Condor release directory by default, so the
  macro is usually defined in terms of \MacroUNI{SBIN}.

\end{description}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{\label{sec:Starter-Config-File-Entries}
\condor{starter} Configuration File Entries}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\index{configuration!condor\_starter configuration variables}
These settings affect the \Condor{starter}.
\begin{description}

\item[\Macro{EXEC\_TRANSFER\_ATTEMPTS}] \label{param:ExecTransferAttempts}
  Sometimes due to a router misconfiguration, kernel bug, or other Act
  of God network problem, the transfer of the initial checkpoint from
  the submit machine to the execute machine will fail midway through.
  This parameter allows a retry of the transfer a certain number of times
  that must be equal to or greater than 1. If this parameter is not
  specified, or specified incorrectly, then it will default to three.
  If the transfer of the initial executable fails every attempt, then
  the job goes back into the idle state until the next renegotiation
  cycle.

  \Note: This parameter does not exist in the NT starter.

\item[\Macro{JOB\_RENICE\_INCREMENT}] \label{param:JobReniceIncrement}
  When the \Condor{starter} spawns a Condor job, it can do so with a
  \Term{nice-level}.
  A nice-level is a
  Unix mechanism that allows users to assign their own processes a lower 
  priority, such that these processes do not interfere with interactive
  use of the machine.
  If you have machines with lots
  of real memory and swap space, so that the only scarce resource is CPU time,
  you may use this macro in conjunction with a policy that
  allows Condor to always start jobs on the machines. 
  Condor jobs would always run,
  but interactive response on your machines would never suffer.
  You most likely will not notice Condor is
  running jobs.  See section~\ref{sec:Configuring-Policy} on
  Configuring The Startd Policy for more details on setting up a
  policy for starting and stopping jobs on a given machine.

  The value is an arbitrary ClassAd expression,
  evaluated by the \Condor{starter} daemon for each job just before the
  job runs, and the expression can refer to any attribute in the job ClassAd.
  The range of allowable values are integers in the range of 0 to 19
  (inclusive),
  with a value of 19 being the lowest priority.  
  If the expression evaluates to a value outside this range,
  then on a Unix machine, a value greater than 19 is auto-decreased to 19;
  a value less than 0 is treated as 0.
  For values outside this range, a Windows machine ignores the value
  and uses the default instead.
  The default value is 10, which maps to the idle priority class on
  a Windows machine.

\item[\Macro{STARTER\_LOCAL\_LOGGING}]
  \label{param:StarterLocalLogging} This macro determines whether the
  starter should do local logging to its own log file, or send debug
  information back to the \Condor{shadow} where it will end up in the
  ShadowLog.  It defaults to TRUE.

\item[\Macro{STARTER\_DEBUG}] \label{param:StarterDebug} This setting
  (and other settings related to debug logging in the starter) is
  described above in section~\ref{param:SubsysDebug} as
  \MacroUNI{SUBSYS\_DEBUG}.

\item[\Macro{STARTER\_UPDATE\_INTERVAL}] \label{param:StarterUpdateInterval}
The amount of time (in seconds) between ClassAd updates that the
\Condor{starter} daemon sends to the \Condor{shadow} daemon.
Defaults to 1200 (20 minutes).

\item[\Macro{USER\_JOB\_WRAPPER}] \label{param:UserJobWrapper} This macro
  allows the administrator to specify a ``wrapper'' script to handle the
  execution of all user jobs.  
  If specified, Condor will never directly execute a job but instead will
  invoke the program specified by this macro.
  The command-line arguments passed to this program will include the
  full-path to the actual user job which should be executed, followed by all
  the command-line parameters to pass to the user job.
  This wrapper program must ultimately replace its image with the user job;
  in other words, it must \Term{exec()} the user job, not \Term{fork()} it.
  For instance, if the wrapper program is a C/Korn shell script, the
  last line of execution should be:
\begin{verbatim}
        exec $*
\end{verbatim}
  This can potentially lose information about the arguments.
  Any argument with embedded whitespace will be split into multiple
  arguments.
  For example the argument "argument one" will become the two arguments
  "argument" and "one".
  For Bourne shells, the following preserves the arguments:
\begin{verbatim}
           exec "$@"
\end{verbatim}

\end{description}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{\label{sec:Submit-Config-File-Entries}
\condor{submit} Configuration File Entries}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\index{configuration!condor\_submit configuration variables}
\begin{description}
\item[\Macro{DEFAULT\_UNIVERSE}] \label{param:DefaultUniverse}
The universe under which a job is executed may be specified in the submit
description file.
If it is not specified in the submit description file, then
this variable specifies the universe (when defined).
If the universe is not specified in the submit description
file, and if this variable is not defined, then
the default universe for a job will be the standard universe.
\end{description}

If you want \Condor{submit} to automatically append an expression to
the \AdAttr{Requirements} expression or \AdAttr{Rank} expression of 
jobs at your site use the following macros:
\begin{description}
  
\item[\Macro{APPEND\_REQ\_VANILLA}] \label{param:AppendReqVanilla}
  Expression to be appended to vanilla job requirements.
  
\item[\Macro{APPEND\_REQ\_STANDARD}] \label{param:AppendReqStandard}
  Expression to be appended to standard job requirements.

\item[\Macro{APPEND\_REQUIREMENTS}] \label{param:AppendReq}
  Expression to be appended to any type of universe jobs. 
  However, if \MacroNI{APPEND\_REQ\_VANILLA} or \MacroNI{APPEND\_REQ\_STANDARD}
  is defined, then ignore the \MacroNI{APPEND\_REQUIREMENTS} for those
  universes.

\item[\Macro{APPEND\_RANK}] \label{param:AppendRank}
  Expression to be appended to job rank.  \MacroNI{APPEND\_RANK\_STANDARD} or
    \MacroNI{APPEND\_RANK\_VANILLA} will override this setting if defined.

\item[\Macro{APPEND\_RANK\_STANDARD}] \label{param:AppendRankStandard}
  Expression to be appended to standard job rank.

\item[\Macro{APPEND\_RANK\_VANILLA}] \label{param:AppendRankVanilla}
  Expression to append to vanilla job rank.

\end{description}

\Note The \Macro{APPEND\_RANK\_STANDARD} and 
\Macro{APPEND\_RANK\_VANILLA} macros were called
\Macro{APPEND\_PREF\_STANDARD} and
\Macro{APPEND\_PREF\_VANILLA} in previous versions of Condor.

In addition, you may provide default \AdAttr{Rank} expressions if your users
do not specify their own with:

\begin{description}

\item[\Macro{DEFAULT\_RANK\_VANILLA}] \label{param:DefaultRankVanilla}
  Default Rank for vanilla jobs.  

\item[\Macro{DEFAULT\_RANK\_STANDARD}] \label{param:DefaultRankStandard}
  Default Rank for standard jobs.


\end{description}

Both of these macros default to the jobs preferring machines where
there is more main memory than the image size of the job, expressed
as:
\begin{verbatim}
        ((Memory*1024) > Imagesize)
\end{verbatim}

\begin{description}
\item[\Macro{DEFAULT\_IO\_BUFFER\_SIZE}] \label{param:DefaultBufferSize}
  Condor keeps a buffer of recently-used data for each file an
  application opens.  This macro specifies the default maximum number
  of bytes to be buffered for each open file at the executing machine.
  The \Condor{status} \MacroNI{buffer\_size} command will override this
  default.  If this macro is undefined, a default size of 512 KB will
  be used.

\item[\Macro{DEFAULT\_IO\_BUFFER\_BLOCK\_SIZE}] 
  \label{param:DefaultBufferBlockSize} When buffering is enabled,
  Condor will attempt to consolidate small read and write operations
  into large blocks.  This macro specifies the default block size
  Condor will use.  The \Condor{status} \MacroNI{buffer\_block\_size}
  command will override this default.  If this macro is undefined, a
  default size of 32 KB will be used.

\item[\Macro{SUBMIT\_SKIP\_FILECHECK}] \label{param:SubmitSkipFilecheck}
  If True, \Condor{submit} behaves as if the \Opt{-d} 
  command-line option is used.
  This tells \Condor{submit} to disable file permission checks when
  submitting a job.
  This can significantly decrease the amount of time required to submit
  a large group of jobs.
  The default value is False.

\item[\Macro{SUBMIT\_SEND\_RESCHEDULE}] \label{param:SubmitSendReschedule}
  A boolean expression that when False, prevents \Condor{submit} from
  automatically sending a \Condor{reschedule} command as it completes.
  The \Condor{reschedule} command causes the \Condor{schedd} daemon
  to start searching for machines with which to match the submitted
  jobs.  When True, this step always occurs.
  In the case that the machine where the job(s) are submitted is
  managing a huge number of jobs (thousands or tens of thousands),
  this step would hurt performance in such a way that it became
  an obstacle to scalability.
  The default value is True.

\item[\Macro{SUBMIT\_EXPRS}] \label{param:SubmitExprs}
  The given comma-seperated, named expressions are inserted into all 
  the job ClassAds that \Condor{submit} creates.  This is equivalent
  to the ``+'' syntax in submit files.  See the
  the \Condor{submit} manual page
  on page~\pageref{sec:man-condor-submit} for details on using the ``+''
  syntax to add attributes to the job ClassAd.
  Attributes defined in the submit description file with ``+'' will
  override attributes defined in the config file with
  \MacroNI{SUBMIT\_EXPRS}. 


\end{description}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{\label{sec:Preen-Config-File-Entries}
\condor{preen} Configuration File Entries}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\index{configuration!condor\_preen configuration variables}
These macros affect \Condor{preen}.

\begin{description}

\item[\Macro{PREEN\_ADMIN}] \label{param:PreenAdmin}  This macro
  sets the e-mail address where \Condor{preen} will send e-mail (if
  it is configured to send email at all... see the entry for
  \MacroNI{PREEN}).  Defaults to \MacroUNI{CONDOR\_ADMIN}.

\item[\Macro{VALID\_SPOOL\_FILES}] \label{param:ValidSpoolFiles}  This
  macro contains a (comma or space separated) list of files that
  \Condor{preen} considers valid files to find in the \MacroUNI{SPOOL}
  directory.  Defaults to all the files that are valid.  A change
  to the \MacroUNI{HISTORY} macro requires a change to this
  macro as well.
  
\item[\Macro{VALID\_LOG\_FILES}] \label{param:ValidLogFiles} This
  macro contains a (comma or space separated) list of files that
  \Condor{preen} considers valid files to find in the \MacroUNI{LOG}
  directory.  Defaults to all the files that are valid.  A change
  to the names of any of the log files above requires a change to this
  macro as well.  In addition, the defaults for the
  \MacroU{SUBSYS\_ADDRESS\_FILE} are listed here, so a change to
  those requires a change this entry as well.

\end{description}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{\label{sec:Collector-Config-File-Entries}
\condor{collector} Configuration File Entries}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\index{configuration!condor\_collector configuration variables}
These macros affect the \Condor{collector}.
\begin{description}
  
\item[\Macro{CLASSAD\_LIFETIME}] \label{param:ClassadLifetime} This
  macro determines how long a ClassAd can remain in the collector
  before it is discarded as stale information.  The ClassAds sent to
  the collector might also have an attribute that says how long the
  lifetime should be for that specific ad.  If that attribute is
  present, the collector will either use it or the
  \MacroUNI{CLASSAD\_LIFETIME}, whichever is greater.  The macro is
  defined in terms of seconds, and defaults to 900 (15 minutes).
  
\item[\Macro{MASTER\_CHECK\_INTERVAL}]
  \label{param:MasterCheckInterval}  This macro defines how often the
  collector should check for machines that have ClassAds from some
  daemons, but not from the \Condor{master} (\Term{orphaned daemons})
  and send e-mail about it.  It is defined in seconds and 
  defaults to 10800 (3 hours).

\item[\Macro{CLIENT\_TIMEOUT}] \label{param:ClientTimeout} Network
  timeout that the \Condor{collector} uses when talking to any daemons
  or tools that are sending it a ClassAd update.
  It is defined in seconds and defaults to 30.
  
\item[\Macro{QUERY\_TIMEOUT}] \label{param:QueryTimeout} Network
  timeout when talking to anyone doing a query. It is defined in seconds
  and defaults to 60.
  
\item[\Macro{CONDOR\_DEVELOPERS}] \label{param:CondorDevelopers}
  By default,
  Condor will send e-mail once per week to this address with the output
  of the \Condor{status} command, which lists how many machines
  are in the pool and how many are running jobs.  The default
  value of \Email{condor-admin@cs.wisc.edu} will send this report to
  the Condor Team developers at the University of Wisconsin-Madison.
  The Condor Team uses
  these weekly status messages in order to have some idea as to how
  many Condor pools exist in the world.  We appreciate
  getting the reports, as this is one way we can convince funding
  agencies that Condor is being used in the real world.  
  If you do not wish this information to be sent to the Condor Team,
  explicitly set the value to \Expr{NONE} to disable this feature,
  or replace the
  address with a desired location.  
  If undefined (commented out) in the configuration file, Condor follows
  its default behavior.

\item[\Macro{COLLECTOR\_NAME}] \label{param:CollectorName}
  This macro is used to specify a short description of your pool.
  It should be about 20 characters long.  For example, the name of the
  UW-Madison Computer Science Condor Pool is ``UW-Madison CS''.  

\item[\Macro{CONDOR\_DEVELOPERS\_COLLECTOR}]
  \label{param:CondorDevelopersCollector} By default, every pool sends
  periodic updates to a central \Condor{collector} at UW-Madison with
  basic information about the status of your pool.  This includes only
  the number of total machines, the number of jobs submitted, the
  number of machines running jobs, the host name of your central
  manager, and the \MacroUNI{COLLECTOR\_NAME} specified above.  These
  updates help the Condor Team see how Condor is being used around the world.
  By default, they will be sent to \File{condor.cs.wisc.edu}.
  If you do not want
  these updates to be sent from your pool,
  explicitly set this macro to \Expr{NONE}. 
  If undefined (commented out) in the configuration file, Condor follows
  its default behavior.

\item[\Macro{COLLECTOR\_SOCKET\_BUFSIZE}] 
  \label{param:CollectorSocketBufsize} This specifies the buffer size, in
  bytes, reserved for \Condor{collector} network sockets.  The default is
  1024000, or a one megabyte buffer.  This is a healthy size, even for a large
  pool.  The larger this value, the less likely the \Condor{collector} will
  have stale information about the pool due to dropping update packets.  If
  your pool is small or your central manager has very little RAM, considering
  setting this parameter to a lower value (perhaps 256000 or 128000).

\item[\Macro{COLLECTOR\_SOCKET\_CACHE\_SIZE}] 
  \label{param:CollectorSocketCacheSize} 
  If your site wants to use TCP connections to send ClassAd updates to
  the collector, you must use this setting to enable a cache of TCP
  sockets (in addition to enabling
  \Macro{UPDATE\_COLLECTOR\_WITH\_TCP}). 
  Please read section~\ref{sec:tcp-collector-update} on ``Using TCP to
  Send Collector Updates'' on page~\pageref{sec:tcp-collector-update}
  for more details and a discussion of when you would need this
  functionality. 
  If you do not enable a socket cache, TCP updates will be refused by
  the collector.
  The default value for this setting is 0, with no cache enabled.   

\item[\Macro{KEEP\_POOL\_HISTORY}] \label{param:KeepPoolHistory}
  This boolean macro is used to decide if the collector will write
  out statistical information about the pool to history files. The default
  is FALSE. The location, size and frequency of history logging is controlled
  by the other macros.

\item[\Macro{POOL\_HISTORY\_DIR}] \label{param:PoolHistoryDir}
  This macro sets the name of the directory where the history
  files reside (if history logging is enabled).
  The default is the \File{SPOOL} directory.

\item[\Macro{POOL\_HISTORY\_MAX\_STORAGE}]
  \label{param:PoolHistoryMaxStorage} 
  This macro sets the maximum combined size of the history files.
  When the size of the history files is close to this limit, the oldest
  information will be discarded.
  Thus, the larger this parameter's value is, the larger the time
  range for which history will be available.  The default value is
  10000000 (10 Mbytes).

\item[\Macro{POOL\_HISTORY\_SAMPLING\_INTERVAL}]
  \label{param:PoolHistorySamplingInterval}
  This macro sets the interval, in seconds, between samples for
  history logging purposes. 
  When a sample is taken, the collector goes through the information
  it holds, and summarizes it.
  The information is written to the history file once for each 4
  samples.
  The default (and recommended) value is 60 seconds. Setting this
  macro's value too low will increase the load on the collector,
  while setting it to high will produce less precise statistical
  information.

\item[\Macro{COLLECTOR\_DAEMON\_STATS}]
  \label{param:CollectorDaemonStats}
  This macro controls whether or not the Collector keeps update
  statistics on incoming updates.  The default value is True.  If
  this option is enabled, the collector will insert several attributes
  into ClassAds that it stores and sends.  ClassAds without the
  ``UpdateSequenceNumber'' and ``DaemonStartTime'' attributes will not
  be counted, and will not have attributes inserted (all modern Condor
  daemons which publish ClassAds publish these attributes).

  The attributes inserted are ``UpdatesTotal'', ``UpdatesSequenced'',
  and ``UpdatesLost''.  ``UpdatesTotal'' is the total number of
  updates (of this ad type) the Collector has received from this host.
  ``UpdatesSequenced'' is the number of updates that the Collector
  could have as lost.  In particular, for the first update from a
  daemon it's impossible to tell if any previous ones have been lost
  or not.  ``UpdatesLost'' is the number of updates that the Collector
  has detected as being lost.

\item[\Macro{COLLECTOR\_DAEMON\_HISTORY\_SIZE}]
  \label{param:CollectorDaemonHistorySize} This macro controls the
  size of the published update history that the Collector inserts into
  the ClassAds it stores and sends.  The default value is 128, which
  means that history is stored and published for the latest 128
  updates.  This macro is ignored if \MacroU{COLLECTOR\_DAEMON\_STATS}
  is not enabled.

  If this has a non-zero value, the Collector will insert
  ``UpdatesHistory'' into the ClassAd (similar to ``UpdatesTotal''
  above).  ``UpdatesHistory'' is a hexadecimal string which represents
  a bitmap of the last \Macro{COLLECTOR\_DAEMON\_HISTORY\_SIZE}
  updates.  The most significant bit (MSB) of the bitmap represents the
  most recent update, and the least significant bit (LSB) represents
  the least recent.  A value of zero means that the update was not
  lost, and a value of 1 indicates that the update was detected as
  lost.

  For example, if the last update was not lost, the previous lost, and
  the previous two not, the bitmap would be 0100, and the matching hex
  digit would be ``4''.  Note that the MSB can never be marked as lost
  because it's loss can only be detected by a non-lost update (a
  ``gap'' is found in the sequence numbers).  Thus, UpdatesHistory =
  "0x40" would be the history for the last 8 updates.  If the next
  updates are all successful, the values published, after each update,
  would be: 0x20, 0x10, 0x08, 0x04, 0x02, 0x01, 0x00.

\item[\Macro{COLLECTOR\_CLASS\_HISTORY\_SIZE}]
  \label{param:CollectorClassHistorySize} This macro controls the
  size of the published update history that the Collector inserts into
  the Collector ClassAds it produces.  The default value is zero.

  If this has a non-zero value, the Collector will insert
  ``UpdatesClassHistory'' into the Collector ClassAd (similar to
  ``UpdatesHistory'' above).  These are added ``per class'' of
  ClassAd, however.  The classes refer to the ``type'' of ClassAds
  (i.e. ``Start'').  Additionally, there is a ``Total'' class created
  which represents the history of all ClassAds that this Collector
  receives.

  Note that the collector always publishes Lost, Total and Sequenced
  counts for all ClassAd ``classes''.  This is similar to the
  statistics gathered if \MacroU{COLLECTOR\_DAEMON\_STATS} is enabled.

 \item[\Macro{COLLECTOR\_QUERY\_WORKERS}]
  \label{param:CollectorQueryWorkers} This macro sets the maximum
  number of ``worker'' processes that the Collector can have.  When
  receiving a query request, the UNIX Collector will ``fork'' a new
  process to handle the query, freeing the main process to handle
  other requests.  When the number of outstanding ``worker'' processes
  reaches this maximum, the request is handled by the main process.
  This macro is ignored on Windows, and it's default value is zero.

\item[\Macro{COLLECTOR\_DEBUG}] \label{param:CollectorDebug} This
  macro (and other macros related to debug logging in the collector)
  is described in section~\ref{param:SubsysDebug} as
  \MacroNI{SUBSYS\_DEBUG}.

\end{description}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{\label{sec:Negotiator-Config-File-Entries}
\condor{negotiator} Configuration File Entries}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\index{configuration!condor\_negotiator configuration variables}

These macros affect the \Condor{negotiator}.
\begin{description}
  
\item[\Macro{NEGOTIATOR\_INTERVAL}] \label{param:NegotiatorInterval}
  Sets how often the negotiator starts a negotiation cycle.  It is defined
  in seconds and defaults to 300 (5 minutes).
  
\item[\Macro{NEGOTIATOR\_TIMEOUT}] \label{param:NegotiatorTimeout}
  Sets the timeout that the negotiator uses on its network connections
  to the schedds and startds.  It is defined in seconds and defaults to 30.
  
\item[\Macro{PRIORITY\_HALFLIFE}] \label{param:PriorityHalfLife} This
  macro defines the half-life of the user priorities.  See
  section~\ref{sec:user-priority-explained}
  on User Priorities for details.  It is defined in seconds and defaults
  to 86400 (1 day).

\item[\Macro{DEFAULT\_PRIO\_FACTOR}] \label{param:DefaultPrioFactor} 
  This macro sets the priority factor for local users. See
  section~\ref{sec:user-priority-explained}
  on User Priorities for details.  Defaults to 1.

\item[\Macro{NICE\_USER\_PRIO\_FACTOR}] \label{param:NiceUserPrioFactor} 
  This macro sets the priority factor for nice users. See
  section~\ref{sec:user-priority-explained}
  on User Priorities for details.  Defaults to 10000000.

\item[\Macro{REMOTE\_PRIO\_FACTOR}] \label{param:RemotePrioFactor} 
  This macro defines the priority factor for remote users (users who
  who do not belong to the accountant's local domain - see
  below). See section~\ref{sec:user-priority-explained}
  on User Priorities for details.  Defaults to 10000.

\item[\Macro{ACCOUNTANT\_LOCAL\_DOMAIN}] \label{param:AccountantLocalDomain} 
  This macro is used to decide if a user is local or remote. A user
  is considered to be in the local domain if the UID\_DOMAIN matches
  the value of this macro. Usually, this macro is set
  to the local UID\_DOMAIN. If it is not defined, all users are considered
  local.

\item[\Macro{MAX\_ACCOUNTANT\_DATABASE\_SIZE}] 
  \label{param:MaxAccountantDatabaseSize}
  This macro defines the maximum size (in bytes) that the accountant
  database log file can reach before it is truncated (which re-writes
  the file in a more compact format).
  If, after truncating, the file is larger than one half the maximum
  size specified with this macro, the maximum size will be
  automatically expanded.
  The default is 1 megabyte (1000000).

\item[\Macro{NEGOTIATOR\_SOCKET\_CACHE\_SIZE}]
  \label{param:NegotiatorSocketCacheSize} This macro defines the
  maximum number of sockets that the negotiator keeps in its
  open socket cache.  Caching open sockets makes the negotiation
  protocol more efficient by eliminating the need for socket
  connection establishment for each negotiation cycle.  The default is
  currently 16.  To be effective, this parameter should be set to a
  value greater than the number of schedds submitting jobs to the
  negotiator at any time.

\item[\Macro{PREEMPTION\_REQUIREMENTS}]
  \label{param:PreemptionRequirements} The negotiator will not preempt
  a job running on a given machine unless the
  \MacroNI{PREEMPTION\_REQUIREMENTS} expression evaluates to TRUE and the
  owner of the idle job has a better priority than the owner of the
  running job.  By default, this expression allows jobs to be
  preempted only after they have run for one hour, and only if the
  priority of the competing user is 20\% higher, in order to prevent
  ``churning'' of jobs in the pool.

\item[\Macro{PREEMPTION\_RANK}] \label{param:PreemptionRank} This
  expression is used to rank machines that the job ranks the same.
  For example, if the job has no preference, it is usually preferable
  to preempt a job with a small \AdAttr{ImageSize} instead of a job with a
  large \AdAttr{ImageSize}.  The default is to rank all preemptable matches the
  same.  However, the negotiator will always prefer to match the job
  with an idle machine over a preemptable machine, if the job has no
  preference between them.

\item[\Macro{NEGOTIATOR\_DEBUG}] \label{param:NegotiatorDebug} This macro
  (and other settings related to debug logging in the negotiator) is
  described in section~\ref{param:SubsysDebug} as \MacroNI{SUBSYS\_DEBUG}.

\end{description}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{\label{sec:Eventd-Config-File-Entries}
\condor{eventd} Configuration File Entries}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\index{configuration!condor\_eventd configuration variables}
These macros affect the Condor Event daemon.  See
section~\ref{sec:EventD} on page~\pageref{sec:EventD} for an
introduction.  The eventd is not included in the main Condor binary
distribution or installation procedure.  It can be installed as a
contrib module.

\begin{description}
  
\item[\Macro{EVENT\_LIST}] \label{param:EventList} List of macros
which define events to be managed by the event daemon.

\item[\Macro{EVENTD\_CAPACITY\_INFO}] \label{param:EventdCapInfo}
Configures the bandwidth limits used when scheduling job checkpoint
transfers before \MacroNI{SHUTDOWN} events.
The \MacroNI{EVENTD\_CAPACITY\_INFO} file has the same
format as the \MacroNI{NETWORK\_CAPACITY\_INFO} file, described in
section~\ref{sec:Bandwidth-Alloc-Capinfo}.

\item[\Macro{EVENTD\_ROUTING\_INFO}] \label{param:EventdRouteInfo}
Configures the network routing information used when scheduling job
checkpoint transfers before \MacroNI{SHUTDOWN} events.
The \MacroNI{EVENTD\_ROUTING\_INFO} file has the same
format as the \MacroNI{NETWORK\_ROUTING\_INFO} file, described in
section~\ref{sec:Bandwidth-Alloc-Routes}.

\item[\Macro{EVENTD\_INTERVAL}] \label{param:EventdInterval} The number
of seconds between collector queries to determine pool
state.  The default is 15 minutes (300 seconds).

\item[\Macro{EVENTD\_MAX\_PREPARATION}]
\label{param:EventdMaxPreparation}  The number of minutes before a
scheduled event when the eventd should start periodically querying the
collector.  If 0 (default), the eventd always polls.

\item[\Macro{EVENTD\_SHUTDOWN\_SLOW\_START\_INTERVAL}]
\label{param:EventdShutdownSlowStartInterval} The number of seconds
between each machine startup after a shutdown event.  The default is 0.

\item[\Macro{EVENTD\_SHUTDOWN\_CLEANUP\_INTERVAL}]
\label{param:EventdShutdownCleanupInterval} The number of seconds
between each check for old shutdown configurations in the pool.  The default
is one hour (3600 seconds).

\end{description}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{\label{sec:Gridmanager-Config-File-Entries}
\condor{gridmanager} Configuration File Entries}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\index{configuration!condor\_gridmanager configuration variables}
These macros affect the \Condor{gridmanager}.
\begin{description}

\item[\Macro{GRIDMANAGER\_CHECKPROXY\_INTERVAL}]
\label{param:GridmanagerCheckproxyInterval} The number of seconds
between checks for an updated X509 proxy credential. The default
is 10 minutes (600 seconds).

\item[\Macro{GRIDMANAGER\_MINIMUM\_PROXY\_TIME}]
\label{param:GridmanagerMinimumProxyTime} The minimum number of
seconds before expiration of the X509 proxy credential for the
gridmanager to continue operation. If seconds until expiration is
less than this number, the gridmanager will shutdown and wait for
a refreshed proxy credential. The default is 3 minutes (180 seconds).

\item[\Macro{HOLD\_JOB\_IF\_CREDENTIAL\_EXPIRES}]
\label{param:HoldJobIfCredentialExpires} True or False.
Defaults to True.
If True, and for globus universe jobs only,
Condor-G will place a job on hold
\MacroNI{GRIDMANAGER\_MINIMUM\_PROXY\_TIME} seconds
before the proxy expires.
If False,
the job will stay in the last known state,
and Condor-G will periodically check to see if the job's proxy has been
refreshed, at which point management of the job will resume.

\item[\Macro{GRIDMANAGER\_CONTACT\_SCHEDD\_DELAY}]
\label{param:GridmanagerContactScheddDelay} The minimum number of
seconds between connections to the schedd. The default is 5 seconds.

\item[\Macro{GRIDMANAGER\_JOB\_PROBE\_INTERVAL}]
\label{param:GridmanagerJobProbeInterval}
After a job is submitted, how often (in seconds) the \Condor{gridmanager}
should probe the remote jobmanager to ensure it is still alive and well.

\item[\Macro{GRIDMANAGER\_JOB\_PROBE\_DELAY}]
\label{param:GridmanagerJobProbeDelay} The number of seconds between
active probes of the status of a submitted job. The default is 5
minutes (300 seconds).

\item[\Macro{GRIDMANAGER\_RESOURCE\_PROBE\_INTERVAL}]
\label{param:GridmanagerResourceProbeInterval}
When a resource appears to be down, how often (in seconds) the
\Condor{gridmanager}
should ping it to test if it is up again.

\item[\Macro{GRIDMANAGER\_RESOURCE\_PROBE\_DELAY}]
\label{param:GridmanagerResourceProbeDelay} The number of seconds
between pings of a remote resource that is currently down. The default
is 5 minutes (300 seconds).

\item[\Macro{GRIDMANAGER\_MAX\_SUBMITTED\_JOBS\_PER\_RESOURCE}]
\label{param:GridmanagerMaxSubmittedJobsPerResource}
Limits the number of jobs
that a \Condor{gridmanager} daemon will submit to a resource.
It is useful for controlling the number of \Prog{jobmanager}
processes running on the front-end node of a cluster.
This number may be exceeded if it is reduced through the use
of \Condor{reconfig} while the \Condor{gridmanager} is running
or if the \Condor{gridmanager} receives new
jobs from the \Condor{schedd} that were already submitted
(that is, their \MacroNI{GlobusContactString} is not "X").
In these cases, submitted jobs will not be killed,
but no new jobs can be submitted until the number of submitted
jobs falls below the current limit.

\item[\Macro{GRIDMANAGER\_MAX\_PENDING\_SUBMITS\_PER\_RESOURCE}]
\label{param:GridmanagerMaxPendingSubmitsPerResource} The maximum
number of jobs
that can be in the process of being submitted at any time (that is,
how many \Procedure{globus\_gram\_client\_job\_request} calls are pending).
It is useful for controlling the number of new
connections/processes created at a given time.
The default value is 5.
This variable allows
you to set different limits for each resource.
After the first integer in the value
comes a list of resourcename/number pairs,
where each number is the limit for that resource.
If a resource is not in the list,
Condor uses the first integer.
An example usage:
\begin{verbatim}
GRIDMANAGER_MAX_PENDING_SUBMITS_PER_RESOURCE=20,nostos,5,beak,50
\end{verbatim}

\item[\Macro{GRIDMANAGER\_MAX\_PENDING\_SUBMITS}]
\label{param:GridmanagerMaxPendingSubmits} Configuration variable
still recognized, but the name has changed to be
\MacroNI{GRIDMANAGER\_MAX\_PENDING\_SUBMITS\_PER\_RESOURCE}.

\item[\Macro{GAHP}]
\label{param:Gahp} The full path to the binary of the GAHP server.

\item[\Macro{GAHP\_ARGS}]
\label{param:GahpArgs} Arguments to be passed to the GAHP server.

\item[\Macro{GRIDMANAGER\_GAHP\_CALL\_TIMEOUT}]
\label{param:GridmanagerGahpCallTimeout} The number of seconds after
which a pending GAHP command should time out. The default is 5 minutes
(300 seconds).

\item[\Macro{GRIDMANAGER\_MAX\_PENDING\_REQUESTS}]
\label{param:GridmanagerMaxPendingRequests} The maximum number of GAHP
commands that can be pending at any time. The default is 50.

\item[\Macro{GRIDMANAGER\_CONNECT\_FAILURE\_RETRY\_COUNT}]
\label{param:GridmanagerConnectFailureRetryCount} The number of times
to retry a command that failed due to a timeout or a failed connection.
The default is 3.

\item[\Macro{GRIDMANAGER\_SYNC\_JOB\_IO\_INTERVAL}]
\label{param:GridmanagerSyncJobIoInterval} The number of seconds between
periodic syncs of streamed output to disk. The default is 5 minutes
(300 seconds).

\item[\Macro{GRIDMANAGER\_GLOBUS\_COMMIT\_TIMEOUT}]
\label{param:GridmanagerGlobusCommitTimeout}  The duration, in seconds, of the
two phase commit timeout to Globus.  This maps directly to the \texttt{two\_phase} setting in the Globus RSL.

% configuration variable introduced into Condor due to Globus a GAHP
% bug.  Users with Globus where this bug has been fixed should never
% use nor even know about this configuration variable.
% \item[\Macro{GRIDMANAGER\_RESTART\_ON\_ANY\_DOWN\_RESOURCES}]
% \label{param:GridmanagerRestartOnAnyDownResources} 
% The current GAHP server can transition into a state where it
% cannot contact remote machines,
% making the machines appear to be down.
% Restarting the GAHP server fixes the problem.
% This parameter controls whether one machine or
% all machine need to appear to be down to trigger a restart of the GAHP
% server.

% configuration variable introduced into Condor due to Globus a GAHP
% bug.  Users with Globus where this bug has been fixed should never
% use nor even know about this configuration variable.
%\item[\Macro{GRIDMANAGER\_MAX\_TIME\_DOWN\_RESOURCES}]
%\label{param:GridmanagerMaxTimeDownResources} 
%Related to GRIDMANAGER\_RESTART\_ON\_ANY\_DOWN\_RESOURCES,
%this configuration variable defines how long (in seconds) one or
%more machines need to be down (or just appear to be) to trigger a restart
%of the GAHP server.

\item[\Macro{GLOBUS\_GATEKEEPER\_TIMEOUT}]
\label{param:GlobusGatekeeperTimeout} The number of seconds after
which if a globus
universe job fails to ping the gatekeeper,
the job will be put on hold.
Defaults to 5 days (in seconds).

\end{description}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{\label{sec:GridMonitor-Config-File-Entries}
\Prog{grid\_monitor} Configuration File Entries}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\index{configuration!grid\_monitor configuration variables}
These macros affect the \Prog{grid\_monitor}.
\begin{description}

\item[\Macro{ENABLE\_GRID\_MONITOR}] \label{param:EnableGridMonitor}
  When set to \Expr{True} enables the \Prog{grid\_monitor} tool.  The
  \Prog{grid\_monitor} tool is used to reduce load on Globus gatekeepers.
  This parameter only affects globus universe jobs.
  \MacroNI{GRID\_MONITOR} must also be correctly configured.
  Defaults to \Expr{False}.
  See section~\ref{sec:Condor-G-GridMonitor} on
  page~\pageref{sec:Condor-G-GridMonitor}
  for more information.

\item[\Macro{GRID\_MONITOR}] \label{param:GridMonitor}
  The complete pathname of the \Prog{grid\_monitor} tool used to reduce load on
  Globus gatekeepers.  This parameter only affects globus
  universe jobs.  This parameter is not referenced unless
  \MacroNI{ENABLE\_GRID\_MONITOR} is set to \Expr{True}. 
  See section~\ref{sec:Condor-G-GridMonitor} on
  page~\pageref{sec:Condor-G-GridMonitor}
  for more information.

\item[\Macro{GRID\_MONITOR\_HEARTBEAT\_TIMEOUT}] \label{param:GridMonitorHeartbeatTimeout}
  If this many seconds pass without hearing from a \Prog{grid\_monitor}, it is
  assumed to be dead.  Defaults to 300 (5 minutes).  Increasing this number
  will improve the ability of the \Prog{grid\_monitor} to survive in the face of
  transient problems but will also increase the time before Condor notices a
  problem.

\item[\Macro{GRID\_MONITOR\_RETRY\_DURATION}] \label{param:GridMonitorRetryDuration}
  If something goes wrong with the \Prog{grid\_monitor} at a particular site
  (like \MacroNI{GRID\_MONITOR\_HEARTBEAT\_TIMEOUT} expiring), Condor-G will
  attempt to restart the \Prog{grid\_monitor} for this many seconds.  Defaults
  to 900 (15 minutes).  If this duration passes without success the
  \Prog{grid\_monitor} will be disabled for the site in question until 60
  minutes have passed.

\end{description}




%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{\label{sec:Security-Config-File-Entries}
Configuration File Entries Relating to Security}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\index{configuration!security configuration variables}
These macros affect the secure operation of Condor.
Many of these macros are described in
section~\ref{sec:Security} on Security In Condor.

\begin{description}
\item[\Macro{SEC\_*\_AUTHENTICATION}]
\label{param:SecAuthentication} \Todo

\item[\Macro{SEC\_*\_ENCRYPTION}]
\label{param:SecEncryption} \Todo

\item[\Macro{SEC\_*\_INTEGRITY}]
\label{param:SecIntegrity} \Todo

\item[\Macro{SEC\_*\_NEGOTIATION}]
\label{param:SecNegotiation} \Todo

\item[\Macro{SEC\_*\_AUTHENTICATION\_METHODS}]
\label{param:SecAuthenticationMethods} \Todo

\item[\Macro{SEC\_*\_CRYPTO\_METHODS}]
\label{param:SecCryptoMethods} \Todo

\item[\Macro{GSI\_DAEMON\_NAME}]
\label{param:GSIDaemonName} A comma separated list of the subject
name(s) of the certificate(s) that the daemons use.

\item[\Macro{GSI\_DAEMON\_DIRECTORY}]
\label{param:GSIDaemonDirectory} A directory name used in the
construction of complete paths for the configuration variables
\MacroNI{GSI\_DAEMON\_CERT},
\MacroNI{GSI\_DAEMON\_KEY}, and
\MacroNI{GSI\_DAEMON\_TRUSTED\_CA\_DIR},
for any of these configuration variables are not explicitly set.

\item[\Macro{GSI\_DAEMON\_CERT}]
\label{param:GSIDaemonCert} A complete path and file name to the
X.509 certificate to be used in GSI authentication.
If this configuration variable is not defined, and
\MacroNI{GSI\_DAEMON\_DIRECTORY} is defined, then Condor uses
\MacroNI{GSI\_DAEMON\_DIRECTORY} to construct the path and file name as
\begin{verbatim}
GSI_DAEMON_CERT  = $(GSI_DAEMON_DIRECTORY)/hostcert.pem
\end{verbatim}

\item[\Macro{GSI\_DAEMON\_KEY}]
\label{param:GSIDaemonKey}  A complete path and file name to the
X.509 private key to be used in GSI authentication.
If this configuration variable is not defined, and
\MacroNI{GSI\_DAEMON\_DIRECTORY} is defined, then Condor uses
\MacroNI{GSI\_DAEMON\_DIRECTORY} to construct the path and file name as
\begin{verbatim}
GSI_DAEMON_KEY  = $(GSI_DAEMON_DIRECTORY)/hostkey.pem
\end{verbatim}

\item[\Macro{GSI\_DAEMON\_TRUSTED\_CA\_DIR}]
\label{param:GSIDaemonTrustedCADir} The directory that contains the
list of trusted certification authorities to be used in GSI authentication.
The files in this directory are the public keys and signing policies
of the trusted certification authorities.
If this configuration variable is not defined, and
\MacroNI{GSI\_DAEMON\_DIRECTORY} is defined, then Condor uses
\MacroNI{GSI\_DAEMON\_DIRECTORY} to construct the directory path as
\begin{verbatim}
GSI_DAEMON_TRUSTED_CA_DIR  = $(GSI_DAEMON_DIRECTORY)/certificates
\end{verbatim}

\item[\Macro{GSI\_DAEMON\_PROXY}]
\label{param:GSIDaemonProxy} A complete path and file name to the
X.509 proxy to be used in GSI authentication.
When this configuration variable is defined, use of this proxy
takes precedence over use of a certificate and key.

\item[\Macro{GRIDMAP}]
\label{param:GridMap}
The complete path and file name of the Globus Gridmap file.
The Gridmap file is used to map
X.509 distinguished names to Condor user ids.

\item[\Macro{SEC\_DEFAULT\_SESSION\_DURATION}]
\label{param:SessionDuration} The amount of time in seconds before
a communication session expires.
%Defaults to 3600 seconds (1 hour).
Defaults to 8640000 seconds (100 days) to avoid a bug in session
renegotiation for Condor Version 6.6.0.
A session is a record of necessary information to do communication
between a client and daemon, and is protected by a shared secret key.
The session expires to reduce the window of opportunity where
the key may be compromised by attack.

\item[\Macro{FS\_REMOTE\_DIR}]
\label{param:FSRemoteDir}
The location of a file visible to both server and client in
Remote File System authentication.
The default when not defined is the directory 
\File{/shared/scratch/tmp}.

\item[\Macro{ENCRYPT\_EXECUTE\_DIRECTORY}]
\label{param:EncryptExecuteDirectory}
The execute directory for jobs on Windows platforms may be
encrypted by setting this configuration variable to \Expr{True}.
Defaults to \Expr{False}.
The method of encryption uses the EFS (Encrypted File System)
feature of Windows NTFS v5.

\end{description}


\input{admin-man/root-config.tex}
