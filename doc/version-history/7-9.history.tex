%%%      PLEASE RUN A SPELL CHECKER BEFORE COMMITTING YOUR CHANGES!
%%%      PLEASE RUN A SPELL CHECKER BEFORE COMMITTING YOUR CHANGES!
%%%      PLEASE RUN A SPELL CHECKER BEFORE COMMITTING YOUR CHANGES!
%%%      PLEASE RUN A SPELL CHECKER BEFORE COMMITTING YOUR CHANGES!
%%%      PLEASE RUN A SPELL CHECKER BEFORE COMMITTING YOUR CHANGES!

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{\label{sec:History-7-9}Development Release Series 7.9}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

This is the development release series of HTCondor.
The details of each version are described below.

%% NO 7.9.7 RELEASE IS PLANNED.  PLEASE PUT YOUR ITEMS INTO THE 
%%  8.0.0 VERSION HISTORY   !!!

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection*{\label{sec:New-7-9-6}Version 7.9.6}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\noindent Release Notes:

\begin{itemize}

\item HTCondor version 7.9.6 released on May 8, 2013.

\end{itemize}


\noindent New Features:

\begin{itemize}

\item The new \Condor{ping} command line tool attempts one or more
targeted security negotiations to see if it succeeds or fails,
potentially helping to debug security configuration.
\Ticket{3371}

\item The \Condor{schedd} will now also advertise demand by jobs for slots,
weighted by the count of requested CPUs, if the configuration variable
\Macro{NEGOTIATOR\_USE\_WEIGHTED\_DEMAND} is set to \Expr{True}.
The default value is \Expr{False}.
\Ticket{3574}

\item Negotiation under groups now prefers the specification of
groups with the new submit commands \SubmitCmd{accounting\_group} and
\SubmitCmd{accounting\_group\_user}.
See section~\ref{sec:group-accounting} for details.
\Ticket{2728}

\item The \SubmitCmd{vm} universe now supports \Prog{VMware Workstation}
and \Prog{VMware Player}.
\Ticket{740}

\item On Linux platforms where cgroups are supported and enabled, the 
\Condor{starter} will now detect and trap if a vanilla universe job 
would otherwise be killed by the system Out Of Memory (OOM) killer.  
This situation is especially likely when a job sets \SubmitCmd{RequestMemory}
lower than needed.  The job will now be put on hold.
\Ticket{2992}

\item The new \Opt{-force-graceful} command-line option to \Condor{off}
allows administrators to issue a graceful shutdown command, even after
issuing a \Opt{-peaceful} command. Previously, a peaceful \Condor{off}
command would preclude a \Opt{-graceful} off command.
\Ticket{2949}

\item The \Condor{gather\_info} tool now includes the output of the Unix
\Prog{uptime} and \Prog{free} programs, 
as well as logs of the \Condor{master}, \Condor{startd}, and \Condor{starter}
of the machine where the job most recently ran, 
if \Condor{gather\_info} has the necessary permissions to fetch those logs.
\Ticket{3246}

\item The rotation of a daemon log file can now be specified 
in terms of time (seconds) or in terms of maximum size (bytes).
Only size was allowed previously.
\Ticket{3560}

\item The new \Condor{qsub} command line tool emulates submission to PBS, SGE, 
and Torque-like systems. It handles both scripts and command line options.
\Ticket{2699}

\item When submitting a grid universe job with a grid type of batch,
the value of \SubmitCmd{request\_memory} is now propagated to the batch system
submission request.
\Ticket{3398}

\item The set of Python bindings introduced in HTCondor version 7.9.4 is now
distributed as part of HTCondor, not as a contrib module.
\Ticket{3586}

\item Several improvements have been made to the
\Condor{gather\_info} tool.  It now prints the name of the
tarball it emits, and now also checks the history file for the
job in question, and if found, uses and displays the information 
there.
\Ticket{3239}
\Ticket{3240}

\end{itemize}

\noindent Configuration Variable and ClassAd Attribute Additions and Changes:

\begin{itemize}

\item The new configuration variable 
\Macro{GSI\_DELEGATION\_CLOCK\_SKEW\_ALLOWABLE}, expressed in seconds,
allows HTCondor to adjust the amount of
allowable clock skew between two parties.
This is relevant when delegating X.509 proxies.
\Ticket{3557}

\item The new configuration variable \Macro{CheckpointPlatform}
is a string that may be set by
an administrator to override the auto-detected
platform used to determine if a standard universe job that produced 
a checkpoint on one machine can be started on another.
\Ticket{3544}

%% Yes, SSSE 3 has three Ss.
\item The new Machine ClassAd attributes \AdAttr{Has\_sse4\_1},
\AdAttr{Has\_sse4\_2}, and \AdAttr{Has\_ssse3} are set to \Expr{True}
if the corresponding instruction set additions exist on that machine.
These attributes will be undefined otherwise.
\Ticket{3544}

\item The name of the configuration variable \MacroNI{MEMORY\_LIMIT}
introduced in HTCondor version 7.9.2 has changed.
This variable is now called \Macro{CGROUP\_MEMORY\_LIMIT\_POLICY}.
\Ticket{3564}

\item The new configuration variable \Macro{EXPIRE\_INVALIDATED\_ADS},
when set to \Expr{True}, causes invalidated ClassAds that would have
been removed from the \Condor{collector} right away to instead
be treated as expired ClassAds, such that they may become absent ClassAds.
See section~\ref{sec:Absent-Ads} for details on absent ClassAds.
\Ticket{3085}

\item The new configuration variable
\Macro{GLEXEC\_HOLD\_ON\_INITIAL\_FAILURE} controls whether jobs are put
on hold when a failure is encountered in the glexec setup phase of
managing the job.  The default value is \Expr{True}, 
which implements the previous behavior of putting a job on hold when
there is a failure.
\Ticket{3569}

\item The new configuration variable
\Macro{NEGOTIATOR\_CONSIDER\_EARLY\_PREEMPTION} controls whether jobs
can be matched to slots that still have retirement time remaining
before the existing job can be evicted.  The default is \Expr{False}.
The old behavior can be enabled by setting it to \Expr{True}.  The
new default behavior is intended to improve scheduling behavior
when \Expr{MaxJobRetirementTime} is used.
\Ticket{3539}

\item The new configuration variable \Macro{SCHEDD\_AUDIT\_LOG}
defines a file name, such that the
\Condor{schedd} can now write an audit log that records all
commands issued by users that modify the job queue.
\Ticket{3493}

\item The per-user file transfer I/O statistics now have a prefix of
\AdAttr{Owner\_<username>\_}.  In HTCondor version 7.9.5, 
they had a prefix of
\AdAttr{<username>\_}.  This can be configured via
\Macro{TRANSFER\_QUEUE\_USER\_EXPR}.
\Ticket{3496}

\item The new configuration variable
\Macro{BATCH\_GAHP\_CHECK\_STATUS\_ATTEMPTS} controls how often the
\Condor{gridmanager} should retry a failed job status check when using
the \Prog{batch\_gahp}. The default is 5.
\Ticket{3533}

\end{itemize}

\noindent Bugs Fixed:

\begin{itemize}

\item Fixed a bug in the setting of \Macro{ASSIGN\_CPU\_AFFINITY},
when running on systems with partitionable slots.
\Ticket{3597}

\item Fixed a bug in the \Condor{starter} in which file systems mounted by
the automounter would not be seen by the job.
\Ticket{3601}

\item Fixed the \Condor{updates\_stats} tool such that it works with
modern Perl interpreters.
\Ticket{3579}

\item Fixed a bug that caused the \Condor{schedd} to crash when 
\Condor{rm} was used with the \Opt{-f} option on parallel universe jobs.
\Ticket{3561}

\item Fixed a bug that could cause HTCondor-C jobs to fail when they are
part of a DAG. The jobs would be held with a hold reason of the form
\footnotesize
\begin{verbatim}
Failed to initialize user log to /dev/null or <DAG log path>.
\end{verbatim}
\normalsize
\Ticket{3474}

\item Fixed a severe leak of file descriptors in the \Condor{ft-gahp}.
\Ticket{3559}

\item Fixed a bug that occurred when using privilege separation;
the bug made it impossible for the \Condor{startd} to clean
up execute directories after a \Condor{starter} was prematurely killed.
\Ticket{3573}

\item Fixed a bug that sometimes caused fetching user priorities 
from the \Condor{negotiator} daemon to take a long time,
as the fetch potentially had to wait until the end of the negotiation cycle. 
The fetch no longer needs to wait.
\Ticket{3535}

\item Fixed a bug that would cause parallel universe jobs to fail when 
\Expr{USE\_NFS=True}. This might have caused a potential issue with 
doing a look up using \Condor{chirp}, 
although testing seems to show that this is not an issue.
\Ticket{3390}

\item Fixed a bug introduced in HTCondor version 7.9.4 that sometimes caused
attributes
\AdAttr{ExitCode} and \AdAttr{ExitBySignal} not to be set in the job
ClassAd when the job terminated.  These attributes were correctly
reported in the user log, but they were not propagated to the job ClassAd and
were therefore not available for querying with \Condor{history}.
\Ticket{3577}

\item Fixed a bug that caused the \Condor{starter} to leak file descriptors 
to file transfer plug-ins. 
\Ticket{3570}

\item Fixed a bug that caused the \Prog{batch\_gahp} to leak file descriptors 
when reading a job's X.509 proxy.
\Ticket{3558}

\item Fixed a bug with the dedicated scheduler reconnect mode.
If the \Condor{schedd} crashed with a parallel universe job running after the 
job's first job lease duration interval, parallel universe jobs would 
not successfully reconnect, and they
would restart from the beginning.
\Ticket{2291}

\end{itemize}

\noindent Known Bugs:

\begin{itemize}

\item Using \Condor{userprio} with the \Opt{-grouprollup} option
will fail to produce any output
if the \Condor{negotiator} it queries is of a version older 
than HTCondor version 7.9.6 and the \Condor{userprio} executable is 
HTCondor version 7.9.6.
\Ticket{3600}

\end{itemize}

\noindent Additions and Changes to the Manual:

\begin{itemize}

\item None.

\end{itemize}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection*{\label{sec:New-7-9-5}Version 7.9.5}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\noindent Release Notes:

\begin{itemize}

\item HTCondor version 7.9.5 released on April 17, 2013.

\end{itemize}


\noindent New Features:

\begin{itemize}

\item The new command line tool \Condor{tail}
displays files that are in the sandbox of a running job.
See details in the manual page at
section~\ref{man-condor-tail}.
\Ticket{3522}

\item When there are multiple users
waiting to transfer files within the limits set by
configuration variables
\Macro{MAX\_CONCURRENT\_UPLOADS} and/or
\Macro{MAX\_CONCURRENT\_DOWNLOADS}, the scheduling algorithm
now gives the users
an equal share of the transfer slots.  How shares are counted can be
configured with \Macro{TRANSFER\_QUEUE\_USER\_EXPR}.
\Ticket{3487}

\item When using the \Opt{-remote} or \Opt{-spool} options to
\Condor{submit}, the job owner will now be set based
upon how the job submitter was authenticated. 
This will make it easier to submit jobs
to a remote \Condor{schedd} where the credentials may map to a different
account name.
\Ticket{3370} 

\item New functions are available in the Python Bindings contrib module.
ClassAds now more closely mimic Python dictionaries and provide
support for lists and values that are ClassAds. 
\Ticket{3494}

\item If a job is submitted specifying \SubmitCmd{keep\_claim\_idle},
the claim is kept not only when the job exits,
but also when the job is removed.
\Ticket{3491}

\item \Condor{dagman} now publishes in its own job ClassAd,
attributes with the DAG status,
such as total number of nodes, nodes queued, and nodes finished.
See section~\ref{sec:DAGStatusClassad} for more information.
\Ticket{1782}

\end{itemize}

\noindent Configuration Variable and ClassAd Attribute Additions and Changes:

\begin{itemize}

\item The new configuration variable \Macro{GSI\_DELEGATION\_KEYBITS}
allows the number of bits in a delegated proxy to be specified
by the receiving side.
\Ticket{3503}

\item When using file transfer concurrency limits, additional I/O
usage statistics are now published as attributes in the ClassAd of the
\Condor{schedd}.  This includes the sum and rate of bytes
transferred as well as time spent reading and writing to files and
to the network.  These statistics are reported for the sum of all
users and, when increased verbosity is configured, individually for
recently active users.  
These ClassAd attributes are fully described 
within the section on scheduler attributes at 
section~\pageref{sec:FT-Scheduler-ClassAd-Attributes}.
\Ticket{3496}

\begin{itemize}
  \item[\AdAttr{FileTransferUploadBytes}]
  \item[\AdAttr{FileTransferUploadBytesPerSecond\_<timespan>}]
  \item[\AdAttr{FileTransferDownloadBytes}]
  \item[\AdAttr{FileTransferDownloadBytesPerSecond\_<timespan>}]
  \item[\AdAttr{FileTransferFileReadSeconds}] 
  \item[\AdAttr{FileTransferFileReadLoad\_<timespan>}] 
  \item[\AdAttr{FileTransferFileWriteSeconds}] 
  \item[\AdAttr{FileTransferFileWriteLoad\_<timespan>}]
  \item[\AdAttr{FileTransferNetReadSeconds}] 
  \item[\AdAttr{FileTransferNetReadLoad\_<timespan>}] 
  \item[\AdAttr{FileTransferNetWriteSeconds}] 
  \item[\AdAttr{FileTransferNetWriteLoad\_<timespan>}] 
\end{itemize}

\item \Macro{NOT\_RESPONDING\_TIMEOUT} now internally adds some random skew
to avoid synchronization of heartbeat messages, which can lead to UDP
buffer overflow and incorrect determination that daemons are hung.
\Ticket{3510}

\end{itemize}

\noindent Bugs Fixed:

\begin{itemize}

\item The EC2 GAHP now treats OpenStack's \Code{stopped} state as if it
were \Code{shutoff}, terminating instances which enter this state and
preventing the instances from remaining in the queue forever.
\Ticket{3507}

\item Two EC2 GAHP bugs are fixed.
It now correctly parses XML namespaces as returned for
some installations of Eucalyptus.
The second bug caused HTCondor to put the job on hold, 
as it incorrectly believed that the cloud
service had purged it.
\Ticket{3492}

\item The EC2 GAHP now reports the
bidding status, defined at
\URL{http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/using-spot-instances-bid-status.html},
for spot instances. 
\Ticket{3388}

\item The \Condor{negotiator} now checks to see if 
the time set by configuration variable 
\Macro{NEGOTIATOR\_MAX\_TIME\_PER\_SUBMITTER}
has been exceeded while negotiating with a single \Condor{schedd} daemon.
This configuration variable was previously only effective 
if a submitter used multiple \Condor{schedd} daemons.
\Ticket{3504}

\item \Condor{dagman} will now recover correctly in a DAG where a node has been 
skipped because of a \Macro{PRE\_SKIP} has triggered.
\Ticket{2966}

\item Fixed a bug in the \Condor{gridmanager} and \Condor{ft-gahp} that
could cause a crash when transferring files for grid universe jobs of 
grid type batch going to a remote cluster.
\Ticket{3529}

\item Fixed a bug in which \Condor{status} queries would not work,
with output of \AdStr{Access denied}, unless the \Condor{collector}
and the machine doing the query had synchronized clocks.
\Ticket{3360}

\item Fixed a Linux platform bug in which mount points were leaked
to the greater namespace when the configuration set
\MacroNI{MOUNT\_UNDER\_SCRATCH} for file systems
that have been mounted with shared propagation enabled.
\Ticket{3505}

\item Fixed a bug in the logging code that was causing grid universe batch jobs
to abort and drop a dprintf error file during file transfer once the log had
grown large enough to rotate.
\Ticket{3528}

\item On Windows platforms, running the \Condor{kbdd} no
longer creates a visible console window.
\Ticket{2805}

\end{itemize}

\noindent Known Bugs:

\begin{itemize}

\item Running \Condor{rm} with the \Opt{-f} option on a parallel universe
job can cause the \Condor{schedd} to crash.
\Ticket{3561}

\item Using privilege separation may cause execute directories to be leaked,
if the \Condor{starter} is shut down prematurely; 
for example, shut down may occur by a hard kill signal or power interruption.
\Ticket{3573}

\item  If a job has any output files and uses the file transfer mechanism,
the job ClassAd attribute \Attr{ExitCode} may be lost,
causing its value to be reported as 0.
\Ticket{3577}

\end{itemize}

\noindent Additions and Changes to the Manual:

\begin{itemize}

\item None.

\end{itemize}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection*{\label{sec:New-7-9-4}Version 7.9.4}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\noindent Release Notes:

\begin{itemize}

\item HTCondor version 7.9.4 released on February 20, 2013.

\end{itemize}


\noindent New Features:

\begin{itemize}

\item Per job PID namespaces are available for Linux RHEL 6 platforms.
See section~\ref{sec:PIDNamespaces} for details.
\Ticket{1959}

\item The EC2 GAHP now batches requests for status updates, significantly
reducing its resource requirements.
\Ticket{3436}

\item The maximum total size of file transfers for a job may now be
specified using the new configuration variables
\Macro{MAX\_TRANSFER\_INPUT\_MB} and \Macro{MAX\_TRANSFER\_OUTPUT\_MB} 
and/or the new submit commands 
\SubmitCmd{max\_transfer\_input\_mb} and
\SubmitCmd{max\_transfer\_output\_mb}.
\Ticket{3333}

\item The \Prog{batch\_gahp} no longer relies on programs
\Prog{grid-proxy-info} and \Prog{grid-proxy-init} from the Globus
Toolkit to handle the X.509 proxies of jobs.
\Ticket{3431}

\item When the job's executable is transferred, always set the execute
bits on the copy.
\Ticket{3028}

\item By default, \Condor{dagman} now issues a fatal error
if any log file, which is either
the default log file or the log file specified for a node job,
is in \File{/tmp}, because this can cause DAGMan to fail.
This error can be downgraded to a warning by setting the
configuration variable
\MacroNI{DAGMAN\_USE\_STRICT} value to 0.
\Ticket{1419}

\item The \Condor{collector} will accept and display collector ClassAds for
multiple collectors from the same machine. For this to work, the
collectors must configured with different values for configuration
variable \MacroNI{COLLECTOR\_NAME}.
\Ticket{3467}

% Depending on who wins the argument between Igor and TJ, this might go into
% 7.8 series.  I think this is probably the right place for it, in 7.9. But
% Kent, TJ, or Igor may well have other ideas
\item \Condor{dagman} now will successfully set attributes for submitted jobs
using the \Condor{submit} syntax of placing a \Expr{+} sign just to the
left of the attribute name. 
See section~\ref{dagman:VARS} for more details.
\Ticket{3469}

\item The HTCondor contrib now includes a set of Python bindings in
two modules.
The \Code{htcondor} module interacts with the \Condor{schedd} and 
\Condor{collector} daemons. 
The \Code{classad} module provides an interface to work with ClassAds.
\Ticket{3407}

\item When using \Condor{compile}, 
Pthreads are not normally permitted to be used by standard universe jobs.
However, \Condor{compile} will now tell a user that they
should be linking to the GNU Pth library,
which is  built with the \verb@--enable-pthread@ flag.
This will permit jobs that use Pthreads to be built with \Condor{compile}.
\Ticket{3319}


\end{itemize}

\noindent Configuration Variable and ClassAd Attribute Additions and Changes:

\begin{itemize}

\item The new configuration variable \Macro{USE\_PID\_NAMESPACES}
enables per job PID namespaces for Linux RHEL 6 platforms when \Expr{True}.
\Ticket{1959}

\item The new configuration variable \Macro{FLOCK\_INCREMENT} allows
administrators to more aggressively flock to remote \Condor{collector} daemons,
as more pools will be considered.
\Ticket{3375}

\item The new configuration variable \Macro{HOST\_ALIAS} specifies the
  fully qualified host name that clients authenticating this daemon with 
  GSI should
  expect the daemon's certificate to match.  The alias is advertised
  to the \Condor{collector} as part of the address of the daemon.
  When this is not set, clients validate the daemon's certificate
  host name by matching it against DNS A records for the host they
  are connected to.  See \Macro{GSI\_SKIP\_HOST\_CHECK} for ways
  to disable this validation step.
\Ticket{1605}

\item The configuration variable \MacroNI{DAGMAN\_USE\_STRICT} now
defaults to a value of 1, rather than 0.
See the definition at section~\ref{param:DAGManUseStrict}.
\Ticket{3418}

\item The new configuration variable \Macro{GRACEFULLY\_REMOVE\_JOBS}
is a boolean value that controls whether jobs to be removed are 
gracefully removed.
The default is to do graceful removal.
\Ticket{3470}
\end{itemize}

\noindent Bugs Fixed:

\begin{itemize}

\item When HTCondor creates a key pair at an EC2 job's request, it no
longer fails to remove the private key from disk when the job leaves
the queue.
\Ticket{3477}

\item The EC2 GAHP now recognizes the OpenStack \Code{shutoff} state and
terminates instances which enter this state, 
preventing the instances from remaining in the queue forever.
\Ticket{3367}

\item \Condor{dagman} no longer does unnecessary sleeps for log file
consistency when a single default/workflow log file is used.
\Ticket{3456}

\item Fixed a bug introduced in HTCondor version 7.9.0 that caused 
the following configuration variables to not sort ClassAds properly 
when they evaluated to \Expr{True} or \Expr{False}:
\Macro{NEGOTIATOR\_PRE\_JOB\_RANK},
\Macro{NEGOTIATOR\_POST\_JOB\_RANK}, \Macro{PREEMPTION\_RANK}, and
\Macro{SCHEDD\_PREEMPTION\_RANK}.
\Ticket{3468}

\item Fixed a bug that can cause grid universe jobs of type \Expr{batch}
to fail when submitted to an HTCondor cluster with a large history file.
\Ticket{3429}

\item Corrected the submission of interactive jobs for cases 
in which the submit description file specified \SubmitCmd{Arguments}.
\Ticket{3455}

\item The semantics of signals sent to jobs were changed.
They have been changed back to the semantics defined in version 7.6.   
\Ticket{3470}

\end{itemize}

\noindent Known Bugs:

\begin{itemize}

\item None.

\end{itemize}

\noindent Additions and Changes to the Manual:

\begin{itemize}

\item None.

\end{itemize}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection*{\label{sec:New-7-9-3}Version 7.9.3}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\noindent Release Notes:

\begin{itemize}

\item HTCondor version 7.9.3 released on January 16, 2013.

\end{itemize}


\noindent New Features:

\begin{itemize}

\item When the new configuration variable \Macro{ASSIGN\_CPU\_AFFINITY}
is set to \Expr{True}, 
the \Condor{startd} will automatically set the CPU affinity
mask jobs run with, so that a multi-threaded job will not use
more cores than the number it requests.
\Ticket{3348}

\item When configuration variable \Macro{NEGOTIATOR\_CONSIDER\_PREEMPTION}
is \Expr{False}, the \Condor{negotiator}
now fetches machine ClassAds more quickly from the \Condor{collector}
 by skipping most attributes of the busy machines.  
This can make negotiation much faster in
a very large pool of mostly claimed machines.
\Ticket{3366}

\item Round-robin scheduling is now used when there are multiple users
waiting to transfer files in the limits set by
\Macro{MAX\_CONCURRENT\_UPLOADS} and/or
\Macro{MAX\_CONCURRENT\_DOWNLOADS}.  Previously, the file transfer
queue was scheduled in first-in-first-out order, so one user with
many files to transfer could delay other users for as long as it took
to transfer those files.  Now, when choosing a new job to allow to
transfer, the first job belonging to the user who has least
recently been given an opportunity to transfer will be selected.
The old behavior, or variations on the new behavior, can be achieved
by configuring \Macro{TRANSFER\_QUEUE\_USER\_EXPR}.
\Ticket{3333}

\item \Condor{dagman} will now try twice to write a POST script terminate
event, rather than trying once and exiting. 
If it is unable to write the event, \Condor{dagman} exits, 
writing a Rescue DAG. 
\Ticket{965}

\item The \Condor{gridmanager} now cleans up temporary files and directories
that are sometimes left by the \Prog{batch\_gahp} when executing a grid
universe job of grid type \SubmitCmd{batch}.
\Ticket{3276}

\item Added counts of nodes in various states to the \Condor{dagman}
node status file.  Refer to section~\ref{sec:DAG-node-status} for
more information.
\Ticket{2075}

\item When submitting jobs to a remote batch system (for example, Bosco),
file transfer no longer requires a network connection from the remote machine
back to the local one.
\Ticket{3293}

\end{itemize}

\noindent Configuration Variable and ClassAd Attribute Additions and Changes:

\begin{itemize}

\item The new expert-only configuration variable 
\Macro{STATISTICS\_WINDOW\_QUANTUM}
allows administrators to set the time interval, 
known as a quantum, that divides a window over which statistics are
kept into smaller pieces.  The window advances one quantum at a time. 
\Ticket{3288}


\end{itemize}

\noindent Bugs Fixed:

\begin{itemize}

\item Jobs of the EC2 grid type which make invalid requests of the
service no longer go on hold when removed.
An example of this is when a job specifies a nonexistent AMI. 
\Ticket{3287}

\item Jobs of the EC2 grid type which cannot authenticate with the
service no longer go on hold when removed.
\Ticket{3387}

\item Fixed a problem with \Prog{glexec} that caused jobs not to start 
due to permission errors on the execute directory.
\Ticket{3369}

\item A change was made to more accurately implement the
minimum time defined by the configuration variable
\Macro{NEGOTIATOR\_CYCLE\_DELAY}. 
\Ticket{3332}

\item The \Prog{batch\_gahp} is no longer dependent on the Perl module 
\Code{XML::Simple} when submitting jobs to SGE.
\Ticket{3350}

\item The \Prog{batch\_gahp} now properly handles job X.509 proxies that 
are not in the old proxy format.
\Ticket{3362}

\item On 32-bit platforms,
setting configuration variable \Macro{STARTER\_RLIMIT\_AS} to a value 
larger than 4096 could cause jobs to abort on start up.
Since values larger than 2047 have no real meaning on 32-bit platforms,
the fix treats values larger than 2047 as no limit on 32-bit platforms.
\Ticket{3309}

\item Fixed a bug that can cause proxy refresh to fail for pbs, lsf,
and sge grid jobs.
\Ticket{3383}

\item When doing remote pbs, lsf, or sge grid job submissions, the
\Condor{gridmanager} now ensures that no unusual characters are used in
the name of the job sandbox directory it creates.
\Ticket{3294}

\item When a GAHP server fails to start, the \Condor{gridmanager} now
puts the affected jobs on hold.
\Ticket{3301}

\item Environment variable \Env{GLOBUS\_LOCATION} is now set for
\Prog{batch\_gahp},
allowing it to find proxy management that it needs for jobs that have an
X.509 proxy.
\Ticket{3015}

\item The installation RPM now requires Security Enhanced Linux (SELinux) 
scripts at post install time,
so that the scripts can set the appropriate security contexts.
\Ticket{3313}

\end{itemize}

\noindent Known Bugs:

\begin{itemize}

\item None.

\end{itemize}

\noindent Additions and Changes to the Manual:

\begin{itemize}

\item Initial documentation for EC2 spot instances can be found
in section~\ref{sec:spot-instances}.
\Ticket{3209}

\end{itemize}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection*{\label{sec:New-7-9-2}Version 7.9.2}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\noindent Release Notes:

\begin{itemize}

%\item HTCondor version 7.9.2 not yet released.
\item HTCondor version 7.9.2 released on December 11, 2012.
This release contains all of the bug fixes in the version 7.8.6 
stable release,
and most of the bug fixes in the
soon to be released version 7.8.7 stable release.

\end{itemize}


\noindent New Features:

\begin{itemize}

\item The permissions for the temporary execute directory of a job
have been tightened for vanilla universe jobs, 
such that only the owner of the job is allowed to see or
modify the contents.
\Ticket{3315}

\item Added experimental support for EC2 spot instances.
\Ticket{3209}

\item (This feature was added in version 7.9.1.)  
There are two new protocols for the submission of grid type EC2 jobs,
\Expr{euca3://} and \Expr{euca3s://}.
These protocols exist to work correctly when the resources do not support 
the \Param{InstanceInitiatedShutdownBehavior} parameter.
\Ticket{2974}

\item (This feature was added in version 7.9.1.)  
Added both a \Opt{-suppress\_notification},
a \Opt{-dont\_suppress\_notification} command line option,
and corresponding
\Macro{DAGMAN\_SUPPRESS\_NOTIFICATION} configuration variable
to \Condor{dagman} and \Condor{submit\_dag}.
This enables a user of DAGMan to stop email notification of job
events for jobs submitted by \Condor{dagman}. The value of
\MacroNI{DAGMAN\_SUPPRESS\_NOTIFICATION} defaults to \Expr{True},
so that jobs submitted
by \Condor{dagman} will not send email notification. 
\Ticket{3352}

\item The default for job notification email has changed
from \Expr{Complete} to \Expr{Never}. 
There is also a new configuration variable, \Macro{JOB\_DEFAULT\_NOTIFICATION},
which permits administrators to change the default for all jobs.
\Ticket{2155}

\item For platforms supporting cgroups,
resource limits can now be applied per job,
where a job may consist of multiple processes.
See section~\ref{sec:Resource-Limits-Cgroup} for details.
\Ticket{2734}

\end{itemize}

\noindent Configuration Variable and ClassAd Attribute Additions and Changes:

\begin{itemize}

\item The new configuration variable \Macro{MEMORY\_LIMIT}
supports implementing memory resource limits on a per-job basis under cgroups.
\Ticket{2734}

\end{itemize}

\noindent Bugs Fixed:

\begin{itemize}

\item \Condor{schedd} and \Condor{shadow} were not respecting the
\Macro{DAGManNodesMask} attribute. This caused extra events to be written to
the DAGMan node log.
\Ticket{3311}

\item Removed a spurious newline from the output of \Condor{submit}.
\Ticket{3316}

\item Fixed a bug that caused the \Condor{shadow} to set job attribute
\Attr{X509UserProxySubject} to the wrong value when the job's X.509
proxy file was updated. It incorrectly set the value to be 
the proxy's subject name, rather than to the correct value, which is
its identity.
\Ticket{3265}

\item The \Prog{batch\_gahp} no longer modifies the environment variable
\Env{LD\_LIBRARY\_PATH}.
In some instances, modifying \Env{LD\_LIBRARY\_PATH} caused the
batch system's command line tools to fail when run by the \Prog{batch\_gahp}.
\Ticket{3317}

\item Grid-type \SubmitCmd{batch} jobs now work properly on machines
where the gLite software has been installed.
\Ticket{3269}

\item The \Condor{shadow} would never print the allocated amount of
partitionable resources in the job log.
\Ticket{3318}

\item \Condor{who} would sometimes incorrectly display blank or partial
values in the PROGRAM column.
\Ticket{3314}

\end{itemize}

\noindent Known Bugs:

\begin{itemize}

\item None.

\end{itemize}

\noindent Additions and Changes to the Manual:

\begin{itemize}

\item None.

\end{itemize}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection*{\label{sec:New-7-9-1}Version 7.9.1}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\noindent Release Notes:

\begin{itemize}

\item Condor version 7.9.1 released on October 22, 2012.

\item Condor no longer looks for its main configuration file in the
location \File{\MacroUNI{GLOBUS\_LOCATION}/etc/condor\_config}.
\Ticket{2830}

\item \Security This version contains an important security bug fix.  See below
for details of this and other bugs fixed.

\end{itemize}


\noindent New Features:

\begin{itemize}

\item There are two new protocols for the submission of grid type EC2 jobs,
\Expr{euca3://} and \Expr{euca3s://}.
These protocols exist to work correctly when the resources do not support 
the \Param{InstanceInitiatedShutdownBehavior} parameter.
\Ticket{2974}

\item \Condor{job\_router} can now submit the routed copy of jobs to a
different \Condor{schedd} than the one that serves as the source of
jobs to be routed.  The spool directories of the two
\Condor{schedds} must still be directly accessible to
\Condor{job\_router}.  This feature is enabled by using the new
optional configuration settings:

\begin{itemize}
\item \Macro{JOB\_ROUTER\_SCHEDD1\_SPOOL}
See definition at section~\ref{param:JobRouterSchedd1Spool}.
\item \Macro{JOB\_ROUTER\_SCHEDD2\_SPOOL}
See definition at section~\ref{param:JobRouterSchedd2Spool}.
\item \Macro{JOB\_ROUTER\_SCHEDD1\_NAME}
See definition at section~\ref{param:JobRouterSchedd1Name}.
\item \Macro{JOB\_ROUTER\_SCHEDD2\_NAME}
See definition at section~\ref{param:JobRouterSchedd2Name}.
\item \Macro{JOB\_ROUTER\_SCHEDD1\_POOL}
See definition at section~\ref{param:JobRouterSchedd1Pool}.
\item \Macro{JOB\_ROUTER\_SCHEDD2\_POOL}
See definition at section~\ref{param:JobRouterSchedd2Pool}.
\end{itemize}
\Ticket{3030}

\item The \Condor{job\_router} can now optionally transform jobs in place,
rather than creating a second transformed version (copy) of the job.
\Ticket{3185}

\item The \Condor{defrag} daemon now has a policy option implemented
by configuration to cancel the draining
of a machine that is in the Draining mode.  This can be used to effect
partial draining of machines.
\Ticket{2993}

\item Communication between the \Condor{c-gahp} and the \Condor{schedd} has
been improved. A large number of Condor-C jobs should no longer cause
other clients of the remote \Condor{schedd} to time out trying to get the
\Condor{schedd} daemon's attention.
\Ticket{2575}

\item \Condor{history} and \Condor{q} can now be told to read job records
from a user log, instead of parsing the history file or querying the
\Condor{schedd}.  This can be used to monitor the status of jobs with
reduced load on the \Condor{schedd}.
\Ticket{3188}

\item Eucalyptus 3.x support has been added to the EC2 GAHP.
\Ticket{2974}

\item File transfer remaps now support remapping directories.
\Ticket{3039}

\item The \Condor{schedd} can now dynamically spawn a local \Condor{startd}
to manage local universe jobs.
\Ticket{3129}

\item \Condor{q} \Opt{-jobads} will now respect the \Opt{-constraint} option.
\Ticket{3191}

\item Added Bosco, a set of tools that makes it easy to use a Personal
Condor to run jobs on remote batch systems without administrator
assistance or manual installation of software on the remote systems.
See \URL{https://twiki.grid.iu.edu/bin/view/CampusGrids/BoSCO} for more
information about Bosco.
\Ticket{2421}

\end{itemize}


\noindent Configuration Variable and ClassAd Attribute Additions and Changes:

\begin{itemize}

\item Dynamic slots now fill the values for attributes of with names
that begin with
\Attr{TotalSlot}, 
for configured local resources in a way consistent with standard resources
such as \Attr{TotalSlotCpus}.
Previously those values were all given the value zero on dynamic slots.
\Ticket{3229}

\item The \Condor{schedd} now advertises the value of configuration variable
\MacroNI{COLLECTOR\_HOST} as attribute \Attr{CollectorHost} in 
its daemon ClassAd.  This allows one to determine if a given
\Condor{schedd} reporting to a \Condor{collector} is flocking to that 
\Condor{collector} or not.
\Ticket{3202}

\item Added the attribute \Attr{DAGManNodesMask} to control the verboseness of
the log referred to by \Attr{DAGManNodesLog}.
\Ticket{3351}

\item The new configuration variable
\Macro{QUEUE\_SUPER\_USER\_MAY\_IMPERSONATE} specifies a regular
expression that matches the user names that
the queue super user may impersonate when managing jobs.  When not
set, the default behavior is to allow impersonation of any user who
has had a job in the queue during the life of the \Condor{schedd}.  For
proper functioning of the \Condor{shadow}, the \Condor{gridmanager}, and
the \Condor{job\_router}, this expression, if set, must match the owner
names of all jobs that these daemons will manage.
\Ticket{3030}

\item The new configuration variable \Macro{DEFRAG\_CANCEL\_REQUIREMENTS}
is an expression that specifies which draining machines should have 
draining be canceled.  
This defaults to \MacroUNI{DEFRAG\_WHOLE\_MACHINE\_EXPR}.  
This could be used to drain partial rather than whole machines.
\Ticket{2993}

\item The new submit command \SubmitCmd{use\_x509userproxy} can be set
to \Expr{True} to indicate that an X.509 user proxy is required for the job. 
If \SubmitCmd{x509userproxy} is not set, 
then the proxy file will be looked for in the standard locations.
\Ticket{3025}

\item If \Condor{submit} is used to submit an interactive job,
and the job is interrupted before the interactive job starts,
an attempt is made to immediately remove the interactive job from the queue.
Similarly, \Condor{ssh\_to\_job} has a new option \Opt{-remove-on-interrupt}.
\Ticket{3242}

\item Changes to were made to the ClassAd machine attributes 
\Attr{OpSys}, \Attr{OpSysVer}, \Attr{Distro}, as well as others,
in order to do a better job of identifying the operating system.
\Ticket{2366}

\item \Macro{GRIDMANAGER\_MAX\_SUBMITTED\_JOBS\_PER\_RESOURCE} can now be a
list, specifying different values for different hosts.
\Ticket{3220}

\item The new configuration parameter \Macro{GRIDMANAGER\_JOB\_PROBE\_RATE}
limits the number of job status requests sent to each remote resource.
\Ticket{3023}

\item The default value of \Macro{GRIDMANAGER\_JOB\_PROBE\_INTERVAL} has
changed from 300 to 60.
\Ticket{3023}.

\item The configuration parameters \Macro{CONDOR\_JOB\_POLL\_INTERVAL} and
\Macro{INFN\_JOB\_POLL\_INTERVAL} should no longer be used. Use
\Macro{GRIDMANAGER\_JOB\_PROBE\_INTERVAL\_CONDOR} and
\Macro{GRIDMANAGER\_JOB\_PROBE\_INTERVAL\_BATCH} instead.
\Ticket{3023}

\end{itemize}

\noindent Bugs Fixed:

\begin{itemize}

\item \Security Fixed a bug which allowed jobs submitted to the standard
universe to escalate privilege on the submit machine and execute code as 
\Login{root}.
(CVE-2012-5390)
\Ticket{3268}

\item A fix only invokes Globus callouts when actually needed, 
thereby avoiding a program segfault if
the call out mechanism is misconfigured or broken.
\Ticket{2104}

\item Fixed a bug in all daemons wherein the \Attr{DaemonStartTime} attribute 
in the ClassAd for all daemons would be reset to the current time when they are
reconfigured.
\Ticket{3235}

\item Fixed a bug wherein the \Arg{-dont\_use\_default\_node\_log} command line flag
to \Condor{submit\_dag} had no effect.
\Ticket{3352}

\item \Security Although not user-visible, 
there were multiple updates that removed places
in the code where potential buffer overruns could occur, 
thus preventing potential attacks.  
None of these overruns were known to be exploitable.

\item \Security Although not user-visible, 
there were updates to the code to improve
the error checking of system calls,
thereby removing some potential security threats.  
None were known to be exploitable.

\item \Security Although not user-visible, 
removed some code that was no longer used.
The presence of this code could have led to a Denial-of-Service attack,
which would allow an attacker to stop another user's jobs from running.

\item \Security Filesystem (FS) authentication was improved to check 
the UNIX permissions of the directory used for authentication.  
Without this, an attacker may have
been able to impersonate another submitter on the same submit machine.

\item The \Condor{negotiator} now checks the accountant log file for sanity
once only on start up,  
thereby increasing efficiency of iteration through 
the accountant ClassAd log structure.
\Ticket{3011}

\item The ClassAd functions \Procedure{splitUserName} and 
\Procedure{splitSlotName}
no longer leak a small amount of memory each time they are evaluated.  
This bug was introduced when these functions were added in Condor version 7.7.6.
\Ticket{3082}

\item There are several bug fixes for grid-type batch jobs:
  \begin{itemize}
  \item Monitoring the status of jobs submitted to PBS and SGE has been
    improved. \Ticket{3067} \Ticket{3157} \Ticket{3181}
  \item Job command-line arguments containing 
    left parenthesis, \verb@(@, right parenthesis, \verb@)@, 
    and ampersand, \verb@&@, characters are now handled properly. 
    \Ticket{3057}
  \item Removing PBS jobs that have just completed no longer causes the jobs
    to become held. \Ticket{3016}
  \item Added a work-around for a bug when submitting jobs to
    a Condor pool running Condor versions 7.7.6 through 7.8.2.
    A bug in \Condor{history} \Opt{-f} caused an error in determining
    a job's status.
    \Ticket{3133}
  \item Improved the handling of job files when the batch system has a shared
    file system. \Ticket{3195}
  \end{itemize}

\item Changes introduced in Condor version 7.9.0 caused jobs submitted by
\Condor{dagman} in the local universe to not write to the default node log file,
when \Macro{DAGMAN\_ALWAYS\_USE\_NODE\_LOG} was \Expr{True} (the default),
and a user log was also defined. This is fixed. 
\Ticket{3111}

\item Fixed a bug introduced in Condor version 7.9.0 that caused grid type
cream jobs to be held with a hold reason of 
\footnotesize
\begin{verbatim}
  CREAM_Delegate Error: Cannot set credentials in the gsoap-plugin context.
\end{verbatim}
\normalsize
\Ticket{3234}

\item Fixed a problem that could have caused the \Condor{collector} to crash
when receiving an invalid packet.
\Ticket{3161}

\end{itemize}

\noindent Known Bugs:

\begin{itemize}

\item None.

\end{itemize}

\noindent Additions and Changes to the Manual:

\begin{itemize}

\item None.

\end{itemize}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection*{\label{sec:New-7-9-0}Version 7.9.0}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\noindent Release Notes:

\begin{itemize}

\item Condor version 7.9.0 released on August 16, 2012.

\end{itemize}


\noindent New Features:

\begin{itemize}

\item Machine slots can now be configured to identify and
divide customized local resources.
Jobs may then request these resources.
See section~\ref{sec:Configuring-SMP} for details.
\Ticket{2905}

\item Condor now supports and implements the caching of ClassAds 
to reduce memory footprints. 
This feature is experimental and is currently disabled by default.
It can be enabled by setting
the new configuration variable \Macro{ENABLE\_CLASSAD\_CACHING}
to \Expr{True}.
\Ticket{2541}
\Ticket{3127}

\item \Condor{status} now returns the \Condor{schedd} ClassAd directly 
from the \Condor{schedd} daemon,
if both options \Opt{-direct} and \Opt{-schedd} are given on the command line.
\Ticket{2492}

\item The new \Opt{-status} and \Opt{-echo} command line options to 
\Condor{wait} command cause it to show job start and terminate information,
and to print events to \Code{stdout}.
\Ticket{2926}

\item Added a \Expr{DEBUG} logging level output flag \Dflag{CATEGORY},
which causes Condor to include the logging level
flags in effect for each line of logged output.
\Ticket{2712}

\item \Condor{status} and \Condor{q} each have a new \Opt{-autoformat} option
to make some output format specifications easier than the existing
\Opt{-format} option.
See the \Condor{status} manual page located on page~\pageref{man-condor-status}
and the \Condor{q} manual page located on page~\pageref{man-condor-q} 
for details.
\Ticket{2941}

\item Enhanced the ClassAd log system to report the log line number 
on parse failures, 
and improved the ability to detect parse failures closer to 
the point of corruption.
\Ticket{2934}

\item Added an \Opt{-evaluate} option to \Condor{config\_val}, which causes the configured value queried from
a given daemon to be evaluated with respect to that daemon's ClassAd.
\Ticket{856}

\item Added code to \Condor{dagman},
such that a \Expr{VARS} assignment in a top-level DAG is applied to splices.
\Ticket{1780}

\item Condor now uses libraries from Globus 5.2.1.
\Ticket{2838}

\item When authenticating Condor daemons with GSI and
configuration variable \MacroNI{GSI\_DAEMON\_NAME} is undefined, 
Condor checks that the server name in the certificate matches the 
host name that the client is connecting to. 
When \MacroNI{GSI\_DAEMON\_NAME} is defined,
the old behavior is preserved: only certificates matching
\MacroNI{GSI\_DAEMON\_NAME} pass the authentication step, 
and no host name check is performed.  
The behavior of the host name check
may be further controlled with the new configuration variables
\MacroNI{GSI\_SKIP\_HOST\_CHECK} and
\MacroNI{GSI\_SKIP\_HOST\_CHECK\_CERT\_REGEX}.
\Ticket{1605}

\item Added new capability to \Condor{submit} to allow recursive macros in
submit description files. 
This facility allows one to update variables recursively. 
Before this new capability was added,
recursive definition would send \Condor{submit} into an
infinite loop of expanding the macro,
such that the expansion would fill up memory.
See section~\ref{macro-in-submit-description-file} for details.
\Ticket{406}

\item A DAGMan limitation and restriction has been removed.  
It is now permitted to define a \SubmitCmd{log} command using a macro,
within a node job's submit description file.
\Ticket{2428}

\item To enforce the dependencies of a DAG,
DAGMan now uses and watches only the default node
user log of the \Condor{dagman} job for events.  
DAGMan requests the \Condor{schedd} and \Condor{shadow} daemons to write each
event to this default log, 
in addition to writing to a log specified by the node job.
\Condor{dagman} writes POST script terminate events only to its default log;
these terminate events are not written to the user log.
This behavior can be turned off by setting the configuration variable
\Macro{DAGMAN\_ALWAYS\_USE\_NODE\_LOG} to \Expr{False}.
For correct behavior,
\MacroNI{DAGMAN\_ALWAYS\_USE\_NODE\_LOG} should be set to \Expr{False}
if \Condor{dagman} version 7.9.0 or later is submitting jobs 
to an older version of
a \Condor{schedd} daemon or of a \Condor{submit} executable.
\Ticket{2807}

\item \Condor{submit} has a new \Opt{-interactive} option for
platforms other than Windows,
which schedules and runs a job that provides a shell prompt
on the execute machine.
\Ticket{3088}

\end{itemize}

\noindent Configuration Variable and ClassAd Attribute Additions and Changes:

\begin{itemize}

\item The new configuration variables \Macro{MACHINE\_RESOURCE\_NAMES}
(see section~\ref{param:MachineResourceNames})
and \Macro{MACHINE\_RESOURCE\_<name>}
(see section~\ref{param:MachineResourceResourcename})
identify and specify the use of customized local machine resources.
\Ticket{2905}

\item The new configuration variable \MacroNI{ENABLE\_CLASSAD\_CACHING}
controls whether the new caching feature of ClassAds is used.
The default value is \Expr{False}.
\Ticket{3127}

\item The new configuration variable \Macro{CLASSAD\_LOG\_STRICT\_PARSING}
controls whether ClassAd log files such as the job queue
log are read with strict parse checking on ClassAd expressions.
\Ticket{3069}

\item The default value for configuration variable \Macro{USE\_PROCD}
is now \Expr{True} for the \Condor{master} daemon.  
This means that by
default the \Condor{master} will start a \Condor{procd} daemon to be used 
by it and all other daemons on that machine.
\Ticket{2911}

\item There is a new configuration variable used by the \Condor{starter}.
If \Macro{STARTER\_RLIMIT\_AS} is set to an integer value, 
the \Condor{starter}
will use the \Procedure{setrlimit} system call with the 
\Code{RLIMIT\_AS} parameter to
limit the virtual memory size of each process in the user job.  
The value of this configuration variable is a ClassAd expression, 
evaluated in the context of both the machine and job ClassAds, 
where the machine ClassAd is the \Expr{my} ClassAd, 
and the job ClassAd is the \Expr{target} ClassAd.
\Ticket{1663}

\item New configuration variables were added to to the \Condor{schedd} to
define statistics that count subsets of jobs. 
These variables have the form \Macro{SCHEDD\_COLLECT\_STATS\_BY\_<Name>},
and should be defined by a ClassAd expression that evaluates to a string.
See section~\ref{param:ScheddCollectStatsByName}
for the complete definition.
The optional configuration variable of the form
\Macro{SCHEDD\_EXPIRE\_STATS\_BY\_<Name>} can be used to set an expiration time,
in seconds, for each set of statistics.
\Ticket{2862}

\item The new \SubmitCmd{batch\_queue} submit description file command
and new job ClassAd attribute \Attr{BatchQueue} specify which job
queue to use for grid universe jobs of type
\SubmitCmd{pbs}, \SubmitCmd{lsf}, and \SubmitCmd{sge}.
\Ticket{2996}

\item The new configuration variable \Macro{GSI\_SKIP\_HOST\_CHECK} is
a boolean that controls whether a check is performed during
GSI authentication of a Condor daemon.  
When the default value \Expr{False},
the check is not skipped, so the daemon host name must match the
host name in the daemon's certificate, unless otherwise exempted
by values of \MacroNI{GSI\_DAEMON\_NAME} or
\MacroNI{GSI\_SKIP\_HOST\_CHECK\_CERT\_REGEX}.
When \Expr{True}, this check is skipped, and hosts will not be rejected
due to a mismatch of certificate and host name.
\Ticket{1605}

\item The new configuration variable
\MacroNI{GSI\_SKIP\_HOST\_CHECK\_CERT\_REGEX} may be set to a
regular expression.  GSI certificates of Condor daemons with a
subject name that are matched in full by this regular expression
are not required to have a matching daemon host name and certificate
host name.  The default is an empty regular expression, which will
not match any certificates, even if they have an empty subject name.
\Ticket{1605}

\end{itemize}

\noindent Bugs Fixed:

\begin{itemize}

\item Fixed a bug in which usage of cgroups incorrectly included the page cache 
in the maximum memory usage.
This bug fix is also included in Condor version 7.8.2.
\Ticket{3003}

\item The EC2 GAHP will now respect the value of the environment variable
\Env{X509\_CERT\_DIR} and the configuration variable
\Macro{GSI\_DAEMON\_TRUSTED\_CA\_DIR} for \emph{all} secure connections.
\Ticket{2823}

\item Condor will avoid selecting down (disabled) network interfaces.  Previously Condor could select a down interface over an up (active) interface.
\Ticket{2893}

\item Made logic in the \Condor{negotiator} that computes submitter limits 
properly aware of the configuration variable
\Macro{NEGOTIATOR\_CONSIDER\_PREEMPTION}.
\Ticket{2952}


\item Condor no longer back-dates file modification times by 3 minutes
when transferring job input files into the job spool directory or the job
execute directory.
\Ticket{2423}

\item Fixed a bug in which the use of a pipe in the configuration file 
on Windows platforms would cause a visible console window 
to show up whenever the configuration was read.
\Ticket{1534}

\end{itemize}

\noindent Known Bugs:

\begin{itemize}

\item None.

\end{itemize}

\noindent Additions and Changes to the Manual:

\begin{itemize}

\item Machine ClassAd attribute string values relating to \Attr{OpSys} have
been documented for Scientific Linux platforms.
\Ticket{2366}

\end{itemize}

