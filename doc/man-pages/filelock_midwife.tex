\begin{ManPage}{\label{man-filelock-midwife}\Prog{filelock\_midwife}}{1}
{create an artifact of the creation of a process}

\Synopsis \SynProg{\Prog{filelock\_midwife}}
\Opt{-help}

\SynProg{\Prog{filelock\_midwife}}
\oOptArg{--file}{filename}
\Arg{program}
\oArg{programargs}

\index{Deployment commands!filelock\_midwife}
\index{filelock\_midwife}

\Description \Prog{filelock\_midwife} starts a given \Arg{program}, while
creating an artifact of the program's birth.  At a later time the
\Prog{filelock\_undertaker} can examine the artifact to determine whether
the program is still running, or whether the program has exited.
\Prog{filelock\_midwife}
accomplishes this by obtaining a file lock on the given artifact file
before starting the program.

Warning: \Prog{filelock\_midwife} will not work on NFS
unless the separate file lock server is running.

\begin{Options}
  \OptItem{\OptArg{--file}{filename}}{
    The \Arg{filename} to use for the artifact file.  
    The file \File{lock.file} is the default file used when
    this option is not specified.
  }
  \OptItem{\Arg{program} \oArg{programargs}}{
    Forks a process and executes \Arg{program} with 
    \Arg{programargs} as command-line arguments (when specified).
  }
\end{Options}

\ExitStatus
\Prog{filelock\_midwife} will exit with a status of 0 (zero) upon
success, and non-zero otherwise.

\SeeAlso
\Prog{uniq\_pid\_midwife} (on page~\pageref{man-uniq-pid-midwife}),
\Prog{filelock\_undertaker} (on page~\pageref{man-filelock-undertaker}).

\end{ManPage}
