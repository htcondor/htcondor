<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"  
  "http://www.w3.org/TR/html4/loose.dtd">  
<html > 
<head><title>condor_chirp</title> 
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"> 
<meta name="generator" content="TeX4ht (http://www.tug.org/tex4ht/)"> 
<meta name="originator" content="TeX4ht (http://www.tug.org/tex4ht/)"> 
<!-- 3,sec-filename,next,info,NoFonts,fonts,html --> 
<meta name="src" content="ref.tex"> 
<link rel="stylesheet" type="text/css" href="ref.css"> 
</head><body 
>
<span style="font-size: 200%;"><a 
href="Condorcheckpoint.html" >&#x21D0;</a></span>&nbsp;<span style="font-size: 200%;"><a 
href="Condorcheckpoint.html#tailCondorcheckpoint.html" >&#x2199;</a></span>&nbsp;<span style="font-size: 200%;"><a 
href="#tailCondorchirp.html">&#x2193;</a></span>&nbsp;<span style="font-size: 200%;"><a 
href="CommandReferenceManualmanpages.html#Condorchirp.html" >&#x21D1;</a></span>&nbsp;<span style="font-size: 200%;"><a 
href="Condorcod.html" >&#x21D2;</a></span>&nbsp;<a href="contentsname.html">Contents</a>&nbsp;<a href="indexname.html">Index</a><h3 class="sectionHead"><a 
 id="x102-70800012"></a><span class="textit">condor_chirp</span></h3>
<div class="sectionTOCS">
</div>
<!--l. 2--><p class="noindent" >Access files or job ClassAd from an executing job  <a 
 id="dx102-708001"></a><a 
 id="dx102-708002"></a>
<h4 class="likesubsectionHead"><a 
 id="x102-70900012"></a>Synopsis</h4>
<!--l. 6--><p class="noindent" ><span class="textbf"><span class="textit">condor_chirp</span></span> <span class="textbf">&#x003C;Chirp-Command&#x003E;</span>
<!--l. 9--><p class="noindent" >
<h4 class="likesubsectionHead"><a 
 id="x102-71000012"></a>Description</h4>
<!--l. 10--><p class="noindent" ><span class="textit">condor_chirp</span> is not intended for use as a command-line tool. It is most often invoked by an HTCondor job, while
the job is executing. It accesses files or job ClassAd attributes on the submit machine. Files can be read, written or
removed. Job attributes can be read, and most attributes can be updated.
<!--l. 16--><p class="noindent" >When invoked by an HTCondor job, the command-line arguments describe the operation to be performed. Each of
these arguments is described below within the section on Chirp Commands. Descriptions using the terms <span class="emph">local</span> and
<span class="emph">remote</span> are given from the point of view of the executing job.
<!--l. 23--><p class="noindent" >If the input file name for <span class="textbf">put</span> or <span class="textbf">write</span> is a dash, <span class="textit">condor_chirp</span> uses standard input as the source. If
the output file name for <span class="textbf">fetch</span> is a dash, <span class="textit">condor_chirp</span> writes to standard output instead of a local
file.
<!--l. 28--><p class="noindent" >Jobs that use <span class="textit">condor_chirp</span> must have the attribute <span class="texttt">WantIOProxy</span> set to <span class="texttt">True</span> in the job ClassAd. To do this,
place
                                                                                         

                                                                                         
<div class="verbatim" id="verbatim-999">
<tspan font-family="ectt" font-size="1000">+WantIOProxy</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;true</tspan>
</div>
<!--l. 33--><p class="nopar" > in the submit description file of the job.
<!--l. 36--><p class="noindent" ><span class="textit">condor_chirp</span> only works for jobs run in the vanilla, parallel and java universes.
<!--l. 40--><p class="noindent" >
<h4 class="likesubsectionHead"><a 
 id="x102-71100012"></a>Chirp Commands</h4>
     <dl class="description"><dt class="description">
<span class="textbf">fetch&#x00A0;</span><span class="textit">RemoteFileName LocalFileName</span> </dt><dd 
class="description">Copy the <span class="textit">RemoteFileName</span> from the submit machine to the
     execute machine, naming it <span class="textit">LocalFileName</span>.<br 
class="newline" />
     </dd><dt class="description">
<span class="textbf">put</span> [<span class="textbf">-mode&#x00A0;&#x00A0;</span><span class="textit">mode</span>] [<span class="textbf">-perm&#x00A0;&#x00A0;</span><span class="textit">UnixPerm</span>] <span class="textit">LocalFileName</span> <span class="textit">RemoteFileName</span> </dt><dd 
class="description">Copy
     the <span class="textit">LocalFileName</span> from the execute machine to the submit machine, naming it <span class="textit">RemoteFileName</span>. The
     optional <span class="textbf">-perm&#x00A0;</span><span class="textit">UnixPerm</span> argument describes the file access permissions in a Unix format; 660 is an
     example Unix format.
     <!--l. 59--><p class="noindent" >The  optional  <span class="textbf">-mode&#x00A0;</span><span class="textit">mode</span>  argument  is  one  or  more  of  the  following  characters  describing  the
     <span class="textit">RemoteFileName</span> file: <span class="texttt">w</span>, open for writing; <span class="texttt">a</span>, force all writes to append; <span class="texttt">t</span>, truncate before use; <span class="texttt">c</span>, create
     the file, if it does not exist; <span class="texttt">x</span>, fail if <span class="texttt">c</span> is given and the file already exists. <br 
class="newline" />
     </dd><dt class="description">
<span class="textbf">remove&#x00A0;</span><span class="textit">RemoteFileName</span> </dt><dd 
class="description">Remove the <span class="textit">RemoteFileName</span> file from the submit machine.<br 
class="newline" />
     </dd><dt class="description">
<span class="textbf">get_job_attr&#x00A0;</span><span class="textit">JobAttributeName</span> </dt><dd 
class="description">Prints the named job ClassAd attribute to standard output.<br 
class="newline" />
     </dd><dt class="description">
<span class="textbf">set_job_attr&#x00A0;</span><span class="textit">JobAttributeName AttributeValue</span> </dt><dd 
class="description">Sets  the  named  job  ClassAd  attribute  with  the
     given attribute value.<br 
class="newline" />
                                                                                         

                                                                                         
     </dd><dt class="description">
<span class="textbf">get_job_attr_delayed&#x00A0;</span><span class="textit">JobAttributeName</span> </dt><dd 
class="description">Prints  the  named  job  ClassAd  attribute  to  standard
     output, potentially reading the cached value from a recent set_job_attr_delayed.<br 
class="newline" />
     </dd><dt class="description">
<span class="textbf">set_job_attr_delayed&#x00A0;</span><span class="textit">JobAttributeName AttributeValue</span> </dt><dd 
class="description">Sets  the  named  job  ClassAd  attribute
     with the given attribute value, but does not immediately synchronize the value with the submit side.
     It can take 15 minutes before the synchronization occurs. This has much less overhead than the non
     delayed version. With this option, jobs do <span class="emph">not</span> need ClassAd attribute <span class="texttt">WantIOProxy</span> set. With this
     option, job attribute names are restricted to begin with the case sensitive substring <span class="texttt">Chirp</span>. <br 
class="newline" />
     </dd><dt class="description">
<span class="textbf">ulog&#x00A0;</span><span class="textit">Message</span> </dt><dd 
class="description">Appends <span class="textit">Message</span> to the job event log.<br 
class="newline" />
     </dd><dt class="description">
<span class="textbf">read</span> [<span class="textbf">-offset&#x00A0;&#x00A0;</span><span class="textit">offset</span>] [<span class="textbf">-stride&#x00A0;&#x00A0;</span><span class="textit">length skip</span>] <span class="textit">RemoteFileName</span> <span class="textit">Length</span> </dt><dd 
class="description">Read   <span class="textit">Length</span>   bytes   from
     <span class="textit">RemoteFileName</span>. Optionally, implement a stride by starting the read at <span class="textit">offset</span> and reading <span class="textit">length</span>
     bytes with a stride of <span class="textit">skip</span> bytes.<br 
class="newline" />
     </dd><dt class="description">
<span class="textbf">write</span> [<span class="textbf">-offset&#x00A0;&#x00A0;</span><span class="textit">offset</span>] [<span class="textbf">-stride&#x00A0;&#x00A0;</span><span class="textit">length skip</span>] <span class="textit">RemoteFileName</span> <span class="textit">LocalFileName</span> [<span class="textit">numbytes</span> </dt><dd 
class="description">]
     Write the contents of <span class="textit">LocalFileName</span> to <span class="textit">RemoteFileName</span>. Optionally, start writing to the remote file at
     <span class="textit">offset</span> and write <span class="textit">length</span> bytes with a stride of <span class="textit">skip</span> bytes. If the optional <span class="textit">numbytes</span> follows <span class="textit">LocalFileName</span>,
     then the write will halt after <span class="textit">numbytes</span> input bytes have been written. Otherwise, the entire contents
     of <span class="textit">LocalFileName</span> will be written.<br 
class="newline" />
     </dd><dt class="description">
<span class="textbf">rmdir</span> [<span class="textbf">-r</span>] <span class="textit">RemotePath</span> </dt><dd 
class="description">Delete  the  directory  specified  by  <span class="textit">RemotePath</span>.  If  the  optional  <span class="textbf">-r</span> is  specified,
     recursively delete the entire directory.<br 
class="newline" />
     </dd><dt class="description">
<span class="textbf">getdir</span> [<span class="textbf">-l</span>] <span class="textit">RemotePath</span> </dt><dd 
class="description">List the contents of the directory specified by <span class="textit">RemotePath</span>. If <span class="textit">-l</span> is specified, list
     all metadata as well.<br 
class="newline" />
     </dd><dt class="description">
<span class="textbf">whoami</span> </dt><dd 
class="description">Get the user&#8217;s current identity.<br 
class="newline" />
     </dd><dt class="description">
<span class="textbf">whoareyou&#x00A0;</span><span class="textit">RemoteHost</span> </dt><dd 
class="description">Get the identity of <span class="textit">RemoteHost</span>.<br 
class="newline" />
                                                                                         

                                                                                         
     </dd><dt class="description">
<span class="textbf">link</span> [<span class="textbf">-s</span>] <span class="textit">OldRemotePath</span> <span class="textit">NewRemotePath</span> </dt><dd 
class="description">Create
     a hard link from <span class="textit">OldRemotePath</span> to <span class="textit">NewRemotePath</span>. If the optional <span class="textit">-s</span> is specified, create a symbolic
     link instead.<br 
class="newline" />
     </dd><dt class="description">
<span class="textbf">readlink&#x00A0;</span><span class="textit">RemoteFileName</span> </dt><dd 
class="description">Read the contents of the file defined by the symbolic link <span class="textit">RemoteFileName</span>.<br 
class="newline" />
     </dd><dt class="description">
<span class="textbf">stat&#x00A0;</span><span class="textit">RemotePath</span> </dt><dd 
class="description">Get metadata for <span class="textit">RemotePath</span>. Examines the target, if it is a symbolic link.<br 
class="newline" />
     </dd><dt class="description">
<span class="textbf">lstat&#x00A0;</span><span class="textit">RemotePath</span> </dt><dd 
class="description">Get metadata for <span class="textit">RemotePath</span>. Examines the file, if it is a symbolic link.<br 
class="newline" />
     </dd><dt class="description">
<span class="textbf">statfs&#x00A0;</span><span class="textit">RemotePath</span> </dt><dd 
class="description">Get file system metadata for <span class="textit">RemotePath</span>.<br 
class="newline" />
     </dd><dt class="description">
<span class="textbf">access&#x00A0;</span><span class="textit">RemotePath Mode</span> </dt><dd 
class="description">Check  access  permissions  for  <span class="textit">RemotePath</span>.  <span class="textit">Mode</span>  is  one  or  more  of  the
     characters <span class="texttt">r</span>, <span class="texttt">w</span>, <span class="texttt">x</span>, or <span class="texttt">f</span>, representing read, write, execute, and existence, respectively.<br 
class="newline" />
     </dd><dt class="description">
<span class="textbf">chmod&#x00A0;</span><span class="textit">RemotePath UnixPerm</span> </dt><dd 
class="description">Change  the  permissions  of  <span class="textit">RemotePath</span>  to  <span class="textit">UnixPerm</span>.  <span class="textit">UnixPerm</span>
     describes the file access permissions in a Unix format; 660 is an example Unix format. <br 
class="newline" />
     </dd><dt class="description">
<span class="textbf">chown&#x00A0;</span><span class="textit">RemotePath UID GID</span> </dt><dd 
class="description">Change the ownership of <span class="textit">RemotePath</span> to <span class="textit">UID</span> and <span class="textit">GID</span>. Changes the
     target of <span class="textit">RemotePath</span>, if it is a symbolic link.<br 
class="newline" />
     </dd><dt class="description">
<span class="textbf">chown&#x00A0;</span><span class="textit">RemotePath UID GID</span> </dt><dd 
class="description">Change the ownership of <span class="textit">RemotePath</span> to <span class="textit">UID</span> and <span class="textit">GID</span>. Changes the
     link, if <span class="textit">RemotePath</span> is a symbolic link.<br 
class="newline" />
     </dd><dt class="description">
<span class="textbf">truncate&#x00A0;</span><span class="textit">RemoteFileName Length</span> </dt><dd 
class="description">Truncates <span class="textit">RemoteFileName</span> to <span class="textit">Length</span> bytes.<br 
class="newline" />
     </dd><dt class="description">
<span class="textbf">utime&#x00A0;</span><span class="textit">RemotePath AccessTime ModifyTime</span> </dt><dd 
class="description">Change the access to <span class="textit">AccessTime</span> and modification time
     to <span class="textit">ModifyTime</span> of <span class="textit">RemotePath</span>.<br 
class="newline" /></dd></dl>
                                                                                         

                                                                                         
<!--l. 139--><p class="noindent" >
<h4 class="likesubsectionHead"><a 
 id="x102-71200012"></a>Examples</h4>
<!--l. 141--><p class="noindent" >To copy a file from the submit machine to the execute machine while the user job is running, run
                                                                                         

                                                                                         
<div class="verbatim" id="verbatim-1000">
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;condor_chirp</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;fetch</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;remotefile</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;localfile</tspan>
</div>
<!--l. 147--><p class="nopar" >
<!--l. 150--><p class="noindent" >To print to standard output the value of the <span class="texttt">Requirements</span> expression from within a running job,
run
                                                                                         

                                                                                         
<div class="verbatim" id="verbatim-1001">
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;condor_chirp</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;get_job_attr</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;Requirements</tspan>
</div>
<!--l. 156--><p class="nopar" >
<!--l. 159--><p class="noindent" >Note that the remote (submit-side) directory path is relative to the submit directory, and the local (execute-side)
directory is relative to the current directory of the running program.
<!--l. 163--><p class="noindent" >To append the word "foo" to a file called <span class="texttt">RemoteFile</span> on the submit machine, run
                                                                                         

                                                                                         
<div class="verbatim" id="verbatim-1002">
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;echo</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;foo</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;|</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;condor_chirp</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;put</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;-mode</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;wa</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;-</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;RemoteFile</tspan>
</div>
<!--l. 169--><p class="nopar" >
<!--l. 172--><p class="noindent" >To append the message "Hello World" to the job event log, run
                                                                                         

                                                                                         
<div class="verbatim" id="verbatim-1003">
<tspan font-family="ectt" font-size="0800">&#x00A0;</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;condor_chirp</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;ulog</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;"Hello</tspan><tspan font-family="ectt" font-size="0800">&#x00A0;World"</tspan>
</div>
<!--l. 177--><p class="nopar" >
<!--l. 180--><p class="noindent" >
<h4 class="likesubsectionHead"><a 
 id="x102-71300012"></a>Exit Status</h4>
<!--l. 182--><p class="noindent" ><span class="textit">condor_chirp</span> will exit with a status value of 0 (zero) upon success, and it will exit with the value 1 (one) upon
failure.
<!--l. 185--><p class="noindent" >
<h4 class="likesubsectionHead"><a 
 id="x102-71400012"></a>Author</h4>
<!--l. 185--><p class="noindent" >Center for High Throughput Computing, University of Wisconsin&#8211;Madison
<h4 class="likesubsectionHead"><a 
 id="x102-71500012"></a>Copyright</h4>
<!--l. 185--><p class="noindent" >Copyright ©&#x00A0;1990-2019 Center for High Throughput Computing, Computer Sciences Department, University of
Wisconsin-Madison, Madison, WI. All Rights Reserved. Licensed under the Apache License, Version 2.0.
                                                                                         

                                                                                         
                                                                                         

                                                                                         
<!--l. 2--><p class="noindent" ><span style="font-size: 200%;"><a 
href="Condorcheckpoint.html" >&#x21D0;</a></span>&nbsp;<span style="font-size: 200%;"><a 
href="Condorcheckpoint.html#tailCondorcheckpoint.html" >&#x2199;</a></span>&nbsp;<span style="font-size: 200%;"><a 
href="Condorchirp.html" >&#x2191;</a></span>&nbsp;<span style="font-size: 200%;"><a 
href="CommandReferenceManualmanpages.html#Condorchirp.html" >&#x21D1;</a></span>&nbsp;<span style="font-size: 200%;"><a 
href="Condorcod.html" >&#x21D2;</a></span>&nbsp;<a href="contentsname.html">Contents</a>&nbsp;<a href="indexname.html">Index</a><a 
 id="tailCondorchirp.html"></a>  
</body></html> 
