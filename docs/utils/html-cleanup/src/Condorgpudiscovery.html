<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"  
  "http://www.w3.org/TR/html4/loose.dtd">  
<html > 
<head><title>condor_gpu_discovery</title> 
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"> 
<meta name="generator" content="TeX4ht (http://www.tug.org/tex4ht/)"> 
<meta name="originator" content="TeX4ht (http://www.tug.org/tex4ht/)"> 
<!-- 3,sec-filename,next,info,NoFonts,fonts,html --> 
<meta name="src" content="ref.tex"> 
<link rel="stylesheet" type="text/css" href="ref.css"> 
</head><body 
>
<span style="font-size: 200%;"><a 
href="Condorgatherinfo.html" >&#x21D0;</a></span>&nbsp;<span style="font-size: 200%;"><a 
href="Condorgatherinfo.html#tailCondorgatherinfo.html" >&#x2199;</a></span>&nbsp;<span style="font-size: 200%;"><a 
href="#tailCondorgpudiscovery.html">&#x2193;</a></span>&nbsp;<span style="font-size: 200%;"><a 
href="CommandReferenceManualmanpages.html#Condorgpudiscovery.html" >&#x21D1;</a></span>&nbsp;<span style="font-size: 200%;"><a 
href="Condorhistory.html" >&#x21D2;</a></span>&nbsp;<a href="contentsname.html">Contents</a>&nbsp;<a href="indexname.html">Index</a><h3 class="sectionHead"><a 
 id="x115-80800012"></a><span class="textit">condor_gpu_discovery</span></h3>
<div class="sectionTOCS">
</div>
<!--l. 2--><p class="noindent" >Output GPU-related ClassAd attributes  <a 
 id="dx115-808001"></a><a 
 id="dx115-808002"></a>
<!--l. 6--><p class="noindent" >
<h4 class="likesubsectionHead"><a 
 id="x115-80900012"></a>Synopsis</h4>
<!--l. 6--><p class="noindent" ><span class="textbf"><span class="textit">condor_gpu_discovery</span></span> <span class="textbf">-help</span>
<!--l. 9--><p class="noindent" ><span class="textbf"><span class="textit">condor_gpu_discovery</span></span> [<span class="textbf">&#x003C;options&#x003E;</span>]
<!--l. 12--><p class="noindent" >
<h4 class="likesubsectionHead"><a 
 id="x115-81000012"></a>Description</h4>
<!--l. 14--><p class="noindent" ><span class="textit">condor_gpu_discovery</span> outputs ClassAd attributes corresponding to a host&#8217;s GPU capabilities. It can presently
report CUDA and OpenCL devices; which type(s) of device(s) it reports is determined by which libraries, if any, it
can find when it runs; this reflects what GPU jobs will find on that host when they run. (Note that some HTCondor
configuration settings may cause the environment to differ between jobs and the HTCondor daemons in ways that
change library discovery.)
<!--l. 22--><p class="noindent" >If <span class="texttt">CUDA_VISIBLE_DEVICES</span> or <span class="texttt">GPU_DEVICE_ORDINAL</span> is set in the environment when <span class="textit">condor_gpu_discovery</span> is run, it
will report only devices present in the those lists.
<!--l. 26--><p class="noindent" >This tool is not available for MAC OS platforms.
<!--l. 28--><p class="noindent" >With no command line options, the single ClassAd attribute <span class="texttt">DetectedGPUs</span> is printed. If the value is 0, no GPUs
were detected. If one or more GPUS were detected, the value is a string, presented as a comma and space
separated list of the GPUs discovered, where each is given a name further used as the <span class="textit">prefix string</span>
in other attribute names. Where there is more than one GPU of a particular type, the <span class="textit">prefix string</span>
includes an integer value numbering the device; these integer values monotonically increase from 0
(unless otherwise specified in the environment; see above). For example, a discovery of two GPUs may
output
                                                                                         

                                                                                         
<div class="verbatim" id="verbatim-1038">
<tspan font-family="ectt" font-size="1000">DetectedGPUs="CUDA0,</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;CUDA1"</tspan>
</div>
<!--l. 42--><p class="nopar" > Further command line options use <span class="texttt">"CUDA"</span> either with or without one of the integer values 0 or 1 as the <span class="textit">prefix string</span>
in attribute names.
<!--l. 47--><p class="noindent" >
<h4 class="likesubsectionHead"><a 
 id="x115-81100012"></a>Options</h4>
     <dl class="description"><dt class="description">
<span class="textbf">-help</span> </dt><dd 
class="description">Print usage information and exit. <br 
class="newline" />
     </dd><dt class="description">
<span class="textbf">-properties</span> </dt><dd 
class="description">In  addition  to  the  <span class="texttt">DetectedGPUs</span> attribute,  display  some  of  the  attributes  of  the  GPUs.
     Each  of  these  attributes  will  have  a  <span class="textit">prefix string</span>  at  the  beginning  of  its  name.  The  displayed
     CUDA attributes are <span class="texttt">Capability</span>, <span class="texttt">DeviceName</span>, <span class="texttt">DriverVersion</span>, <span class="texttt">ECCEnabled</span>, <span class="texttt">GlobalMemoryMb</span>, and
     <span class="texttt">RuntimeVersion</span>. The displayed Open CL attributes are <span class="texttt">DeviceName</span>, <span class="texttt">ECCEnabled</span>, <span class="texttt">OpenCLVersion</span>,
     and <span class="texttt">GlobalMemoryMb</span>. <br 
class="newline" />
     </dd><dt class="description">
<span class="textbf">-extra</span> </dt><dd 
class="description">Display more attributes of the GPUs. Each of these attribute names will have a <span class="textit">prefix string</span> at the
     beginning of its name. The additional CUDA attributes are <span class="texttt">ClockMhz</span>, <span class="texttt">ComputeUnits</span>, and <span class="texttt">CoresPerCU</span>.
     The additional Open CL attributes are <span class="texttt">ClockMhz</span> and <span class="texttt">ComputeUnits</span>. <br 
class="newline" />
     </dd><dt class="description">
<span class="textbf">-dynamic</span> </dt><dd 
class="description">Display  attributes  of  NVIDIA  devices  that  change  values  as  the  GPU  is  working.  Each  of
     these attribute names will have a <span class="textit">prefix string</span> at the beginning of its name. These are <span class="texttt">FanSpeedPct</span>,
     <span class="texttt">BoardTempC</span>, <span class="texttt">DieTempC</span>, <span class="texttt">EccErrorsSingleBit</span>, and <span class="texttt">EccErrorsDoubleBit</span>. <br 
class="newline" />
     </dd><dt class="description">
<span class="textbf">-mixed</span> </dt><dd 
class="description">When displaying attribute values, assume that the machine has a heterogeneous set of GPUs, so
     always include the integer value in the <span class="textit">prefix string</span>. <br 
class="newline" />
                                                                                         

                                                                                         
     </dd><dt class="description">
<span class="textbf">-device&#x00A0;</span><span class="textit">&#x003C;N&#x003E;</span> </dt><dd 
class="description">Display properties only for GPU device <span class="textit">&#x003C;N&#x003E;</span>, where <span class="textit">&#x003C;N&#x003E;</span> is the integer value defined for the
     <span class="textit">prefix string</span>. This option may be specified more than once; additional <span class="textit">&#x003C;N&#x003E;</span> are listed along with the
     first. This option adds to the devices(s) specified by the environment variables <span class="texttt">CUDA_VISIBLE_DEVICES</span>
     and <span class="texttt">GPU_DEVICE_ORDINAL</span>, if any. <br 
class="newline" />
     </dd><dt class="description">
<span class="textbf">-tag&#x00A0;</span><span class="textit">string</span> </dt><dd 
class="description">Set                      the                      resource                      tag                      portion
     of the intended machine ClassAd attribute <span class="texttt">Detected&#x003C;ResourceTag&#x003E;</span> to be <span class="textit">string</span>. If this option is not
     specified, the resource tag is <span class="texttt">"GPUs"</span>, resulting in attribute name <span class="texttt">DetectedGPUs</span>. <br 
class="newline" />
     </dd><dt class="description">
<span class="textbf">-prefix&#x00A0;</span><span class="textit">str</span> </dt><dd 
class="description">When naming attributes, use <span class="textit">str</span> as the <span class="textit">prefix string</span>. When this option is not specified, the
     <span class="textit">prefix string</span> is either <span class="texttt">CUDA</span> or <span class="texttt">OCL</span>. <br 
class="newline" />
     </dd><dt class="description">
<span class="textbf">-simulate:D,N</span> </dt><dd 
class="description">For testing purposes, assume that N devices of type D were detected. No discovery software
     is invoked. If D is 0, it refers to GeForce GT 330, and a default value for N is 1. If D is 1, it refers to
     GeForce GTX 480, and a default value for N is 2. <br 
class="newline" />
     </dd><dt class="description">
<span class="textbf">-opencl</span> </dt><dd 
class="description">Prefer detection via OpenCL rather than CUDA. Without this option, CUDA detection software
     is invoked first, and no further Open CL software is invoked if CUDA devices are detected. <br 
class="newline" />
     </dd><dt class="description">
<span class="textbf">-cuda</span> </dt><dd 
class="description">Do only CUDA detection. <br 
class="newline" />
     </dd><dt class="description">
<span class="textbf">-nvcuda</span> </dt><dd 
class="description">For Windows platforms only, use a CUDA driver rather than the CUDA run time. <br 
class="newline" />
     </dd><dt class="description">
<span class="textbf">-config</span> </dt><dd 
class="description">Output  in  the  syntax  of  HTCondor  configuration,  instead  of  ClassAd  language.  An  additional
     attribute is produced <span class="texttt">NUM_DETECTED_GPUs</span> which is set to the number of GPUs detected. <br 
class="newline" />
     </dd><dt class="description">
<span class="textbf">-cron</span> </dt><dd 
class="description">This option suppresses the <span class="texttt">DetectedGpus</span> attribute so that the output is suitable for use with <span class="textit">condor_startd</span>
     cron. Combine this option with the <span class="textbf">-dynamic</span> option to periodically refresh the dynamic Gpu
     information such as temperature. For example, to refresh GPU temperatures every 5 minutes
     <br 
class="newline" />
                                                                                         

                                                                                         
     <div class="verbatim" id="verbatim-1039">
     <tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;use</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;FEATURE</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;:</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;StartdCronPeriodic(DYNGPUS,</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;5*60,</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;$(LIBEXEC)/condor_gpu_discovery,</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;-dynamic</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;-cron)</tspan>
     <tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;</tspan>
</div>
     <!--l. 136--><p class="nopar" >
     </dd><dt class="description">
<span class="textbf">-verbose</span> </dt><dd 
class="description">For interactive use of the tool, output extra information to show detection while in progress.
     <br 
class="newline" />
     </dd><dt class="description">
<span class="textbf">-diagnostic</span> </dt><dd 
class="description">Show diagnostic information, to aid in tool development. <br 
class="newline" /></dd></dl>
<!--l. 146--><p class="noindent" >
<h4 class="likesubsectionHead"><a 
 id="x115-81200012"></a>Exit Status</h4>
<!--l. 148--><p class="noindent" ><span class="textit">condor_gpu_discovery</span> will exit with a status value of 0 (zero) upon success, and it will exit with the value 1 (one)
upon failure.
<!--l. 153--><p class="noindent" >
<h4 class="likesubsectionHead"><a 
 id="x115-81300012"></a>Author</h4>
<!--l. 153--><p class="noindent" >Center for High Throughput Computing, University of Wisconsin&#8211;Madison
<h4 class="likesubsectionHead"><a 
 id="x115-81400012"></a>Copyright</h4>
<!--l. 153--><p class="noindent" >Copyright ©&#x00A0;1990-2019 Center for High Throughput Computing, Computer Sciences Department, University of
Wisconsin-Madison, Madison, WI. All Rights Reserved. Licensed under the Apache License, Version 2.0.
                                                                                         

                                                                                         
                                                                                         

                                                                                         
<!--l. 2--><p class="noindent" ><span style="font-size: 200%;"><a 
href="Condorgatherinfo.html" >&#x21D0;</a></span>&nbsp;<span style="font-size: 200%;"><a 
href="Condorgatherinfo.html#tailCondorgatherinfo.html" >&#x2199;</a></span>&nbsp;<span style="font-size: 200%;"><a 
href="Condorgpudiscovery.html" >&#x2191;</a></span>&nbsp;<span style="font-size: 200%;"><a 
href="CommandReferenceManualmanpages.html#Condorgpudiscovery.html" >&#x21D1;</a></span>&nbsp;<span style="font-size: 200%;"><a 
href="Condorhistory.html" >&#x21D2;</a></span>&nbsp;<a href="contentsname.html">Contents</a>&nbsp;<a href="indexname.html">Index</a><a 
 id="tailCondorgpudiscovery.html"></a>  
</body></html> 
