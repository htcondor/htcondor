<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"  
  "http://www.w3.org/TR/html4/loose.dtd">  
<html > 
<head><title>condor_advertise</title> 
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"> 
<meta name="generator" content="TeX4ht (http://www.tug.org/tex4ht/)"> 
<meta name="originator" content="TeX4ht (http://www.tug.org/tex4ht/)"> 
<!-- 3,sec-filename,next,info,NoFonts,fonts,html --> 
<meta name="src" content="ref.tex"> 
<link rel="stylesheet" type="text/css" href="ref.css"> 
</head><body 
>
<span style="font-size: 200%;"><a 
href="Boscouninstall.html" >&#x21D0;</a></span>&nbsp;<span style="font-size: 200%;"><a 
href="Boscouninstall.html#tailBoscouninstall.html" >&#x2199;</a></span>&nbsp;<span style="font-size: 200%;"><a 
href="#tailCondoradvertise.html">&#x2193;</a></span>&nbsp;<span style="font-size: 200%;"><a 
href="CommandReferenceManualmanpages.html#Condoradvertise.html" >&#x21D1;</a></span>&nbsp;<span style="font-size: 200%;"><a 
href="Condorannex.html" >&#x21D2;</a></span>&nbsp;<a href="contentsname.html">Contents</a>&nbsp;<a href="indexname.html">Index</a><h3 class="sectionHead"><a 
 id="x98-67600012"></a><span class="textit">condor_advertise</span></h3>
<div class="sectionTOCS">
</div>
<!--l. 2--><p class="noindent" >Send a ClassAd to the <span class="textit">condor_collector</span> daemon  <a 
 id="dx98-676001"></a><a 
 id="dx98-676002"></a>
<!--l. 6--><p class="noindent" >
<h4 class="likesubsectionHead"><a 
 id="x98-67700012"></a>Synopsis</h4>
<!--l. 6--><p class="noindent" ><span class="textbf"><span class="textit">condor_advertise</span></span>  [<span class="textbf">-help | -version</span>]
<!--l. 9--><p class="noindent" ><span class="textbf"><span class="textit">condor_advertise</span></span> [<span class="textbf">-pool&#x00A0;&#x00A0;</span><span class="textit">centralmanagerhostname[:portname]</span>] [<span class="textbf">-debug</span>] [<span class="textbf">-tcp</span>] [<span class="textbf">-udp</span>] [<span class="textbf">-multiple</span>]
[<span class="textit">update-command [<span class="textit">classad-filename</span>]</span>]
<!--l. 17--><p class="noindent" >
<h4 class="likesubsectionHead"><a 
 id="x98-67800012"></a>Description</h4>
<!--l. 18--><p class="noindent" ><span class="textit">condor_advertise</span> sends one or more ClassAds to the <span class="textit">condor_collector</span> daemon on the central manager machine.
The optional argument <span class="textit">update-command</span> says what daemon type&#8217;s ClassAd is to be updated; if it is absent, it
assumed to be the update command corresponding to the type of the (first) ClassAd. The optional argument
<span class="textit">classad-filename</span> is the file from which the ClassAd(s) should be read. If <span class="textit">classad-filename</span> is omitted or is the dash
character (&#8217;-&#8217;), then the ClassAd(s) are read from standard input. You must specify <span class="textit">update-command</span> if you do not
want to read from standard input.
<!--l. 30--><p class="noindent" >When <span class="textbf">-multiple</span> is specified, multiple ClassAds may be published. Publishing many ClassAds in a single invocation
of <span class="textit">condor_advertise</span> is more efficient than invoking <span class="textit">condor_advertise</span> once per ClassAd. The ClassAds are expected
to be separated by one or more blank lines. When <span class="textbf">-multiple</span> is not specified, blank lines are ignored (for
backward compatibility). It is best not to rely on blank lines being ignored, as this may change in the
future.
<!--l. 39--><p class="noindent" >The <span class="textit">update-command</span> may be one of the following strings:
     <dl class="description"><dt class="description">
                                                                                         

                                                                                         
UPDATE_STARTD_AD </dt><dd 
class="description">
     </dd><dt class="description">
UPDATE_SCHEDD_AD </dt><dd 
class="description">
     </dd><dt class="description">
UPDATE_MASTER_AD </dt><dd 
class="description">
     </dd><dt class="description">
UPDATE_GATEWAY_AD </dt><dd 
class="description">
     </dd><dt class="description">
UPDATE_CKPT_SRVR_AD </dt><dd 
class="description">
     </dd><dt class="description">
UPDATE_NEGOTIATOR_AD </dt><dd 
class="description">
     </dd><dt class="description">
UPDATE_HAD_AD </dt><dd 
class="description">
     </dd><dt class="description">
UPDATE_AD_GENERIC </dt><dd 
class="description">
     </dd><dt class="description">
UPDATE_SUBMITTOR_AD </dt><dd 
class="description">
     </dd><dt class="description">
UPDATE_COLLECTOR_AD </dt><dd 
class="description">
     </dd><dt class="description">
UPDATE_LICENSE_AD </dt><dd 
class="description">
     </dd><dt class="description">
UPDATE_STORAGE_AD </dt><dd 
class="description"></dd></dl>
<!--l. 55--><p class="noindent" ><span class="textit">condor_advertise</span> can also be used to invalidate and delete ClassAds currently held by the <span class="textit">condor_collector</span>
daemon. In this case the <span class="textit">update-command</span> will be one of the following strings:
     <dl class="description"><dt class="description">
INVALIDATE_STARTD_ADS </dt><dd 
class="description">
     </dd><dt class="description">
INVALIDATE_SCHEDD_ADS </dt><dd 
class="description">
     </dd><dt class="description">
INVALIDATE_MASTER_ADS </dt><dd 
class="description">
     </dd><dt class="description">
INVALIDATE_GATEWAY_ADS </dt><dd 
class="description">
                                                                                         

                                                                                         
     </dd><dt class="description">
INVALIDATE_CKPT_SRVR_ADS </dt><dd 
class="description">
     </dd><dt class="description">
INVALIDATE_NEGOTIATOR_ADS </dt><dd 
class="description">
     </dd><dt class="description">
INVALIDATE_HAD_ADS </dt><dd 
class="description">
     </dd><dt class="description">
INVALIDATE_ADS_GENERIC </dt><dd 
class="description">
     </dd><dt class="description">
INVALIDATE_SUBMITTOR_ADS </dt><dd 
class="description">
     </dd><dt class="description">
INVALIDATE_COLLECTOR_ADS </dt><dd 
class="description">
     </dd><dt class="description">
INVALIDATE_LICENSE_ADS </dt><dd 
class="description">
     </dd><dt class="description">
INVALIDATE_STORAGE_ADS </dt><dd 
class="description"></dd></dl>
<!--l. 73--><p class="noindent" >For any of these INVALIDATE commands, the ClassAd in the required file consists of three entries. The file
contents will be similar to:
                                                                                         

                                                                                         
<div class="verbatim" id="verbatim-992">
<tspan font-family="ectt" font-size="1000">MyType</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;"Query"</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">TargetType</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;"Machine"</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">Requirements</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;Name</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;==</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;"condor.example.com"</tspan>
</div>
<!--l. 80--><p class="nopar" > The definition for <span class="texttt">MyType</span> is always <span class="texttt">Query</span>. <span class="texttt">TargetType</span> is set to the <span class="texttt">MyType</span> of the ad to be deleted. This <span class="texttt">MyType</span> is
<span class="texttt">DaemonMaster</span> for the <span class="textit">condor_master</span> ClassAd, <span class="texttt">Machine</span> for the <span class="textit">condor_startd</span> ClassAd, <span class="texttt">Scheduler</span> for the
<span class="textit">condor_schedd</span> ClassAd, and <span class="texttt">Negotiator</span> for the <span class="textit">condor_negotiator</span> ClassAd. <span class="texttt">Requirements</span> is an expression
evaluated within the context of ads of <span class="texttt">TargetType</span>. When <span class="texttt">Requirements</span> evaluates to <span class="texttt">True</span>, the matching ad is
invalidated. A full example is given below.
<!--l. 95--><p class="noindent" >
<h4 class="likesubsectionHead"><a 
 id="x98-67900012"></a>Options</h4>
     <dl class="description"><dt class="description">
<span class="textbf">-help</span> </dt><dd 
class="description">Display usage information<br 
class="newline" />
     </dd><dt class="description">
<span class="textbf">-version</span> </dt><dd 
class="description">Display version information<br 
class="newline" />
     </dd><dt class="description">
<span class="textbf">-debug</span> </dt><dd 
class="description">Print debugging information as the command executes.<br 
class="newline" />
     </dd><dt class="description">
<span class="textbf">-multiple</span> </dt><dd 
class="description">Send more than one ClassAd, where the boundary between ClassAds is one or more blank lines.<br 
class="newline" />
     </dd><dt class="description">
<span class="textbf">-pool&#x00A0;</span><span class="textit">centralmanagerhostname[:portname]</span> </dt><dd 
class="description">Specify a pool by giving the central manager&#8217;s host name
     and an optional port number. The default is the <span class="texttt">COLLECTOR_HOST</span> specified in the configuration file.<br 
class="newline" />
     </dd><dt class="description">
<span class="textbf">-tcp</span> </dt><dd 
class="description">Use TCP for communication. Used by default if <span class="texttt">UPDATE_COLLECTOR_WITH_TCP</span> is true.<br 
class="newline" />
                                                                                         

                                                                                         
     </dd><dt class="description">
<span class="textbf">-udp</span> </dt><dd 
class="description">Use UDP for communication.<br 
class="newline" /></dd></dl>
<!--l. 112--><p class="noindent" >
<h4 class="likesubsectionHead"><a 
 id="x98-68000012"></a>General Remarks</h4>
<!--l. 113--><p class="noindent" >The job and machine ClassAds are regularly updated. Therefore, the result of <span class="textit">condor_advertise</span> is likely to be
overwritten in a very short time. It is unlikely that either HTCondor users (those who submit jobs) or
administrators will ever have a use for this command. If it is desired to update or set a ClassAd attribute, the
<span class="textit">condor_config_val</span> command is the proper command to use.
<!--l. 121--><p class="noindent" >Attributes are defined in Appendix A of the HTCondor manual.
<!--l. 124--><p class="noindent" >For those administrators who do need <span class="textit">condor_advertise</span>, the following attributes may be included:
     <dl class="description"><dt class="description">
<span class="texttt">DaemonStartTime</span> </dt><dd 
class="description">
     </dd><dt class="description">
<span class="texttt">UpdateSequenceNumber</span> </dt><dd 
class="description"></dd></dl>
<!--l. 132--><p class="noindent" >If both of the above are included, the <span class="textit">condor_collector</span> will automatically include the following attributes:
     <dl class="description"><dt class="description">
<span class="texttt">UpdatesTotal</span> </dt><dd 
class="description">
     </dd><dt class="description">
<span class="texttt">UpdatesLost</span> </dt><dd 
class="description">
     </dd><dt class="description">
<span class="texttt">UpdatesSequenced</span> </dt><dd 
class="description">
     </dd><dt class="description">
<span class="texttt">UpdatesHistory</span> </dt><dd 
class="description">Affected by <span class="texttt">COLLECTOR_DAEMON_HISTORY_SIZE</span> <a 
 id="dx98-680001"></a><a 
 id="dx98-680002"></a>.</dd></dl>
                                                                                         

                                                                                         
<!--l. 142--><p class="noindent" >
<h4 class="likesubsectionHead"><a 
 id="x98-68100012"></a>Examples</h4>
<!--l. 144--><p class="noindent" >Assume that a machine called condor.example.com is turned off, yet its <span class="textit">condor_startd</span> ClassAd does not expire for
another 20 minutes. To avoid this machine being matched, an administrator chooses to delete the machine&#8217;s
<span class="textit">condor_startd</span> ClassAd. Create a file (called <span class="texttt">remove_file</span> in this example) with the three required
attributes:
                                                                                         

                                                                                         
<div class="verbatim" id="verbatim-993">
<tspan font-family="ectt" font-size="1000">MyType</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;"Query"</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">TargetType</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;"Machine"</tspan>
<tspan font-family="ectt" font-size="1000">&#x00A0;</tspan><br /><tspan font-family="ectt" font-size="1000">Requirements</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;=</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;Name</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;==</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;"condor.example.com"</tspan>
</div>
<!--l. 154--><p class="nopar" >
<!--l. 156--><p class="noindent" >This file is used with the command:
                                                                                         

                                                                                         
<div class="verbatim" id="verbatim-994">
<tspan font-family="ectt" font-size="1000">%</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;condor_advertise</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;INVALIDATE_STARTD_ADS</tspan><tspan font-family="ectt" font-size="1000">&#x00A0;remove_file</tspan>
</div>
<!--l. 159--><p class="nopar" >
<!--l. 161--><p class="noindent" >
<h4 class="likesubsectionHead"><a 
 id="x98-68200012"></a>Exit Status</h4>
<!--l. 163--><p class="noindent" ><span class="textit">condor_advertise</span> will exit with a status value of 0 (zero) upon success, and it will exit with the value 1 (one) upon
failure. Success means that all ClassAds were successfully sent to all <span class="textit">condor_collector</span> daemons. When there are
multiple ClassAds or multiple <span class="textit">condor_collector</span> daemons, it is possible that some but not all publications succeed; in
this case, the exit status is 1, indicating failure.
<!--l. 171--><p class="noindent" >
<h4 class="likesubsectionHead"><a 
 id="x98-68300012"></a>Author</h4>
<!--l. 171--><p class="noindent" >Center for High Throughput Computing, University of Wisconsin&#8211;Madison
<h4 class="likesubsectionHead"><a 
 id="x98-68400012"></a>Copyright</h4>
<!--l. 171--><p class="noindent" >Copyright ©&#x00A0;1990-2019 Center for High Throughput Computing, Computer Sciences Department, University of
Wisconsin-Madison, Madison, WI. All Rights Reserved. Licensed under the Apache License, Version 2.0.
                                                                                         

                                                                                         
                                                                                         

                                                                                         
<!--l. 2--><p class="noindent" ><span style="font-size: 200%;"><a 
href="Boscouninstall.html" >&#x21D0;</a></span>&nbsp;<span style="font-size: 200%;"><a 
href="Boscouninstall.html#tailBoscouninstall.html" >&#x2199;</a></span>&nbsp;<span style="font-size: 200%;"><a 
href="Condoradvertise.html" >&#x2191;</a></span>&nbsp;<span style="font-size: 200%;"><a 
href="CommandReferenceManualmanpages.html#Condoradvertise.html" >&#x21D1;</a></span>&nbsp;<span style="font-size: 200%;"><a 
href="Condorannex.html" >&#x21D2;</a></span>&nbsp;<a href="contentsname.html">Contents</a>&nbsp;<a href="indexname.html">Index</a><a 
 id="tailCondoradvertise.html"></a>  
</body></html> 
