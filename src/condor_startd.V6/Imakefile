NAME = condor_startd
all_target( $(NAME) )

#if IS_SGI_IRIX62
#undef MldLib
#define MldLib /usr/lib/libelf.a
#endif 

# Use "-O2" in CFLAGS for benchmark code, i.e. clinpack.c & dhry*.c
CFLAGS = $(STD_C_FLAGS) -O2 
C_PLUS_FLAGS = $(STD_C_PLUS_FLAGS)
LDFLAGS = SocketLib RpcLib MldLib KernLib
LIB= $(DAEMONCORE_LIB) $(STD_LIBS)

#if IS_ALPHA_OSF1
#	define LOAD_AVG_OBJ load_avg.OSF1.o
#elif IS_LINUX
#	define LOAD_AVG_OBJ load_avg.LINUX.o
#elif IS_SOLARIS
#       define LOAD_AVG_OBJ load_avg.Solaris.o load_avg.uptime.o
#elif IS_SGI_IRIX62 || IS_SGI_IRIX53
#       define LOAD_AVG_OBJ load_avg.IRIX.o load_avg.uptime.o
#elif IS_HPUX
#	define LOAD_AVG_OBJ load_avg.HPUX.o
#endif

OBJ = LoadQueue.o Match.o Reqexp.o ResAttributes.o ResMgr.o ResState.o \
	Resource.o Starter.o calc.o command.o LOAD_AVG_OBJ main.o util.o \
	clinpack.o dhry21a.o dhry21b.o timers_b.o setsyscalls.o 

c_plus_target($(NAME),$(OBJ),$(LIB))
release_target($(NAME),$(RELEASE_DIR)/sbin,EXECUTABLE_MODE)
strip_target($(NAME),$(STRIP_DIR)/sbin,EXECUTABLE_MODE)
static_target($(NAME),$(OBJ),$(LIB),$(STATIC_DIR)/sbin)
pure_c_plus_target($(NAME).pure,$(OBJ),$(LIB))
purecov_c_plus_target($(NAME).pc,$(OBJ),$(LIB))
quantify_c_plus_target($(NAME).quantify,$(OBJ),$(LIB))

html:

IMPORT_LINKS = ../../config/import_links
import(../condor_util_lib, setsyscalls.o )
