NAME = condor_job_router

all_target( $(NAME) )

NEW_CLASSADS_LINK =  -L$(NEW_CLASSADS_LIB) -lclassad_ns
SCHEDD_INCLUDES = -I$(NEW_CLASSADS_INC)
SCHEDD_FLAGS = $(SCHEDD_INCLUDES)
SCHEDD_LIBS = $(NEW_CLASSADS_LINK)

CFLAGS = $(STD_C_FLAGS) $(SCHEDD_FLAGS)
C_PLUS_FLAGS = $(STD_C_PLUS_FLAGS) $(SCHEDD_FLAGS)
INST_C_PLUS_FLAGS = $(STD_C_FLAGS) $(GPP_VERS_FLAGS) $(SCHEDD_FLAGS)
LIB = $(DAEMONCORE_LIB) $(STD_LIBS) $(SCHEDD_LIBS) $(CONFIGURE_GSOAP_LDFLAGS)

QUILL_OBJS = ../condor_quill/prober.o ../condor_quill/classadlogparser.o ../condor_quill/classadlogentry.o

soapobjs(job_router)

OBJ = classad_newold.o submit_job.o VanillaToGrid.o JobRouter.o JobLogReader.o Scheduler.o schedd_main.o schedd_v7_utils.o $(QUILL_OBJS) $(SOAP_OBJS)

template_inst( JobRouter.C, JobRouter.o )

c_plus_target($(VANILLATOGRID),$(VANILLATOGRID_OBJS),$(VANILLATOGRID_LIB))
public_c_plus_target($(NAME),libexec,$(OBJ),$(LIB))

public_copy_target(condor_router_q,bin,condor_router_q,EXECUTABLE_MODE)
public_copy_target(condor_router_rm,bin,condor_router_rm,EXECUTABLE_MODE)
public_copy_target(condor_router_history,bin,condor_router_history,EXECUTABLE_MODE)

html:
release:: all
stripped:: all
static:: all
clean::
testbin:: all

gen_soapfiles(job_router,condorJobRouter)
