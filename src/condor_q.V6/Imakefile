NAME = condor_q
all_target($(NAME))

#if WANT_CLASSAD_ANALYSIS
ANALYSIS_FLAGS = -DWANT_CLASSAD_ANALYSIS -I$(NEW_CLASSADS_INC)
ANALYSIS_LIBS  = ../classad_analysis/libanalysis.a ../classad_analysis/libconversion.a -L$(NEW_CLASSADS_LIB) -lclassad_ns
#else
ANALYSIS_FLAGS = 
ANALYSIS_LIBS  = 
#endif

CFLAGS = $(ANALYSIS_FLAGS) $(STD_C_FLAGS)
C_PLUS_FLAGS = $(ANALYSIS_FLAGS) $(STD_C_PLUS_FLAGS)
LIB = $(ANALYSIS_LIBS) $(STD_LIBS)
OBJ = queue.o queue_instantiate.o

c_plus_target($(NAME),$(OBJ),$(LIB))
release_target($(NAME),bin,EXECUTABLE_MODE)
strip_target($(NAME),bin,EXECUTABLE_MODE)
static_target($(NAME),$(OBJ),$(LIB),$(STATIC_DIR)/bin)
pure_c_plus_target($(NAME).pure,$(OBJ),$(LIB))
purecov_c_plus_target($(NAME).pc,$(OBJ),$(LIB))

html:

#if HAS_CONDOR_ANALYZE
release_copy_target($(CONDOR_ANALYZE_RELEASE),bin,condor_analyze,EXECUTABLE_MODE)
strip_copy_target($(CONDOR_ANALYZE_STRIP),bin,condor_analyze,EXECUTABLE_MODE)
#if HAS_STATIC
static_copy_target($(CONDOR_ANALYZE_STATIC),bin,condor_analyze,EXECUTABLE_MODE)
#endif /* HAS_STATIC */
#endif /* HAS_CONDOR_ANALYZE */
