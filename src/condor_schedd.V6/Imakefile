NAME = condor_schedd
all_target(libqmgmt.a $(NAME))

C_PLUS_FLAGS = $(STD_C_PLUS_FLAGS)
CFLAGS = $(STD_C_FLAGS)

LIB= $(DAEMONCORE_LIB) $(STD_LIBS)

QMGMT_OBJ = qmgmt.o qmgmt_receivers.o qmgmt_common.o
QMGMT_LIB_OBJ = qmgmt_send_stubs.o qmgr_lib_support.o qmgmt_common.o \
	qmgr_job_updater.o

soapobjs(schedd)

OBJ = schedd.o schedd_main.o $(QMGMT_OBJ) schedd_instantiate.o \
	dedicated_scheduler.o grid_universe.o shadow_mgr.o autocluster.o \
	loose_file_transfer.o schedd_api.o $(SOAP_OBJS)

schedd_api.C: soap_scheddH.h ../condor_c++_util/soap_helpers.cpp

soap_scheddStub.C: ../condor_c++_util/soap_helpers.cpp

schedd_instantiate.C: soap_scheddH.h

$(QMGMT_LIB) : libqmgmt.a

library_target(libqmgmt.a,$(QMGMT_LIB_OBJ))

c_plus_target($(NAME),$(OBJ),$(LIB))
release_target($(NAME),sbin,EXECUTABLE_MODE)
strip_target($(NAME),sbin,EXECUTABLE_MODE)
static_target($(NAME),$(OBJ),$(LIB),$(STATIC_DIR)/sbin)
pure_c_plus_target($(NAME).pure,$(OBJ),$(LIB))
purecov_c_plus_target($(NAME).pc,$(OBJ),$(LIB))

c_plus_target(qmgr_test,qmgr_test.o libqmgmt.a,$(LIB))

html_target( documentation )

gen_soapfiles(schedd,condorSchedd)

