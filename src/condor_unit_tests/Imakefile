all_target(condor_unit_tests test_daemon_core)

C_PLUS_FLAGS = $(STD_C_PLUS_FLAGS) $(CONFIGURE_PCRE_CFLAGS)
CFLAGS = $(STD_C_FLAGS) $(CONFIGURE_PCRE_CFLAGS)
LIB = $(STD_LIBS) $(CONFIGURE_PCRE_LDFLAGS)

OBJ = FTEST_string_to_sin.o FTEST_sin_to_string.o FTEST_getHostFromAddr.o \
	  FTEST_getPortFromAddr.o FTEST_host_in_domain.o FTEST_is_ipaddr.o \
	  FTEST_is_valid_network.o FTEST_is_valid_sinful.o FTEST_string_to_port.o \
	  FTEST_string_to_hostname.o FTEST_string_to_ip.o OTEST_HashTable.o \
	  FTEST_strupr.o FTEST_strlwr.o FTEST_basename.o FTEST_dirname.o \
	  FTEST_fullpath.o OTEST_MyString.o FTEST_flatten_and_inline.o \
	  OTEST_StringList.o FTEST_stl_string_utils.o OTEST_Old_Classads.o \
	  OTEST_Env.o OTEST_FileLock.o OTEST_ArgList.o OTEST_Iso_Dates.o \
	  OTEST_UserPolicy.o FTEST_condor_ipv6.o

UNIT_TEST_DEPENDENCY_OBJ = emit.o function_test_driver.o unit_tests.o \
	unit_test_utils.o 

c_plus_target(condor_unit_tests,$(UNIT_TEST_DEPENDENCY_OBJ) $(OBJ),$(LIB))

testbin_target(condor_unit_tests,755)
testbin_target(test_daemon_core,755)

c_plus_target(test_daemon_core,test_daemon_core.o, $(DAEMONCORE_LIB) $(LIB))

release:: all
stripped:: all
static:: all
testbin:: all
